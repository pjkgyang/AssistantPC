webpackJsonp([86],{"D+xd":function(t,e){},uQ9K:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("t5DY"),a("mmiC");var n=a("oFuF"),s=a("aCns"),r={data:function(){return{gczdList:[],xmlxList:[],xmlx:"",gczd:"",dataList:{},headList:[],periodList:[{mc:"本日",label:1},{mc:"本周",label:2},{mc:"本月",label:3},{mc:"本年",label:4},{mc:"全部",label:5}],filterWord:{period:1},userInfo:{},currentPage:1,pageSize:20,dateType:0,startDate:"",endDate:"",startDateFw:"",endDateFw:""}},props:{},methods:{exportTable:function(){var t=0==this.dateType?this.startDate:this.startDateFw,e=0==this.dateType?this.endDate:this.endDateFw;window.open(window.baseurl+"report/exportQuestionProgressSummaryReport.do?startDate="+t+"&endDate="+e+"&dwbh="+this.$route.query.bh)},handleXxwt:function(t,e,a){var n={userQuestionStartDt:0==this.dateType?this.startDate:this.startDateFw,userQuestionEndDt:0==this.dateType?this.endDate:this.endDateFw,dwbh:this.$route.query.bh,cpbh:t[0]};if(-1!=a[e].en.indexOf(",")){var s=a[e].en.split(",")[0],r=a[e].en.split(",")[1];n[s]=r}var i=this.$router.resolve({path:"/report-list/detail.html",query:n});window.open(i.href,"_blank")},handleSearchDate:function(){this.currentPage=1,this.questionProgressSummaryReport()},handleChangeStartDate:function(t){this.startDateFw=t},handleChangeEndDate:function(t){this.endDateFw=t},handleChooseDate:function(t){this.dateType=t,this.currentPage=1,this.questionProgressSummaryReport()},hanleCheckDateZq:function(t){switch(this.filterWord.period=t,t){case 1:this.startDate=this.endDate=Object(n.b)(0);break;case 2:this.startDate=0==new Date(Date.now()).getDay()?Object(n.b)(-6):1==new Date(Date.now()).getDay()?Object(n.b)(0):Object(n.b)(-(new Date(Date.now()).getDay()-1)),this.endDate=0==new Date(Date.now()).getDay()?Object(n.b)(0):Object(n.b)(7-new Date(Date.now()).getDay());break;case 3:this.startDate=(new Date).getFullYear()+"-"+((new Date).getMonth()+1<10?"0"+((new Date).getMonth()+1):(new Date).getMonth()+1)+"-01",this.endDate=Object(n.h)((new Date).getFullYear(),(new Date).getMonth()+1);break;case 4:this.startDate=(new Date).getFullYear()+"-01-01",this.endDate=(new Date).getFullYear()+"-12-31";break;case 5:this.startDate="2018-01-01",this.endDate=Object(n.b)(0)}this.currentPage=1,this.questionProgressSummaryReport()},handleCurrentChange:function(t){this.currentPage=t,this.questionProgressSummaryReport()},questionProgressSummaryReport:function(t){var e=this;this.$get(this.API.questionProgressSummaryReport,{startDate:0==this.dateType?this.startDate:this.startDateFw,endDate:0==this.dateType?this.endDate:this.endDateFw,dwbh:this.$route.query.bh?this.$route.query.bh:this.userInfo.unitnum}).then(function(t){"success"==t.state?e.dataList=t.data:e.$alert(t.msg,"提示",{confirmButtonText:"确定",type:"error"})})}},mounted:function(){this.dateType=0,this.startDate=this.endDate=Object(n.b)(0),this.$route.query.bh?(this.startDateFw="2018-01-10",this.endDateFw=Object(n.b)(0)):this.startDateFw=this.endDateFw=Object(n.b)(0),this.userInfo=JSON.parse(sessionStorage.getItem("userInfo")),this.questionProgressSummaryReport()},activated:function(){},watch:{},components:{filterComponent:a("NxvJ").a,tableComponents:s.a}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{padding:"15px 0"}},[a("div",{attrs:{flex:""}},[a("p",{staticClass:"query-title"},[t._v("时间格式选择:")]),t._v(" "),a("p",{attrs:{flex:""}},[a("el-button",{attrs:{type:0==t.dateType?"primary":"default",size:"mini"},on:{click:function(e){t.handleChooseDate(0)}}},[t._v("按周期")]),t._v(" "),a("el-button",{attrs:{type:1==t.dateType?"primary":"default",size:"mini"},on:{click:function(e){t.handleChooseDate(1)}}},[t._v("按时间段")])],1)]),t._v(" "),a("br"),t._v(" "),0==t.dateType?a("div",{attrs:{flex:""}},[a("p",{staticClass:"query-title"},[t._v("周期:")]),t._v(" "),a("p",{staticClass:"query-list"},t._l(t.periodList,function(e,n){return a("span",{key:n,class:{"bg-active":t.filterWord.period==e.label},on:{click:function(a){t.hanleCheckDateZq(e.label)}}},[t._v("\n\t\t\t\t\t"+t._s(e.mc)+"\n\t\t\t\t")])}))]):t._e(),t._v(" "),1==t.dateType?a("div",{attrs:{flex:""}},[a("p",{staticClass:"query-title"},[t._v("提问时间:")]),t._v(" "),a("p",[a("el-date-picker",{attrs:{size:"mini",type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},on:{change:t.handleChangeStartDate},model:{value:t.startDateFw,callback:function(e){t.startDateFw=e},expression:"startDateFw"}}),t._v("\n\t\t\t\t至\n\t\t\t\t"),a("el-date-picker",{attrs:{size:"mini",type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},on:{change:t.handleChangeEndDate},model:{value:t.endDateFw,callback:function(e){t.endDateFw=e},expression:"endDateFw"}}),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.handleSearchDate}},[t._v("查询")])],1)]):t._e()]),t._v(" "),a("div",[a("tableComponents",{attrs:{tableData:t.dataList,pageShow:!1,currentPage:t.currentPage,pageSize:t.pageSize,widthArr:[1,12],rowWidth:"100",Width:"60",Height:250,indexArr:[]},on:{handleCurrentChange:t.handleCurrentChange,exportTable:t.exportTable,handleXxwt:t.handleXxwt}})],1)])},staticRenderFns:[]};var o=a("Z0/y")(r,i,!1,function(t){a("D+xd")},null,null);e.default=o.exports}});
//# sourceMappingURL=86.81201f4f40efd8551a29.js.map