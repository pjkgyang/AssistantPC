{"version":3,"sources":["webpack:///src/views/xmgl/fbEdit.vue","webpack:///./src/views/xmgl/fbEdit.vue?d827","webpack:///./src/views/xmgl/fbEdit.vue"],"names":["fbEdit","data","height","window","innerHeight","currentPage","pageSize","records","filterData","keyword","gcdq","shzt","gcdqList","label","id","sfshList","tableData","fbbhList","userGroup","mounted","this","getFbshList","JSON","parse","sessionStorage","getItem","userGroupTag","methods","handleSelectionChange","val","_this","forEach","ele","push","fbbh","closeFb","_this2","$confirm","cancelButtonText","confirmButtonText","type","then","$post","API","join","res","state","$message","message","msg","catch","handleSearch","handleExport","open","baseurl","CheckGcdz","params","CheckSfsh","handleCurrentChange","handleSizeChange","handleClick","routeData","$router","resolve","path","query","xmbh","xmmc","href","_routeData","r","_this3","$get","fbManage","curPage","isfb","rows","xmgl_fbEdit","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","flex","staticStyle","padding","margin-right","_v","width","placeholder","prefix-icon","size","on","change","model","value","callback","$$v","$set","expression","click","indexOf","margin","_l","index","key","class","bg-active","$event","_s","_e","sfsh","disabled","length","max-height","border","selection-change","fixed","scopedSlots","_u","fn","scope","row","fbzt","prop","min-width","show-overflow-tooltip","current-page","page-sizes","page-size","layout","total","size-change","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/91.07534b809ab66f164a13.js","sourcesContent":["<template>\n\t<div class=\"project_fbsh\">\n\t\t<div flex>\n\t\t\t<span class=\"query-title\" style=\"padding:2px 4px;margin-right:10px\">高级查询:</span>\n\t\t\t<el-input\n\t\t\t\tstyle=\"width:500px\"\n\t\t\t\tclass=\"search-input\"\n\t\t\t\tplaceholder=\"请输入项目编号/项目名称/合同编号/项目经理/学校\"\n\t\t\t\tprefix-icon=\"el-icon-search\"\n\t\t\t\tsize=\"small\"\n\t\t\t\tv-model=\"filterData.keyword\"\n\t\t\t\t@change=\"handleSearch\"\n\t\t\t></el-input>\n\t\t\t&#x3000;\n\t\t\t<el-button type=\"primary\" size=\"mini\" @click=\"handleSearch\">搜索</el-button>\n\t\t\t<el-button type=\"primary\" size=\"mini\" @click=\"handleExport\">导出</el-button>\n\t\t</div>\n\n\t\t<div flex style=\"margin:10px 0;\" v-if=\"userGroup.indexOf('JYGL') != -1\">\n\t\t\t<span class=\"query-title\">工程大区:</span>\n\t\t\t<p class=\"query-list\" style=\"width:90%\">\n\t\t\t\t<span v-for=\"(gcdq, index) in gcdqList\" :key=\"index\" :class=\"{ 'bg-active': gcdq.id == filterData.gcdq }\" @click=\"CheckGcdz(gcdq.id)\">{{ gcdq.label }}</span>\n\t\t\t</p>\n\t\t</div>\n\n\t\t<div flex>\n\t\t\t<span class=\"query-title\">是否审核:</span>\n\t\t\t<p class=\"query-list\">\n\t\t\t\t<span v-for=\"sfsh in sfshList\" :class=\"{ 'bg-active': sfsh.id == filterData.shzt }\" :key=\"sfsh.id\" @click=\"CheckSfsh(sfsh.id)\">{{ sfsh.label }}</span>\n\t\t\t</p>\n\t\t</div>\n\t\t<br />\n\t\t<el-button :disabled=\"!fbbhList.length\" size=\"mini\" type=\"danger\" @click=\"closeFb\">关闭分包</el-button>\n\t\t<br />\n\t\t<br />\n\t\t<div>\n\t\t\t<el-table :max-height=\"height\" :data=\"tableData\" @selection-change=\"handleSelectionChange\" border style=\"width: 100%\">\n\t\t\t\t<el-table-column type=\"selection\" width=\"55\"></el-table-column>\n\t\t\t\t<el-table-column fixed=\"left\" label=\"操作\" width=\"120\">\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<!-- 02 审核中  04 审核未通过 -->\n\t\t\t\t\t\t<el-button :disabled=\"scope.row.fbzt != '02'&&scope.row.fbzt != '04'\" @click=\"handleClick(scope.row, 'edit')\" type=\"text\" size=\"small\">编辑</el-button>\n\t\t\t\t\t\t<el-button @click=\"handleClick(scope.row)\" type=\"text\" size=\"small\">详情</el-button>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column prop=\"date\" label=\"是否审核\" width=\"120\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<el-tag size=\"mini\" :type=\"scope.row.shzt == '已审核' ? 'success' : 'info'\">{{ scope.row.shzt }}</el-tag>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column  label=\"分包状态\" width=\"120\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t{{ scope.row.fbzt=='02'?'审核中':scope.row.fbzt=='03'?'招标中':scope.row.fbzt=='04'?'审核未通过':scope.row.fbzt=='05'?'分包结束':'分包关闭' }}\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column prop=\"xmbh\" label=\"项目编号\" width=\"120\" ></el-table-column>\n\t\t\t\t<el-table-column prop=\"xmmc\" label=\"项目名称\" min-width=\"280\" fixed=\"left\" show-overflow-tooltip></el-table-column>\n\t\t\t\t<el-table-column prop=\"htbh\" label=\"合同编号\" width=\"150\"></el-table-column>\n\t\t\t\t<el-table-column prop=\"fbmc\" label=\"分包名称\" min-width=\"280\" show-overflow-tooltip></el-table-column>\n\t\t\t\t<el-table-column prop=\"fbrxm\" label=\"分包人\" width=\"110\"></el-table-column>\n\t\t\t\t<el-table-column prop=\"fbrq\" label=\"分包时间\" width=\"110\"></el-table-column>\n\t\t\t\t<el-table-column prop=\"ssfy\" label=\"分包实施金额\" width=\"110\"></el-table-column>\n\t\t\t\t<el-table-column prop=\"ekfy\" label=\"分包二开金额\" width=\"110\"></el-table-column>\n\t\t\t\t<el-table-column prop=\"kbfy\" label=\"分包可变金额\" width=\"110\"></el-table-column>\n\t\t\t</el-table>\n\t\t\t<div>\n\t\t\t\t<el-pagination\n\t\t\t\t\t@size-change=\"handleSizeChange\"\n\t\t\t\t\t@current-change=\"handleCurrentChange\"\n\t\t\t\t\t:current-page=\"currentPage\"\n\t\t\t\t\t:page-sizes=\"[15, 30, 50, 100]\"\n\t\t\t\t\t:page-size=\"pageSize\"\n\t\t\t\t\tlayout=\"total, sizes, prev, pager, next, jumper\"\n\t\t\t\t\t:total=\"records\"\n\t\t\t\t></el-pagination>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { getMenu, getSession } from '@/utils/util.js';\nexport default {\n\tdata() {\n\t\treturn {\r\n\t\t\theight:window.innerHeight - 300,\n\t\t\tcurrentPage: 1,\n\t\t\tpageSize: 15,\n\t\t\trecords: 0,\n\t\t\tfilterData: {\n\t\t\t\tkeyword: '',\n\t\t\t\tgcdq: '',\n\t\t\t\tshzt: ''\n\t\t\t},\n\t\t\tgcdqList: [{ label: '全部', id: '' }, { label: '南区', id: '南区' }, { label: '北区', id: '北区' }, { label: '其他', id: '其他' }],\n\t\t\tsfshList: [{ label: '全部', id: '' }, { label: '已审核', id: '1' }, { label: '未审核', id: '0' }],\n\t\t\ttableData: [],\n\t\t\tfbbhList: [],\n\t\t\tuserGroup: ''\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.getFbshList();\n\t\tthis.userGroup = JSON.parse(sessionStorage.getItem('userInfo')).userGroupTag;\n\t},\n\tmethods: {\n\t\thandleSelectionChange(val) {\n\t\t\tthis.fbbhList = [];\n\t\t\tval.forEach(ele => {\n\t\t\t\tthis.fbbhList.push(ele.fbbh);\n\t\t\t});\n\t\t},\n\t\tcloseFb() {\n\t\t\tthis.$confirm('是否确认关闭分包?', '提示', {\n\t\t\t\tcancelButtonText: '再想想',\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\ttype: 'warning'\n\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.$post(this.API.closeFb, {\n\t\t\t\t\t\tfbbh: this.fbbhList.join(',')\n\t\t\t\t\t}).then(res => {\n\t\t\t\t\t\tif (res.state == 'success') {\n\t\t\t\t\t\t\tthis.$message({ message: '已关闭分包', type: 'success' });\n\t\t\t\t\t\t\tthis.getFbshList();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.$message({ message: res.msg, type: 'warning' });\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(() => {});\n\t\t},\n\t\t// 关键字搜索\n\t\thandleSearch() {\n\t\t\tthis.currentPage = 1;\n\t\t\tthis.getFbshList();\n\t\t},\n\t\t// 导出\n\t\thandleExport() {\n\t\t\twindow.open(\n\t\t\t\twindow.baseurl + 'fbxx/exportFbManage.do?keyword=' + this.filterData.keyword + '&gcdq=' + this.filterData.gcdq + '&shzt=' + this.filterData.shzt + '&isfb=1'\n\t\t\t);\n\t\t},\n\t\t// 工程大区\n\t\tCheckGcdz(params) {\n\t\t\tthis.currentPage = 1;\n\t\t\tthis.filterData.gcdq = params;\n\t\t\tthis.getFbshList();\n\t\t},\n\t\t// 审核状态\n\t\tCheckSfsh(params) {\n\t\t\tthis.currentPage = 1;\n\t\t\tthis.filterData.shzt = !params ? '' : params;\n\t\t\tthis.getFbshList();\n\t\t},\n\t\thandleCurrentChange(data) {\n\t\t\tthis.currentPage = data;\n\t\t\tthis.getFbshList();\n\t\t},\n\t\thandleSizeChange(data) {\n\t\t\tthis.currentPage = 1;\n\t\t\tthis.pageSize = data;\n\t\t\tthis.getFbshList();\n\t\t},\n\t\thandleClick(data, type) {\n\t\t\tif (!!type) {\n\t\t\t\tlet routeData = this.$router.resolve({\n\t\t\t\t\tpath: '/projectXmfb',\n\t\t\t\t\tquery: {\n\t\t\t\t\t\txmbh: data.xmbh,\n\t\t\t\t\t\txmmc: data.xmmc,\n\t\t\t\t\t\tfbbh: data.fbbh\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\twindow.open(routeData.href, '_blank');\n\t\t\t} else {\n\t\t\t\tlet routeData = this.$router.resolve({\n\t\t\t\t\tpath: '/projectfbshdetail',\n\t\t\t\t\tquery: {\n\t\t\t\t\t\txmbh: data.xmbh,\n\t\t\t\t\t\tfbbh: data.fbbh,\n\t\t\t\t\t\tr: 1\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\twindow.open(routeData.href, '_blank');\n\t\t\t}\n\t\t},\n\t\tgetFbshList() {\n\t\t\tthis.$get(this.API.fbManage, {\n\t\t\t\tcurPage: this.currentPage,\n\t\t\t\tpageSize: this.pageSize,\n\t\t\t\tgcdq: this.filterData.gcdq,\n\t\t\t\tshzt: this.filterData.shzt,\r\n\t\t\t\tisfb:1,\n\t\t\t\tkeyword: this.filterData.keyword\n\t\t\t}).then(res => {\n\t\t\t\tif (res.state == 'success') {\n\t\t\t\t\tif (!!res.data.rows) {\n\t\t\t\t\t\tthis.tableData = res.data.rows;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.tableData = [];\n\t\t\t\t\t}\n\t\t\t\t\tthis.records = res.data.records;\n\t\t\t\t} else {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\tmessage: res.msg,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.project_fbsh {\n\tmargin: 12px 20px;\n\tpadding: 15px 15px 5px;\n\tbackground: #ffffff;\n\tborder-radius: 4px;\n\tbox-shadow: 0 0 5px rgba(0, 0, 0, 0.1);\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/xmgl/fbEdit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"project_fbsh\"},[_c('div',{attrs:{\"flex\":\"\"}},[_c('span',{staticClass:\"query-title\",staticStyle:{\"padding\":\"2px 4px\",\"margin-right\":\"10px\"}},[_vm._v(\"高级查询:\")]),_vm._v(\" \"),_c('el-input',{staticClass:\"search-input\",staticStyle:{\"width\":\"500px\"},attrs:{\"placeholder\":\"请输入项目编号/项目名称/合同编号/项目经理/学校\",\"prefix-icon\":\"el-icon-search\",\"size\":\"small\"},on:{\"change\":_vm.handleSearch},model:{value:(_vm.filterData.keyword),callback:function ($$v) {_vm.$set(_vm.filterData, \"keyword\", $$v)},expression:\"filterData.keyword\"}}),_vm._v(\"\\n\\t\\t　\\n\\t\\t\"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.handleSearch}},[_vm._v(\"搜索\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.handleExport}},[_vm._v(\"导出\")])],1),_vm._v(\" \"),(_vm.userGroup.indexOf('JYGL') != -1)?_c('div',{staticStyle:{\"margin\":\"10px 0\"},attrs:{\"flex\":\"\"}},[_c('span',{staticClass:\"query-title\"},[_vm._v(\"工程大区:\")]),_vm._v(\" \"),_c('p',{staticClass:\"query-list\",staticStyle:{\"width\":\"90%\"}},_vm._l((_vm.gcdqList),function(gcdq,index){return _c('span',{key:index,class:{ 'bg-active': gcdq.id == _vm.filterData.gcdq },on:{\"click\":function($event){_vm.CheckGcdz(gcdq.id)}}},[_vm._v(_vm._s(gcdq.label))])}))]):_vm._e(),_vm._v(\" \"),_c('div',{attrs:{\"flex\":\"\"}},[_c('span',{staticClass:\"query-title\"},[_vm._v(\"是否审核:\")]),_vm._v(\" \"),_c('p',{staticClass:\"query-list\"},_vm._l((_vm.sfshList),function(sfsh){return _c('span',{key:sfsh.id,class:{ 'bg-active': sfsh.id == _vm.filterData.shzt },on:{\"click\":function($event){_vm.CheckSfsh(sfsh.id)}}},[_vm._v(_vm._s(sfsh.label))])}))]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('el-button',{attrs:{\"disabled\":!_vm.fbbhList.length,\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":_vm.closeFb}},[_vm._v(\"关闭分包\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('div',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"max-height\":_vm.height,\"data\":_vm.tableData,\"border\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"left\",\"label\":\"操作\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"disabled\":scope.row.fbzt != '02'&&scope.row.fbzt != '04',\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.handleClick(scope.row, 'edit')}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.handleClick(scope.row)}}},[_vm._v(\"详情\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"date\",\"label\":\"是否审核\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"size\":\"mini\",\"type\":scope.row.shzt == '已审核' ? 'success' : 'info'}},[_vm._v(_vm._s(scope.row.shzt))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"分包状态\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(scope.row.fbzt=='02'?'审核中':scope.row.fbzt=='03'?'招标中':scope.row.fbzt=='04'?'审核未通过':scope.row.fbzt=='05'?'分包结束':'分包关闭')+\"\\n\\t\\t\\t\\t\")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"xmbh\",\"label\":\"项目编号\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"xmmc\",\"label\":\"项目名称\",\"min-width\":\"280\",\"fixed\":\"left\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"htbh\",\"label\":\"合同编号\",\"width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"fbmc\",\"label\":\"分包名称\",\"min-width\":\"280\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"fbrxm\",\"label\":\"分包人\",\"width\":\"110\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"fbrq\",\"label\":\"分包时间\",\"width\":\"110\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ssfy\",\"label\":\"分包实施金额\",\"width\":\"110\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ekfy\",\"label\":\"分包二开金额\",\"width\":\"110\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"kbfy\",\"label\":\"分包可变金额\",\"width\":\"110\"}})],1),_vm._v(\" \"),_c('div',[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[15, 30, 50, 100],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.records},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-52dd33d2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/views/xmgl/fbEdit.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-52dd33d2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./fbEdit.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./fbEdit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./fbEdit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-52dd33d2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./fbEdit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-52dd33d2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/xmgl/fbEdit.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}