webpackJsonp([111],{"4TnU":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={data:function(){return{baseUrl:"",jdList:[],jlList:[],planData:{},formData:{fwrq:"",trgs:0,nr:""}}},methods:{handleClick:function(t){var s=this;switch(t){case"tj":if(!/^\d+(\.\d+)?$/.test(this.formData.trgs))return void this.$message({message:"请填写正确工时",type:"warning"});this.$post(this.API.addSpecailServiceJL,{wid:this.$route.query.wid,nr:this.formData.nr,fwrq:this.formData.fwrq,trgs:this.formData.trgs}).then(function(t){"success"==t.state?(s.$message({message:"保存成功",type:"success"}),s.formData.fwrq="",s.formData.trgs=0,s.formData.nr="",s.findSpecailServiceJL()):s.$alert(t.msg,"提示",{confirmButtonText:"确定",type:"error"})});break;case"qx":this.$emit("handleCloseDialog","")}},getSpecialService:function(){var t=this;this.$get(this.API.getSpecialService,{wid:this.$route.query.wid}).then(function(s){"success"==s.state?t.planData=s.data:t.$alert(s.msg,"提示",{confirmButtonText:"确定",type:"error"})})},listOperationLog:function(){var t=this;this.$get(this.API.listOperationLogZxfw,{wid:this.$route.query.wid}).then(function(s){"success"==s.state?s.data?t.jdList=s.data:t.jdList=[]:t.$alert(s.msg,"提示",{confirmButtonText:"确定",type:"error"})})},findSpecailServiceJL:function(){var t=this;this.$get(this.API.findSpecailServiceJL,{wid:this.$route.query.wid}).then(function(s){"success"==s.state?s.data?t.jlList=s.data:t.jlList=[]:t.$alert(s.msg,"提示",{confirmButtonText:"确定",type:"error"})})}},mounted:function(){this.getSpecialService(),this.listOperationLog(),this.findSpecailServiceJL()},components:{tableLayout:e("P+gh").a}},i={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"fwjh-Detail"},[e("div",{staticClass:"fwjh-Detail-content"},[e("tableLayout",[e("section",{attrs:{slot:"top"},slot:"top"},[e("h5",[t._v("专项服务")]),t._v(" "),e("div",{staticClass:"contentMark"},[e("table",[e("tr",[e("th",{staticClass:"contenTitle"},[t._v("项目名称")]),t._v(" "),e("td",[t._v(t._s(t.planData.xmmc))]),t._v(" "),e("th",{staticClass:"contenTitle"},[t._v("项目编号")]),t._v(" "),e("td",[t._v(t._s(t.planData.xmbh))])]),t._v(" "),e("tr",[e("th",{staticClass:"contenTitle"},[t._v("计划开始日期")]),t._v(" "),e("td",[t._v(t._s(t.planData.jhkssj))]),t._v(" "),e("th",{staticClass:"contenTitle"},[t._v("计划结束日期")]),t._v(" "),e("td",[t._v(t._s(t.planData.jhjssj))])]),t._v(" "),e("tr",[e("th",{staticClass:"contenTitle"},[t._v("服务阶段")]),t._v(" "),e("td",[t._v(t._s(t.planData.fwjd))]),t._v(" "),e("th",{staticClass:"contenTitle"},[t._v("服务项")]),t._v(" "),e("td",[t._v(t._s(t.planData.fwx))])]),t._v(" "),e("tr",[e("th",{staticClass:"contenTitle"},[t._v("金智责任人")]),t._v(" "),e("td",[t._v(t._s(t.planData.jzfzrxm))]),t._v(" "),e("th",{staticClass:"contenTitle"},[t._v("学校责任人")]),t._v(" "),e("td",[t._v(t._s(t.planData.xxfzrxm))])]),t._v(" "),e("tr",[e("th",{staticClass:"contenTitle"},[t._v("服务内容")]),t._v(" "),e("td",{attrs:{colspan:"3"}},[t._v(t._s(t.planData.fwnr))])])])])]),t._v(" "),e("section",{attrs:{slot:"bottom"},slot:"bottom"},[e("div",{staticClass:"contetnProgress"},[e("h5",[t._v("计划进度")]),t._v(" "),e("div",{staticClass:"contentMark"},[t._l(t.jdList,function(s,a){return t.jdList.length?e("div",{class:{"progress-dot":!0,"progress-dot-last":a==t.jdList.length-1}},[e("div",[e("span",[t._v("\n                  "+t._s(s.cjsj)+"　\n                  "),e("span",{staticStyle:{color:"rgb(21, 145, 202)"}},[t._v(t._s(s.czrxm?s.czrxm:""))]),t._v("\n                  　"+t._s(s.czlxmc)+"\n                ")]),t._v(" "),e("div",{class:{"jd-content":4==s.czlx},domProps:{innerHTML:t._s(s.cznr)}})])]):t._e()}),t._v(" "),t.jdList.length?t._e():e("div",{staticClass:"emptyContent"},[e("img",{attrs:{src:"static/img/empty.png",alt:""}}),t._v(" "),e("p",[t._v("暂无日志记录")])])],2)]),t._v(" "),e("br"),t._v(" "),e("div",{staticClass:"contetnProgress"},[e("h5",[t._v("记录项")]),t._v(" "),e("div",{staticClass:"contentMark"},[t._l(t.jlList,function(s,a){return t.jlList.length?e("div",{class:{"progress-dot":!0,"progress-dot-last":a==t.jlList.length-1}},[e("div",[e("span",[t._v("\n                  "+t._s(s.jlsj)+"　\n                  "),e("span",{staticStyle:{color:"rgb(21, 145, 202)"}},[t._v(t._s(s.jlrxm?s.jlrxm:""))]),t._v("\n                  　服务日期："+t._s(s.fwrq)+"　工时："+t._s(s.trgs)+"\n                ")]),t._v(" "),e("div",{domProps:{innerHTML:t._s(s.nr)}})])]):t._e()}),t._v(" "),t.jlList.length?t._e():e("div",{staticClass:"emptyContent"},[e("img",{attrs:{src:"static/img/empty.png",alt:""}}),t._v(" "),e("p",[t._v("暂无日志记录")])])],2)]),t._v(" "),t.$route.query.jl?e("div",{staticClass:"mg-12"},[e("div",{attrs:{flex:""}},[e("p",[e("span",{staticClass:"filter-weight before-require"},[t._v("服务日期：")]),t._v(" "),e("el-date-picker",{attrs:{type:"date",size:"mini",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:t.formData.fwrq,callback:function(s){t.$set(t.formData,"fwrq",s)},expression:"formData.fwrq"}})],1),t._v("　　\n            "),e("p",{attrs:{colcenter:""}},[e("span",{staticClass:"filter-weight before-require",staticStyle:{width:"110px"}},[t._v("投入工时：")]),t._v(" "),e("el-input",{attrs:{size:"mini",type:"text",placeholder:"请填写投入工时"},model:{value:t.formData.trgs,callback:function(s){t.$set(t.formData,"trgs",s)},expression:"formData.trgs"}})],1)]),t._v(" "),e("div",[e("span",{staticClass:"filter-weight"},[t._v("过程记录：")]),t._v(" "),e("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:3,maxlength:500,placeholder:"请输入过程记录"},model:{value:t.formData.nr,callback:function(s){t.$set(t.formData,"nr",s)},expression:"formData.nr"}})],1),t._v(" "),e("br"),t._v(" "),e("div",{attrs:{"text-right":""}},[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(s){t.handleClick("tj")}}},[t._v("提交")]),t._v(" "),e("el-button",{attrs:{size:"mini"},on:{click:function(s){t.handleClick("qx")}}},[t._v("取消")])],1)]):t._e()])])],1)])},staticRenderFns:[]};var r=e("VU/8")(a,i,!1,function(t){e("P+XV")},"data-v-4f8e2bce",null);s.default=r.exports},"P+XV":function(t,s){}});
//# sourceMappingURL=111.192b922d362ea5c756d0.js.map