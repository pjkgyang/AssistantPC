webpackJsonp([3],{"2odY":function(t,e,a){"use strict";var i=a("oFuF"),r={data:function(){return{cplist:[],jhztList:[{lable:"",mc:"全部"},{lable:"0",mc:"未完成"},{lable:"1",mc:"已完成"}],pxxslist:[{label:1,mc:"线上直播"},{label:2,mc:"线下培训"},{label:3,mc:"线上加线下"}],filterWord:{keyword:"",cpbh:"",cpmc:"",bbh:"",jhcjrq:[],fbrq:[],sjpxrq:[],jhzt:"",sfyq:0,pxxs:""},groupTag:"",sfzk:!0}},props:{filterList:{type:Array,default:function(){return["keyword","cp","jhcjrq","fbrq","jhzt","sfyq","bbh"]}},placeholder:{type:String,default:"请输入项目名称/项目编号"},xmbh:{type:String,default:""},filterShow:{type:Boolean,default:!0}},methods:{handleExpand:function(){this.sfzk=!this.sfzk},handleSearchBtn:function(){this.$emit("handleChangeFilter",this.filterWord)},handleSearch:function(){this.$emit("handleChangeFilter",this.filterWord)},changeDate:function(t){t||(this.filterWord.jhcjrq=[]),this.$emit("handleChangeFilter",this.filterWord)},changeDateFbrq:function(t){t||(this.filterWord.fbrq=[]),this.$emit("handleChangeFilter",this.filterWord)},changeDateSjpxrq:function(t){t||(this.filterWord.sjpxrq=[]),this.$emit("handleChangeFilter",this.filterWord)},handleCp:function(t){var e=t.target.getAttribute("data-type");null!=e&&(this.filterWord.cpbh=e,this.$emit("handleChangeFilter",this.filterWord))},handlePxxs:function(t){var e=t.target.getAttribute("data-type");null!=e&&(this.filterWord.pxxs=e,this.$emit("handleChangeFilter",this.filterWord))},handleSfyq:function(){this.$emit("handleChangeFilter",this.filterWord)},handleJhzt:function(t){var e=t.target.getAttribute("data-type");null!=e&&(this.filterWord.jhzt=e,this.$emit("handleChangeFilter",this.filterWord))}},mounted:function(){Object(i.n)("cp")?this.cplist=Object(i.n)("cp"):Object(i.i)("cp",this.cplist,!0)},activated:function(){},watch:{},components:{}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"query-condition"},[t.filterList.includes("keyword")?a("div",[a("p"),a("p",{staticClass:"query-title"},[a("span",{class:{expandIcon:!0,"el-icon-arrow-up":1==this.sfzk,"el-icon-arrow-down":0==this.sfzk},attrs:{title:this.sfzk?"点击收起筛选条件":"点击展开筛选条件"},on:{click:t.handleExpand}}),t._v("　高级搜索:")]),t._v(" "),a("el-input",{staticStyle:{width:"348px"},attrs:{size:"mini",placeholder:t.placeholder},on:{change:t.handleSearch},model:{value:t.filterWord.keyword,callback:function(e){t.$set(t.filterWord,"keyword",e)},expression:"filterWord.keyword"}}),t._v("　\n                "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.handleSearchBtn}},[t._v("查询")]),t._v(" "),a("p")],1):t._e(),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-top"}},[t.sfzk?a("section",{staticClass:"query-condition"},[t.filterList.includes("bbh")?a("div",[a("p",{staticClass:"query-title"},[t._v("版本号:")]),t._v(" "),a("p",[a("el-input",{staticStyle:{width:"348px"},attrs:{size:"mini",placeholder:"请输入版本号"},on:{change:t.handleSearch},model:{value:t.filterWord.bbh,callback:function(e){t.$set(t.filterWord,"bbh",e)},expression:"filterWord.bbh"}}),t._v("　\n                    ")],1)]):t._e(),t._v(" "),t.filterList.includes("cp")?a("div",[a("p",{staticClass:"query-title"},[t._v("产品:")]),t._v(" "),a("p",{staticClass:"query-list",on:{click:t.handleCp}},[a("span",{class:{"bg-active":""==t.filterWord.cpbh},attrs:{"data-type":""}},[t._v("全部")]),t._v(" "),t._l(t.cplist,function(e,i){return a("span",{key:i,class:{"bg-active":t.filterWord.cpbh==e.label&&t.filterWord.cpmc==e.mc},attrs:{"data-index":i,"data-type":e.label}},[t._v(t._s(e.mc))])})],2)]):t._e(),t._v(" "),t.filterList.includes("pxxs")?a("div",[a("p",{staticClass:"query-title"},[t._v("培训形式:")]),t._v(" "),a("p",{staticClass:"query-list",on:{click:t.handlePxxs}},[a("span",{class:{"bg-active":""==t.filterWord.pxxs},attrs:{"data-type":""}},[t._v("全部")]),t._v(" "),t._l(t.pxxslist,function(e,i){return a("span",{key:i,class:{"bg-active":t.filterWord.pxxs==e.label&&t.filterWord.cpmc==e.mc},attrs:{"data-index":i,"data-type":e.label}},[t._v(t._s(e.mc))])})],2)]):t._e(),t._v(" "),t.filterList.includes("jhcjrq")?a("div",[a("p",{staticClass:"query-title"},[t._v("计划创建日期:")]),t._v(" "),a("p",{staticClass:"query-list"},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",size:"mini",type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.changeDate},model:{value:t.filterWord.jhcjrq,callback:function(e){t.$set(t.filterWord,"jhcjrq",e)},expression:"filterWord.jhcjrq"}})],1)]):t._e(),t._v(" "),t.filterList.includes("fbrq")?a("div",[a("p",{staticClass:"query-title"},[t._v("发版日期:")]),t._v(" "),a("p",{staticClass:"query-list"},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",size:"mini",type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.changeDateFbrq},model:{value:t.filterWord.fbrq,callback:function(e){t.$set(t.filterWord,"fbrq",e)},expression:"filterWord.fbrq"}})],1)]):t._e(),t._v(" "),t.filterList.includes("sjpxrq")?a("div",[a("p",{staticClass:"query-title"},[t._v("实际培训日期:")]),t._v(" "),a("p",{staticClass:"query-list"},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",size:"mini",type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.changeDateSjpxrq},model:{value:t.filterWord.sjpxrq,callback:function(e){t.$set(t.filterWord,"sjpxrq",e)},expression:"filterWord.sjpxrq"}})],1)]):t._e(),t._v(" "),t.filterList.includes("jhzt")?a("div",[a("p",{staticClass:"query-title"},[t._v("计划状态:")]),t._v(" "),a("p",{staticClass:"query-list",on:{click:t.handleJhzt}},t._l(t.jhztList,function(e,i){return a("span",{key:i,class:{"bg-active":t.filterWord.jhzt==e.lable},attrs:{"data-type":e.lable}},[t._v(t._s(e.mc))])}))]):t._e(),t._v(" "),t.filterList.includes("sfyq")?a("div",[a("p",{staticClass:"query-title"},[t._v("是否延期:")]),t._v(" "),a("p",{staticStyle:{padding:"5px 0"}},[a("el-radio-group",{on:{change:t.handleSfyq},model:{value:t.filterWord.sfyq,callback:function(e){t.$set(t.filterWord,"sfyq",e)},expression:"filterWord.sfyq"}},[a("el-radio",{attrs:{label:1}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:0}},[t._v("否")])],1)],1)]):t._e()]):t._e()])],1)])},staticRenderFns:[]};var s=a("Z0/y")(r,l,!1,function(t){a("EVk+")},null,null);e.a=s.exports},"68Je":function(t,e){},"EVk+":function(t,e){},WY8K:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("2odY"),r=a("P+gh"),l=a("2r/n"),s={data:function(){return{sspxShow:!1,filterList:["keyword","cp","pxxs","jhcjrq","fbrq","sjpxrq","jhzt"],tableData:[],currentPage:1,pageSize:15,total:0,filterWord:{keyword:"",cpbh:"",cpmc:"",jhcjrq:[],fbrq:[],sjpxrq:[],jhzt:"",pxxs:""},itemData:{}}},methods:{handleCehckCyrs:function(t,e){var a=this.$router.resolve({path:"/stafflist",query:{nljhwid:t,type:e}});window.open(a.href,"_blank")},handleCehckwts:function(t){var e=this.$router.resolve({path:"/report-list/gjjh",query:{jhwid:t,jhlx:"2"}});window.open(e.href,"_blank")},handleCommitSave:function(t){var e=this;this.$post(this.API.abilityTraining,{wid:this.itemData.wid,sjwcsj:t.sjwcsj,pxsp:t.pxsp,fjData:t.fileList,ry:t.ry}).then(function(t){"success"==t.state?(e.sspxShow=!e.sspxShow,e.$alert("保存成功","提示",{confirmButtonText:"确定",type:"success",callback:function(t){e.pageCapacityPlan()}})):e.$alert(t.msg,"提示",{confirmButtonText:"确定",type:"error"})})},handleDownFile:function(t,e,a){var i=a.target.getAttribute("data-fj");window.open(window.baseurl+"attachment/downloadFile.do?fjId="+i)},handleCurrentChange:function(t){this.currentPage=1,this.pageCapacityPlan()},handleSizeChange:function(t){this.currentPage=1,this.pageSize=t,this.pageCapacityPlan()},handleChangeFilter:function(t){this.filterWord=t,this.pageCapacityPlan()},handleExport:function(){window.open(window.baseurl+"wtgj/exportCapacityPlan.do?cpbh="+this.filterWord.cpbh+"&zt="+this.filterWord.jhzt+"&pxxs="+this.filterWord.pxxs+"&cjsjStart="+this.filterWord.jhcjrq[0]+"&cjsjEnd="+this.filterWord.jhcjrq[1]+"&jhpxsjStart="+this.filterWord.fbrq[0]+"&jhpxsjEnd="+this.filterWord.fbrq[1]+"&sjpxsjStart="+this.filterWord.sjpxrq[0]+"&sjpxsjEnd="+this.filterWord.sjpxrq[1]+"&keyword="+this.filterWord.keyword)},handleTrain:function(t){this.itemData=t,console.log(t),this.sspxShow=!this.sspxShow},pageCapacityPlan:function(){var t=this;this.$get(this.API.pageCapacityPlan,{curPage:this.currentPage,pageSize:this.pageSize,cpbh:this.filterWord.cpbh,zt:this.filterWord.jhzt,pxxs:this.filterWord.pxxs,cjsjStart:this.filterWord.jhcjrq[0],cjsjEnd:this.filterWord.jhcjrq[1],jhpxsjStart:this.filterWord.fbrq[0],jhpxsjEnd:this.filterWord.fbrq[1],sjpxsjStart:this.filterWord.sjpxrq[0],sjpxsjEnd:this.filterWord.sjpxrq[1],keyword:this.filterWord.keyword}).then(function(e){"success"==e.state?(e.data.rows?t.tableData=e.data.rows:t.tableData=[],t.total=e.data.records):t.$alert(e.msg,"提示",{confirmButtonText:"确定",type:"error"})}).catch(function(t){})}},mounted:function(){this.pageCapacityPlan()},components:{filterCondition:i.a,tableLayout:r.a,sspxDialog:l.a}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pannelPadding-10"},[a("div",{staticClass:"pannelPaddingBg-10"},[a("tableLayout",[a("section",{attrs:{slot:"top"},slot:"top"},[a("filterCondition",{attrs:{filterList:t.filterList,placeholder:"请输入问题标题 / 版本号"},on:{handleChangeFilter:t.handleChangeFilter}})],1),t._v(" "),a("section",{attrs:{slot:"bottom"},slot:"bottom"},[a("div",{attrs:{"text-right":""}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.handleExport}},[t._v("导出")])],1),t._v(" "),a("div",{staticStyle:{margin:"10px 0"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{fixed:"left",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.handleTrain(e.row)}}},[t._v("培训")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"cpmc",label:"产品","min-width":"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pxzt",label:"培训主题","min-width":"300","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"培训形式",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(1==e.row.pxxs?"线上直播":2==e.row.pxxs?"线下培训":"线上加线下"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"jhpxsj",label:"计划培训日期",width:"110"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sjpxsj",label:"实际培训日期",width:"110"}}),t._v(" "),a("el-table-column",{attrs:{prop:"fxrxm",label:"分享人",width:"110"}}),t._v(" "),a("el-table-column",{attrs:{label:"推荐参与人数",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{href:"javaScript:;;"},on:{click:function(a){t.handleCehckCyrs(e.row.wid,"2")}}},[t._v(t._s(e.row.tjrs))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"参与人数",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{href:"javaScript:;;"},on:{click:function(a){t.handleCehckCyrs(e.row.wid,"1")}}},[t._v(t._s(e.row.cyrs))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"cjsj",label:"创建日期",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cjrxm",label:"创建人",width:"110"}}),t._v(" "),a("el-table-column",{attrs:{label:"纳入计划问题数",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{href:"javaScript:;;"},on:{click:function(a){t.handleCehckwts(e.row.wid)}}},[t._v(t._s(e.row.jhwtzs))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"附件","min-width":"260"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{on:{click:function(a){t.handleDownFile(e.$index,e.row,a)}}},t._l(e.row.fjList,function(e,i){return a("a",{key:i,attrs:{href:"javaScript:;;",title:"点击下载","data-fj":e.fjbh}},[t._v(t._s(e.fjmc))])}))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"pxsp",label:"培训视频",width:"180"}})],1)],1)])]),t._v(" "),a("div",{attrs:{"text-right":""}},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,30,50],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),a("sspx-dialog",{attrs:{show:t.sspxShow,itemData:t.itemData},on:{"update:show":function(e){t.sspxShow=e},handleCommitSave:t.handleCommitSave}})],1)},staticRenderFns:[]};var o=a("Z0/y")(s,n,!1,function(t){a("68Je")},"data-v-6a76088a",null);e.default=o.exports}});
//# sourceMappingURL=3.dd0a9ab475db17d2f086.js.map