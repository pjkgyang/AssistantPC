webpackJsonp([54],{"0nas":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("P+gh"),n=s("oFuF"),i=s("aCns"),l={data:function(){return{visible:this.show,tableHeight:window.innerHeight-210}},props:{show:{type:Boolean,default:!1},tableData:{tyep:Object,default:function(){return{}}},currentPage:{type:Number,default:1},pageSize:{type:Number,default:15},title:{type:String,default:""},sm:{type:String,default:""}},methods:{handleClose:function(){this.visible=!1},handleCurrentChange:function(t){this.$emit("handleCurrentChange",t)}},watch:{show:function(t,e){this.visible=this.show}},components:{tableComponents:i.a}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-dialog",{attrs:{title:t.title,width:"1000px",top:"0",visible:t.visible,"append-to-body":!0,"close-on-click-modal":!1,show:t.show},on:{"update:visible":function(e){t.visible=e},close:function(e){t.$emit("update:show",!1)}}},[s("div",{staticClass:"dialog-jd"},[s("p",[t._v(t._s(t.sm))]),t._v(" "),s("tableComponents",{attrs:{tableData:t.tableData,pageShow:!0,currentPage:t.currentPage,pageSize:t.pageSize,indexArr:[],widthArr:[0,1,2],Width:"120",Height:300,exportShow:!1},on:{handleCurrentChange:t.handleCurrentChange}})],1)])],1)},staticRenderFns:[]};var v=s("VU/8")(l,o,!1,function(t){s("jtp3")},"data-v-0e1c6532",null).exports,r={data:function(){return{year:"",activeName:"first",monthList:[{mc:"一月",val:"01"},{mc:"二月",val:"02"},{mc:"三月",val:"03"},{mc:"四月",val:"04"},{mc:"五月",val:"05"},{mc:"六月",val:"06"},{mc:"七月",val:"07"},{mc:"八月",val:"08"},{mc:"九月",val:"09"},{mc:"十月",val:"10"},{mc:"十一月",val:"11"},{mc:"十二月",val:"12"}],tableData:{},month:"",markYear:"",data:{},username:"",show:!1,title:"",sm:"",queryObj:{},type:"",lastMonth:"",nowData:""}},mounted:function(){var t=(new Date).getMonth()+1;this.nowData=(new Date).getFullYear()+"-"+(t<10?"0"+t:t),this.year=Object(n.m)(this.nowData).split("-")[0],this.month=Object(n.m)(this.nowData).split("-")[1],this.username=sessionStorage.username,this.lastMonth=Object(n.m)(this.nowData),this.personalSettlement()},methods:{handleCurrentChange:function(t){this.queryObj.curPage=t,this.getDetail(this.type)},handleCheckJs:function(t){switch(this.type=t,this.queryObj.curPage=1,this.queryObj.pageSize=15,t){case"ekjs":this.title="Crowd结算",this.sm="",this.queryObj.yf=this.lastMonth,delete this.queryObj.startDt,delete this.queryObj.endDt;break;case"xmjs":this.title="项目结算",this.sm="说明：团队收入为正数是表示收入，负数表示支出给团队成员费用",this.queryObj.yf=this.lastMonth,delete this.queryObj.startDt,delete this.queryObj.endDt;break;case"sqdy":this.title="售前调用结算",this.sm="说明：售前调用按500/800结算个人收入",this.queryObj.startDt=this.lastMonth+"-01",this.queryObj.endDt=Object(n.k)(this.lastMonth)+"-01",delete this.queryObj.yf}this.getDetail(t),this.show=!this.show},handleChangeDate:function(t){this.lastMonth=t+"-"+this.month,this.personalSettlement()},handleCheckJS:function(t){this.month=t.val,this.lastMonth=this.year+"-"+this.month,this.personalSettlement()},personalSettlement:function(){var t=this;this.$get(this.API.personalSettlement,{yf:this.lastMonth}).then(function(e){"success"==e.state&&(t.data=e.data)})},getDetail:function(t){var e=this;this.$get("ekjs"==t?this.API.crowdSettlement:"xmjs"==t?this.API.projectSettlement:this.API.presaleCallSettlement,this.queryObj).then(function(t){"success"==t.state&&(e.tableData=t.data)})}},components:{tableLayout:a.a,sydetailDialog:v}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("tableLayout",[s("section",{attrs:{slot:"top"},slot:"top"},[s("div",{staticClass:"personalJs-top",attrs:{"flex-column":"",spacearound:""}},[s("section",{staticClass:"pd-10"},[s("el-date-picker",{attrs:{type:"year",placeholder:"选择年","value-format":"yyyy",format:"yyyy 年"},on:{change:t.handleChangeDate},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}})],1),t._v(" "),s("section",{staticStyle:{color:"#555","text-align":"center"}},[s("span",{staticStyle:{"font-size":"20px"}},[t._v(t._s(t.username)),s("br"),s("span",{staticStyle:{"font-size":"18px"}},[t._v(t._s(t.data.khmc))])])]),t._v(" "),s("section",{staticClass:"personalJs-top-month",staticStyle:{height:"45%"},attrs:{flex:"",spacearound:""}},t._l(t.monthList,function(e){return s("div",[s("p",{class:{monthprocessmc:!0,colorActive:t.month==e.val}},[t._v(t._s(e.mc))]),t._v(" "),s("div",{staticClass:"monthprocess",attrs:{colcenter:""}},[s("span",{staticClass:"processLine"}),t._v(" "),s("span",{class:{processDot:!0,widthActive:t.month==e.val},on:{click:function(s){t.handleCheckJS(e)}}})])])}))])]),t._v(" "),s("section",{staticClass:"personalJs-bottom",attrs:{slot:"bottom",flex:"",spacearound:""},slot:"bottom"},[s("div",{staticClass:"personalJs-menu"},[s("h5",[s("span",{staticClass:"filter-weight"},[t._v("结算清单")]),s("br"),t._v("Settlement list")]),t._v(" "),s("div",{staticClass:"personalJs-menu-dl"},[s("h5",[t._v("我的账户:")]),t._v(" "),s("dl",[s("dt",{staticClass:"bordeBottom"},[t._v("本月收入:"),s("span",{staticClass:"colorActive"},[t._v(t._s(t.data.sfgz?t.data.sfgz:0)+" 元")])]),t._v(" "),s("dd",[t._v("本月项目实发:"),s("span",[t._v(t._s(t.data.xmsf)+" 元")])]),t._v(" "),s("dd",[t._v("本月非项目实发:"),s("span",[t._v(t._s(t.data.fxmsf)+" 元")])]),t._v(" "),s("dd",[t._v("冲入奖金池:"),s("span",[t._v(t._s(t.data.crjjc)+" 元")])]),t._v(" "),s("dd",[t._v("本月奖金池领取:"),s("span",[t._v(t._s(t.data.jjclq)+" 元")])]),t._v(" "),s("dt",{staticClass:"bordeTopBottom"},[t._v("项目结余:"),s("span",[t._v(t._s(t.data.byjy)+" 元")])]),t._v(" "),s("dt",[t._v("奖金池结余:"),s("span",[t._v(t._s(t.data.wfjj)+" 元")])])]),t._v(" "),s("h5",[t._v("项目结算:")]),t._v(" "),s("dl",[s("dt",{staticClass:"bordeBottom"},[t._v("上月结算余额:"),s("span",[t._v(t._s(t.data.syjs)+" 元")])]),t._v(" "),s("dt",[t._v("本月项目结算:"),s("span",[s("a",{attrs:{href:"javaScript:;;"},on:{click:function(e){t.handleCheckJs("xmjs")}}},[t._v(t._s(t.data.xmjs)+" 元")])])]),t._v(" "),s("dt",[t._v("本月CROWD结算:"),s("span",[s("a",{attrs:{href:"javaScript:;;"},on:{click:function(e){t.handleCheckJs("ekjs")}}},[t._v(t._s(t.data.crowdjs)+" 元")])])]),t._v(" "),s("dt",[t._v("本月售前调用:"),s("span",[s("a",{attrs:{href:"javaScript:;;"},on:{click:function(e){t.handleCheckJs("sqdy")}}},[t._v(t._s(t.data.sqjs)+" 元")])])]),t._v(" "),s("dt",[t._v("本月售后结算:"),s("span",[t._v(t._s(t.data.shjs)+" 元")])]),t._v(" "),s("dt",[t._v("非服务调用:"),s("span",[t._v(t._s(t.data.ffwjs)+" 元")])]),t._v(" "),s("dt",[t._v("本月其他结算:"),s("span",[t._v(t._s(t.data.qtjs)+" 元")])]),t._v(" "),s("p",[t._v(t._s(t.data.qtjssm))]),t._v(" "),s("dt",[t._v("本月项目实发:"),s("span",[t._v(t._s(t.data.xmsf)+" 元")])]),t._v(" "),s("dt",[t._v("本月项目结余:"),s("span",[t._v(t._s(t.data.byjy)+" 元")])])]),t._v(" "),s("h5",[t._v("非项目结算:")]),t._v(" "),s("dl",[s("dt",[t._v("讲师费:"),s("span",[t._v(t._s(t.data.jsjs)+" 元")])]),t._v(" "),s("dt",[t._v("安装部署:"),s("span",[t._v(t._s(t.data.azbs)+" 元")])]),t._v(" "),s("dt",[t._v("本月奖惩:"),s("span",[t._v(t._s(t.data.jc)+" 元")])]),t._v(" "),s("p",[t._v("说明:"+t._s(t.data.jcsm?t.data.jcsm:"无"))])]),t._v(" "),s("h5",[t._v("奖金池:")]),t._v(" "),s("dl",[s("dt",[t._v("上月结余:"),s("span",[t._v(t._s(t.data.syjyjj)+" 元")])]),t._v(" "),s("dt",[t._v("本月结余:"),s("span",[t._v(t._s(t.data.wfjj)+" 元")])])])])]),t._v(" "),s("div",{staticClass:"personalJs-menu",staticStyle:{"padding-left":"20px"}},[s("h5",[s("span",{staticClass:"filter-weight"},[t._v("分包结算说明")]),s("br"),t._v("Description")]),t._v(" "),s("div",{staticClass:"personalJs-menu-sm"},[s("section",[s("p",[t._v("【规则】")]),t._v(" "),s("p",[t._v("1.实结结算 = 分包实施费用 - 实施调用费用 - 预留费用;")]),t._v(" "),s("p",[t._v("2.二开结算 = (分包二开费用 - 实际使用二开费用 - 预留费用) * (5400 / 0800);")]),t._v(" "),s("p",[t._v("3.可变结算 = (分包可变费用 - 实际使用可变费用 - 预留费用) * 70%;")]),t._v(" "),s("p",[t._v("4.结算费用 = 实施结算 + 二开结算 + 可变结算;")]),t._v(" "),s("p",[t._v("5.结算金额总计(元) = 项目结算合计 + 其他人员调用 + 导师奖励 + 其他奖励;")]),t._v(" "),s("p",[t._v("6.应发工资:结算金额总计 - 结算期已发金额[月工资 * (当月月份财年 - 起始月份)](财年起始月份:4月份);")]),t._v(" "),s("p",[t._v("7.实发工资:如果低于工资按工资标准发放,否则按应发工资发放;")])]),t._v(" "),s("section",[s("p",[t._v("【案例】")]),t._v(" "),s("p",[t._v("张三月工资12000元,只有一个分包,6月份结算数据如下:")]),t._v(" "),s("p",[t._v("分包实施费用30000元,实施调用费用6000元,预留4000元;")]),t._v(" "),s("p",[t._v("分包二开费用20000元,实际二开费用8000元,预留2000元;")]),t._v(" "),s("p",[t._v("分包可变费用20000元,实际可变费用7000元,预留3000元;")]),t._v(" "),s("p",[t._v("奖励0元,惩罚0元,其他人员调用2000元,导师奖励1000元,其他奖成0元;")]),t._v(" "),s("p",[t._v("1.实施结算:20000 = 30000 - 6000 - 4000;")]),t._v(" "),s("p",[t._v("2.二开结算:6136 = (200008000 - 2000) * (5400 / 8800);")]),t._v(" "),s("p",[t._v("3.可变结算:7000 = (200007000 - 3000) * 70%;")]),t._v(" "),s("p",[t._v("4.结算费用:33136 = 20000 + 6136 + 7000;")]),t._v(" "),s("p",[t._v("5.结算金额总计:36136 = 33136 + 2000 + 1000 + 0;")]),t._v(" "),s("p",[t._v("6.应发工资:24136 = 36136 - 12000 （4月份已发工资）;")]),t._v(" "),s("p",[t._v("7.实发工资:24136 > 12000,按24136发放,24136其中12000为工资,12136元为奖金金额;")])]),t._v(" "),s("section",[s("p",{staticStyle:{color:"#f00","font-size":"12px"}},[t._v("说明:非项目考核人员按实际工资结算")])])])])])]),t._v(" "),s("sydetailDialog",{attrs:{show:t.show,title:t.title,sm:t.sm,currentPage:t.queryObj.curPage,pageSize:t.queryObj.pageSize,tableData:t.tableData},on:{"update:show":function(e){t.show=e},handleCurrentChange:t.handleCurrentChange}})],1)},staticRenderFns:[]};var c=s("VU/8")(r,_,!1,function(t){s("Gqgn")},"data-v-061d3f8d",null);e.default=c.exports},Gqgn:function(t,e){},jtp3:function(t,e){}});
//# sourceMappingURL=54.c9cd3758a862c723dc58.js.map