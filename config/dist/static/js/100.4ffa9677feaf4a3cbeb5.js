webpackJsonp([100],{"4TnU":function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e={data:function(){return{baseUrl:"",jdList:[],jlList:[],planData:{},formData:{fwrq:"",trgs:0,nr:""}}},methods:{handleClick:function(t){var s=this;switch(t){case"tj":if(!/^\d+(\.\d+)?$/.test(this.formData.trgs))return void this.$message({message:"请填写正确工时",type:"warning"});this.$post(this.API.addSpecailServiceJL,{wid:this.$route.query.wid,nr:this.formData.nr,fwrq:this.formData.fwrq,trgs:this.formData.trgs}).then(function(t){"success"==t.state?(s.formData.fwrq="",s.formData.trgs=0,s.formData.nr="",s.findSpecailServiceJL()):s.$alert(t.msg,"提示",{confirmButtonText:"确定",type:"error"})});break;case"qx":this.$emit("handleCloseDialog","")}},getSpecialService:function(){var t=this;this.$get(this.API.getSpecialService,{wid:this.$route.query.wid}).then(function(s){"success"==s.state?t.planData=s.data:t.$alert(s.msg,"提示",{confirmButtonText:"确定",type:"error"})})},listOperationLog:function(){var t=this;this.$get(this.API.listOperationLogZxfw,{wid:this.$route.query.wid}).then(function(s){"success"==s.state?s.data?t.jdList=s.data:t.jdList=[]:t.$alert(s.msg,"提示",{confirmButtonText:"确定",type:"error"})})},findSpecailServiceJL:function(){var t=this;this.$get(this.API.findSpecailServiceJL,{wid:this.$route.query.wid}).then(function(s){"success"==s.state?s.data?t.jlList=s.data:t.jlList=[]:t.$alert(s.msg,"提示",{confirmButtonText:"确定",type:"error"})})}},mounted:function(){this.getSpecialService(),this.listOperationLog(),this.findSpecailServiceJL()},components:{tableLayout:a("P+gh").a}},i={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"fwjh-Detail"},[a("div",{staticClass:"fwjh-Detail-content"},[a("tableLayout",[a("section",{attrs:{slot:"top"},slot:"top"},[a("h5",[t._v("专项服务")]),t._v(" "),a("div",{staticClass:"contentMark"},[a("table",[a("tr",[a("th",{staticClass:"contenTitle"},[t._v("项目名称")]),t._v(" "),a("td",[t._v(t._s(t.planData.xmmc))]),t._v(" "),a("th",{staticClass:"contenTitle"},[t._v("项目编号")]),t._v(" "),a("td",[t._v(t._s(t.planData.xmbh))])]),t._v(" "),a("tr",[a("th",{staticClass:"contenTitle"},[t._v("产品名称")]),t._v(" "),a("td",[t._v(t._s(t.planData.cpxmc))]),t._v(" "),a("th",{staticClass:"contenTitle"},[t._v("计划结束日期")]),t._v(" "),a("td",[t._v(t._s(t.planData.jhjssj))])]),t._v(" "),a("tr",[a("th",{staticClass:"contenTitle"},[t._v("服务阶段")]),t._v(" "),a("td",[t._v(t._s(t.planData.fwjd))]),t._v(" "),a("th",{staticClass:"contenTitle"},[t._v("服务项")]),t._v(" "),a("td",[t._v(t._s(t.planData.fwx))])]),t._v(" "),a("tr",[a("th",{staticClass:"contenTitle"},[t._v("金智责任人")]),t._v(" "),a("td",[t._v(t._s(t.planData.jzfzrxm))]),t._v(" "),a("th",{staticClass:"contenTitle"},[t._v("学校责任人")]),t._v(" "),a("td",[t._v(t._s(t.planData.xxfzrxm))])]),t._v(" "),a("tr",[a("th",{staticClass:"contenTitle"},[t._v("服务内容")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[t._v(t._s(t.planData.fwnr))])]),t._v(" "),a("tr",[a("th",{staticClass:"contenTitle"},[t._v("附件")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:!!t.planData.fjList,expression:"!!planData.fjList"}]},t._l(t.planData.fjList,function(s){return a("a",{attrs:{href:t.API.downloadFile+"?fjId="+s.fjbh}},[t._v(t._s(s.fjmc))])})),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.planData.fjList,expression:"!planData.fjList"}]},[t._v("无")])])])])])]),t._v(" "),a("section",{attrs:{slot:"bottom"},slot:"bottom"},[a("div",{staticClass:"contetnProgress"},[a("h5",[t._v("计划进度")]),t._v(" "),a("div",{staticClass:"contentMark"},[t._l(t.jdList,function(s,e){return t.jdList.length?a("div",{class:{"progress-dot":!0,"progress-dot-last":e==t.jdList.length-1}},[a("div",[a("span",[t._v("\n                  "+t._s(s.cjsj)+"　\n                  "),a("span",{staticStyle:{color:"rgb(21, 145, 202)"}},[t._v(t._s(s.czrxm?s.czrxm:""))]),t._v("\n                  　"+t._s(s.czlxmc)+"\n                ")]),t._v(" "),a("div",{class:{"jd-content":4==s.czlx},domProps:{innerHTML:t._s(s.cznr)}})])]):t._e()}),t._v(" "),t.jdList.length?t._e():a("div",{staticClass:"emptyContent"},[a("img",{attrs:{src:"static/img/empty.png",alt:""}}),t._v(" "),a("p",[t._v("暂无日志记录")])])],2)]),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"contetnProgress"},[a("h5",[t._v("记录项")]),t._v(" "),a("div",{staticClass:"contentMark"},[t.jlList.length?a("div",t._l(t.jlList,function(s,e){return a("div",{key:e,class:{"progress-dot":!0,"progress-dot-last":e==t.jlList.length-1}},[a("div",[a("span",[t._v("\n                    "+t._s(s.jlsj)+"　\n                    "),a("span",{staticStyle:{color:"rgb(21, 145, 202)"}},[t._v(t._s(s.jlrxm?s.jlrxm:""))]),t._v("\n                    　服务日期："+t._s(s.fwrq)+"　工时："+t._s(s.trgs)+"\n                  ")]),t._v(" "),a("div",{domProps:{innerHTML:t._s(s.nr)}})])])})):t._e(),t._v(" "),t.jlList.length?t._e():a("div",{staticClass:"emptyContent"},[a("img",{attrs:{src:"static/img/empty.png",alt:""}}),t._v(" "),a("p",[t._v("暂无日志记录")])])])]),t._v(" "),t.$route.query.jl?a("div",{staticClass:"mg-12"},[a("div",{attrs:{flex:""}},[a("p",[a("span",{staticClass:"filter-weight before-require"},[t._v("服务日期：")]),t._v(" "),a("el-date-picker",{attrs:{type:"date",size:"mini",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:t.formData.fwrq,callback:function(s){t.$set(t.formData,"fwrq",s)},expression:"formData.fwrq"}})],1),t._v("　　\n            "),a("p",{attrs:{colcenter:""}},[a("span",{staticClass:"filter-weight before-require",staticStyle:{width:"110px"}},[t._v("投入工时：")]),t._v(" "),a("el-input",{attrs:{size:"mini",type:"text",placeholder:"请填写投入工时"},model:{value:t.formData.trgs,callback:function(s){t.$set(t.formData,"trgs",s)},expression:"formData.trgs"}})],1)]),t._v(" "),a("div",[a("span",{staticClass:"filter-weight"},[t._v("过程记录：")]),t._v(" "),a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:3,maxlength:500,placeholder:"请输入过程记录"},model:{value:t.formData.nr,callback:function(s){t.$set(t.formData,"nr",s)},expression:"formData.nr"}})],1),t._v(" "),a("br"),t._v(" "),a("div",{attrs:{"text-right":""}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(s){t.handleClick("tj")}}},[t._v("提交")]),t._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(s){t.handleClick("qx")}}},[t._v("取消")])],1)]):t._e()])])],1)])},staticRenderFns:[]};var n=a("VU/8")(e,i,!1,function(t){a("7vnJ")},"data-v-678b5ebd",null);s.default=n.exports},"7vnJ":function(t,s){}});
//# sourceMappingURL=100.4ffa9677feaf4a3cbeb5.js.map