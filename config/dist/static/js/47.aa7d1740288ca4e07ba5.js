webpackJsonp([47],{Acgr:function(t,e){},FznI:function(t,e){},iCKm:function(t,e,a){"use strict";(function(t){e.a={data:function(){return{chooseItemShow:!1,visible:this.show,wcztList:[{mc:"未完成",label:"0"},{mc:"已完成",label:"1"}],fjList:[],formData:{wczt:"",jhwcsj:"",fksm:""}}},props:{show:{type:Boolean,default:!1},wid:{type:String,default:""}},components:{},methods:{handleCommit:function(){var e=this;this.formData.fksm=t("#summernoteFk").summernote("code"),this.valiDate()&&(this.formData.sxwid=this.$route.query.wid,this.$post(this.API.saveMatterFeedback,this.formData).then(function(a){"success"==a.state?(e.$message({message:"提交成功",type:"success"}),t("#summernoteFk").summernote("code",""),e.$emit("handleCommitFk",e.formData),e.formData.wczt="",e.formData.jhwcsj="",e.formData.fksm="",e.visible=!1):e.$alert(a.msg,"提示",{confirmButtonText:"确定",type:"error"})}))},valiDate:function(){return this.formData.wczt?"0"!=this.formData.wczt||this.formData.jhwcsj?!(!this.formData.fksm||"<p><br></p>"==this.formData.fksm)||(this.$message({message:"请填写反馈说明",type:"warning"}),!1):(this.$message({message:"请选择计划完成时间",type:"warning"}),!1):(this.$message({message:"请选择完成状态",type:"warning"}),!1)}},watch:{show:function(){this.visible=this.show,this.show&&this.$nextTick(function(){t("#summernoteFk").summernote({dialogsInBody:!0,placeholder:"请输入内容",focus:!0,height:200,width:"100%",minHeight:300,lang:"zh-CN",toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough","superscript","subscript"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["picture"],["link",["linkDialogShow","unlink"]]]})})}}}}).call(e,a("7t+N"))},ln2O:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("iCKm"),r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dialog-container"},[a("el-dialog",{attrs:{title:"会议登记",width:"1000px",top:"30px",visible:t.visible,"close-on-click-modal":!1,show:t.show},on:{"update:visible":function(e){t.visible=e},close:function(e){t.$emit("update:show",!1)}}},[a("div",{staticClass:"demand mg-12"},[a("el-form",{staticClass:"demo-ruleForm",staticStyle:{width:"950px",margin:"0 auto"},attrs:{model:t.formData,inline:!0,size:"mini","label-width":"135px"}},[a("el-form-item",{attrs:{label:"完成状态",required:""}},[a("el-select",{style:{width:"0"==t.formData.wczt?"325px":"800px"},attrs:{size:"mini",placeholder:"请选择完成状态"},model:{value:t.formData.wczt,callback:function(e){t.$set(t.formData,"wczt",e)},expression:"formData.wczt"}},t._l(t.wcztList,function(t,e){return a("el-option",{key:e,attrs:{label:t.mc,value:t.label}})}))],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"0"==t.formData.wczt,expression:"formData.wczt == '0'"}],attrs:{label:"计划完成时间",required:""}},[a("el-date-picker",{staticStyle:{width:"325px"},attrs:{clearable:!1,size:"mini",type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:t.formData.jhwcsj,callback:function(e){t.$set(t.formData,"jhwcsj",e)},expression:"formData.jhwcsj"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"反馈说明",required:""}},[a("div",{staticStyle:{width:"800px"}},[a("div",{attrs:{id:"summernoteFk"}})])]),t._v(" "),a("el-form-item",[a("div",{staticStyle:{width:"940px"},attrs:{"text-right":""}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleCommit}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){t.visible=!1}}},[t._v("取消")])],1)])],1)],1)])],1)},staticRenderFns:[]};var i=function(t){a("FznI")},n={data:function(){return{fkShow:!1,dataInfo:{},currentPage:1,pageSize:10,records:0,fkList:[],gszrr:[],gzr:[]}},mounted:function(){this.pageMatterFeedback(),this.queryMatter()},components:{fkDialog:a("VU/8")(s.a,r,!1,i,"data-v-6c450355",null).exports},methods:{handleCommitFk:function(t){"1"==t.wczt&&this.queryMatter(),this.pageMatterFeedback()},handleCurrentChange:function(t){this.currentPage=t,this.pageMatterFeedback()},queryMatter:function(){var t=this;this.$get(this.API.queryMatter,{matteWid:this.$route.query.wid}).then(function(e){"success"==e.state&&(t.dataInfo=e.data,t.dataInfo.gszrr.split("|").forEach(function(e){t.gszrr.push(e.split(",")[1])}),t.dataInfo.gzr.split("|").forEach(function(e){t.gzr.push(e.split(",")[1])}))})},pageMatterFeedback:function(){var t=this;this.$get(this.API.pageMatterFeedback,{curPage:this.currentPage,pageSize:this.pageSize,matterWid:this.$route.query.wid}).then(function(e){"success"==e.state&&(e.data.rows?t.fkList=e.data.rows:t.fkList=[],t.records=e.data.records)})}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pannelPadding-10"},[a("div",{staticClass:"pannelPaddingBg-10 "},[a("div",{staticClass:"table_grid table_title"},[a("h5",{staticClass:"mg-12"},[t._v("待办事项基本信息")]),t._v(" "),a("table",[a("tr",[a("th",[t._v("待处理事项")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[t._v(t._s(t.dataInfo.clsxmc))])]),t._v(" "),a("tr",[a("th",[t._v("计划完成时间")]),t._v(" "),a("td",[t._v(t._s(t.dataInfo.jhwcsj))]),t._v(" "),a("th",[t._v("实际完成时间")]),t._v(" "),a("td",[t._v(t._s(t.dataInfo.sjwcsj))])]),t._v(" "),a("tr",[a("th",[t._v("责任方")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[t._v(t._s("1"==t.dataInfo.sfdsfzr?"第三方":"")),"1"==t.dataInfo.sfjzzr&&"1"==t.dataInfo.sfdsfzr?a("span",[t._v(",")]):t._e(),t._v(t._s("1"==t.dataInfo.sfjzzr?"公司":"")),"1"==t.dataInfo.sfxxzr&&"1"==t.dataInfo.sfjzzr?a("span",[t._v(",")]):t._e(),t._v(t._s(1==t.dataInfo.sfxxzr?"学校":""))])]),t._v(" "),a("tr",[a("th",[t._v("公司责任人")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[t._v(t._s(t.gszrr.join(",")))])]),t._v(" "),a("tr",[a("th",[t._v("学校责任人")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[t._v(t._s(t.dataInfo.xxzrr))])]),t._v(" "),a("tr",[a("th",[t._v("第三方责任人")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[t._v(t._s(t.dataInfo.dsfzrr))])]),t._v(" "),a("tr",[a("th",[t._v("关注人")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[t._v(t._s(t.gzr.join(",")))])])])]),t._v(" "),a("div",[t._m(0),t._v(" "),a("div",["0"==t.dataInfo.wczt?a("el-button",{staticClass:"mg-12",attrs:{size:"mini",type:"success"},on:{click:function(e){t.fkShow=!0}}},[t._v("添加反馈")]):t._e(),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.fkList,border:""}},[a("el-table-column",{attrs:{prop:"cjsj",label:"反馈时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cjrxm",label:"反馈人"}}),t._v(" "),a("el-table-column",{attrs:{label:"反馈说明"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{domProps:{innerHTML:t._s(e.row.fksm)}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"完成状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(1==e.row.wczt?"已完成":"未完成"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"jhwcsj",label:"计划完成时间"}})],1)],1)]),t._v(" "),a("div",{attrs:{"text-right":""}},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"total, prev, pager, next",total:t.records},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1)]),t._v(" "),a("fkDialog",{attrs:{show:t.fkShow,wid:t.$route.query.wid},on:{"update:show":function(e){t.fkShow=e},handleCommitFk:t.handleCommitFk}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"table_title"},[e("h5",{staticClass:"mg-12"},[this._v("待办事项反馈")])])}]};var l=a("VU/8")(n,o,!1,function(t){a("Acgr")},null,null);e.default=l.exports}});
//# sourceMappingURL=47.aa7d1740288ca4e07ba5.js.map