webpackJsonp([68],{IaRZ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("NxvJ"),n={data:function(){return{tableHeight:window.innerHeight-230}},methods:{handleCheckDetail:function(t){var e=this.$router.resolve({path:"/zdsfw",query:{xmbh:t}});window.open(e.href,"_blank")},handleRestarItem:function(t,e){var a=this;this.$confirm(1==t.flag?"是否停滞此项目？":"是否重启此项目？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$post(a.API.updateActiveServiceFlag,{xmbh:t.xmbh,flag:1==t.flag?0:1}).then(function(l){"success"==l.state&&(a.$message({message:"保存成功",type:"success"}),a.$emit("handleRestar",1==t.flag?0:1,e))})}).catch(function(){})}},props:{tableData:{type:Array,default:function(){return[]}},zt:{type:String,default:""}},components:{}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","max-height":t.tableHeight}},[a("el-table-column",{attrs:{fixed:"left",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return["待生成"!=e.row.zt?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.handleRestarItem(e.row,e.$index)}}},[t._v(t._s(1==e.row.flag?"停滞":"重启"))]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"yh",label:"学校名称","min-width":"200","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"项目名称","min-width":"240","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{href:"javaScript:;;"},on:{click:function(a){t.handleCheckDetail(e.row.xmbh)}}},[t._v(t._s(e.row.xmmc))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"xmbh",label:"项目编号",width:"140"}}),t._v(" "),a("el-table-column",{attrs:{prop:"htbh",label:"合同编号",width:"140"}}),t._v(" "),a("el-table-column",{attrs:{prop:"xmlb",label:"项目类别",width:"110"}}),t._v(" "),"0"!=t.zt?a("el-table-column",{attrs:{label:"项目状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{size:"mini",type:1==e.row.flag?"success":"danger"}},[t._v(t._s(1==e.row.flag?"已重启":"已停滞"))])]}}])}):t._e(),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{size:"mini",type:"已发布"===e.row.zt?"success":"primary"}},[t._v(t._s(e.row.zt))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"sfgx",label:"是否购销",width:"80","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"sfzt",label:"合同性质",width:"80","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"dkl",label:"到款率",width:"80","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"fwqx",label:"服务期限",width:"100","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"lxrq",label:"立项日期",width:"140","show-overflow-tooltip":""}})],1)],1)},staticRenderFns:[]};var i=a("VU/8")(n,r,!1,function(t){a("O41l")},"data-v-9c04bec6",null).exports,o={data:function(){return{filterList:["keyword","zdsfwzt"],tableData:[],pageSize:18,currentPage:1,total:0,filterData:{keyword:"",zdsfwzt:""}}},methods:{handleRestar:function(t,e){this.$set(this.tableData[e],"flag",t)},handleCurrentChange:function(t){this.currentPage=t,this.getList()},handleSizeChange:function(t){this.pageSize=t,this.currentPage=1,this.getList()},handleChangeFilter:function(t){this.filterData=t,this.currentPage=1,this.getList()},getList:function(){var t=this;this.$get(this.API.pageActiveServiceProject,{curPage:this.currentPage,pageSize:this.pageSize,zt:this.filterData.zdsfwzt,keyword:this.filterData.keyword}).then(function(e){"success"==e.state&&(e.data.rows?t.tableData=e.data.rows:t.tableData=[],t.total=e.data.records)})}},mounted:function(){this.getList()},components:{filterCondition:l.a,zdsfwTable:i}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{padding:"10px 20px"}},[a("div",{staticClass:"zdsfw-xmlist pannelPaddingBg-10"},[a("filterCondition",{attrs:{filterList:t.filterList,placeholder:"学校名称/项目名称/项目编号/合同编号"},on:{handleChangeFilter:t.handleChangeFilter}}),t._v(" "),a("div",[a("zdsfwTable",{attrs:{tableData:t.tableData,zt:t.filterData.zdsfwzt},on:{handleRestar:t.handleRestar}})],1),t._v(" "),a("div",{attrs:{"text-right":""}},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[15,30,50,100],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var c=a("VU/8")(o,s,!1,function(t){a("kVMR")},"data-v-01bfcdca",null);e.default=c.exports},O41l:function(t,e){},kVMR:function(t,e){}});
//# sourceMappingURL=68.6e52b9c709e31f758f49.js.map