{"version":3,"sources":["webpack:///src/components/BusinessPage/chooseSchool.vue","webpack:///./src/components/BusinessPage/chooseSchool.vue?c658","webpack:///./src/components/BusinessPage/chooseSchool.vue","webpack:///src/components/treeTable/tree-table.vue","webpack:///./src/components/treeTable/tree-table.vue?d1d3","webpack:///./src/components/treeTable/tree-table.vue","webpack:///src/views/BusinessPage/schoolServices/xxzzwh.vue","webpack:///./src/views/BusinessPage/schoolServices/xxzzwh.vue?a1cd","webpack:///./src/views/BusinessPage/schoolServices/xxzzwh.vue"],"names":["chooseSchool","val","wid","mc","unit","_this","this","keyword","then","_ref","data","rows","jc","BusinessPage_chooseSchool","render","_vm","_h","$createElement","_c","_self","staticClass","_v","staticStyle","width","attrs","filterable","remote","clearable","placeholder","size","remote-method","remoteMethod","on","change","changeUnit","model","value","callback","$$v","schoolNames","expression","_l","item","index","key","label","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","initTreeData","nelVal","list","isExpand","level","tempData","parentNode","m","type","treeTable_tree_table","_m","id","treeDataSource","length","i","root","num","nodes","trees","actionFunc","deleteFunc","startRejectFunc","handlerExpand","update:trees","$event","update:model","text-align","__vue_styles__","components_treeTable_tree_table","tree_table","xxzzwh","defineProperty_default","treeTable","title","sortCode","res","_this2","_this3","dwbh","dwmc","bmmc","parentid","sfzk","treeDept","_this4","schoolServices_xxzzwh","handleChangeUnit","ref","update:list","orderByFunc","visible","dialogVisible","update:visible","padding","formData","label-width","required","$set","text-right","click","handleCommit","xxzzwh_Component","xxzzwh_normalizeComponent"],"mappings":"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","file":"static/js/18.dc4306b7d9ee64b0a43e.js","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<span class=\"filter-weight\">选择学校:</span>\r\n\t\t<el-select v-model=\"schoolNames\" filterable remote clearable placeholder=\"请选择\" size=\"small\" @change=\"changeUnit\" :remote-method=\"remoteMethod\" style=\"width:300px\">\r\n\t\t\t<el-option v-for=\"(item, index) in schoolNamesOptions\" :key=\"index\" :label=\"item.mc\" :value=\"item.wid\"></el-option>\r\n\t\t</el-select>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport { getDwByUser } from \"@/api/system.js\";\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tschoolNamesOptions:[],\r\n\t\t\t\tschoolNames:'',\r\n\t\t\t\tunit:{\r\n\t\t\t\t\tdwbh:'',\r\n\t\t\t\t\tdwmc:''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted(){\r\n\t\t\tthis.getDwByUser(true,'');\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t// 更换单位\r\n\t\t\tchangeUnit(val){\r\n\t\t\t\tif(!val)  return;\r\n\t\t\t\tlet obj = {};\r\n\t\t\t\tobj = this.schoolNamesOptions.find((item)=>{\r\n\t\t\t\t    return item.wid === val;\r\n\t\t\t\t});\r\n\t\t\t\tthis.unit.dwbh = obj.wid;\r\n\t\t\t\tthis.unit.dwmc = obj.mc;\r\n\t\t\t\tthis.$emit('handleChangeUnit',this.unit);\r\n\t\t\t},\r\n\t\t\tremoteMethod(val) {  //远程搜索\r\n\t\t\t   this.getDwByUser('',val);\r\n\t\t\t},\r\n\t\t\t// 更换单位\r\n\t\t\tgetDwByUser(init,keyword){\r\n\t\t\t    getDwByUser({\r\n\t\t\t    dwlx: \"\",\r\n\t\t\t    curPage: 1,\r\n\t\t\t    pageSize: 9,\r\n\t\t\t    keyword:keyword\r\n\t\t\t    }).then(({ data }) => {\r\n\t\t\t    if (data.state == \"success\") {\r\n\t\t\t          if(data.data.rows){\r\n\t\t\t              this.schoolNamesOptions = data.data.rows;\r\n\t\t\t              this.schoolNames = this.schoolNamesOptions[0].jc\r\n\t\t\t              this.unit.dwbh = data.data.rows[0].wid;\r\n\t\t\t\t\t\t  this.unit.dwmc = data.data.rows[0].mc;\r\n\t\t\t\t\t\t  if(!!init){\r\n\t\t\t\t\t\t\tthis.$emit('handleChangeUnit',this.unit);\r\n\t\t\t\t\t\t  }\r\n\t\t\t          }else{\r\n\t\t\t       \r\n\t\t\t        }\r\n\t\t\t      }\r\n\t\t\t    });\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style></style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/BusinessPage/chooseSchool.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',{staticClass:\"filter-weight\"},[_vm._v(\"选择学校:\")]),_vm._v(\" \"),_c('el-select',{staticStyle:{\"width\":\"300px\"},attrs:{\"filterable\":\"\",\"remote\":\"\",\"clearable\":\"\",\"placeholder\":\"请选择\",\"size\":\"small\",\"remote-method\":_vm.remoteMethod},on:{\"change\":_vm.changeUnit},model:{value:(_vm.schoolNames),callback:function ($$v) {_vm.schoolNames=$$v},expression:\"schoolNames\"}},_vm._l((_vm.schoolNamesOptions),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.mc,\"value\":item.wid}})}))],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0846adc0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/BusinessPage/chooseSchool.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0846adc0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./chooseSchool.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./chooseSchool.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./chooseSchool.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0846adc0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./chooseSchool.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/BusinessPage/chooseSchool.vue\n// module id = null\n// module chunks = ","<template>\r\n\t<div class=\"tree-table\">\r\n\t\t<div class=\"tree-head\">\r\n\t\t\t<table>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class=\"td1\">组织部门</td>\r\n\t\t\t\t\t<td class=\"td2\">排序</td>\r\n\t\t\t\t\t<td class=\"td3\">状态</td>\r\n\t\t\t\t\t<!-- <td class=\"td5\">发布时间</td> -->\r\n\t\t\t\t\t<td class=\"td6\">操作</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t\t<div id=\"scrollWrap\" class=\"tree-wrap\">\r\n\t\t\t<div class=\"tree-body\">\r\n\t\t\t\t<table v-if=\"treeDataSource.length > 0\">\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t<tree-item\r\n\t\t\t\t\t\t\t\t\tv-for=\"(model, i) in treeDataSource\"\r\n\t\t\t\t\t\t\t\t\t:key=\"'root_node_' + i\"\r\n\t\t\t\t\t\t\t\t\t:root=\"0\"\r\n\t\t\t\t\t\t\t\t\t:num=\"i\"\r\n\t\t\t\t\t\t\t\t\t@actionFunc=\"actionFunc\"\r\n\t\t\t\t\t\t\t\t\t@deleteFunc=\"deleteFunc\"\r\n\t\t\t\t\t\t\t\t\t@startRejectFunc=\"startRejectFunc\"\r\n\t\t\t\t\t\t\t\t\t@handlerExpand=\"handlerExpand\"\r\n\t\t\t\t\t\t\t\t\t:nodes=\"treeDataSource.length\"\r\n\t\t\t\t\t\t\t\t\t:trees.sync=\"treeDataSource\"\r\n\t\t\t\t\t\t\t\t\t:model.sync=\"model\"\r\n\t\t\t\t\t\t\t\t></tree-item>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\r\n\t\t\t\t<table v-else>\r\n\t\t\t\t\t<tr><td style=\"text-align: center;\">暂无数据</td></tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'treeTable',\r\n\tprops: ['list'],\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tisDesc: false,\r\n\t\t\ttreeDataSource: []\r\n\t\t};\r\n\t},\r\n\r\n\twatch: {\r\n\t\tlist: {\r\n\t\t\thandler() {\r\n\t\t\t\tthis.initTreeData();\r\n\t\t\t},\r\n\t\t\tdeep: true\r\n\t\t},\r\n\t\tisDesc(nelVal, oldVal) {\r\n\t\t\tthis.$emit('orderByFunc', nelVal);\r\n\t\t}\r\n\t},\r\n\tcomputed: {},\r\n\tmethods: {\r\n\t\tinitTreeData() {\r\n\t\t\t// 这里一定要转化，要不然他们的值监听不到变化\r\n\t\t\tlet tempData = JSON.parse(JSON.stringify(this.list));\r\n\t\t\tlet reduceDataFunc = (data, level) => {\r\n\t\t\t\tdata.map((m, i) => {\r\n\t\t\t\t\tm.isExpand = !m.isExpand ? false : m.isExpand;\r\n\t\t\t\t\tm.children = m.children || [];\r\n\t\t\t\t\tm.level = level;\r\n\t\t\t\t\tm.bLeft = level === 1 ? 34 : (level - 2) * 16 + 34;\r\n\t\t\t\t\tm.Experience = m.Experience || '无';\r\n\t\t\t\t\tif (m.children.length > 0) {\r\n\t\t\t\t\t\treduceDataFunc(m.children, level + 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t\treduceDataFunc(tempData, 1);\r\n\t\t\tthis.treeDataSource = tempData;\r\n\t\t},\r\n\t\tgetMore() {\r\n\t\t\talert('滚动到底部加载更多');\r\n\t\t\t// 滚动到最后\r\n\t\t\t$('#scrollWrap').mCustomScrollbar('scrollTo', 'top', {\r\n\t\t\t\tscrollInertia: 0\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 编辑,新增\r\n\t\tactionFunc(m, type,parentNode) {\r\n\t\t\tthis.$emit('actionFunc', m, type,parentNode);\r\n\t\t},\r\n\t\t// 删除\r\n\t\tdeleteFunc(m) {\r\n\t\t\tthis.$emit('deleteFunc', m);\r\n\t\t},\r\n\t\tstartRejectFunc(m,type){\r\n\t\t\tthis.$emit('startRejectFunc', m,type);\r\n\t\t},\r\n\t\t// 展开\r\n\t\thandlerExpand(m) {\r\n\t\t\tthis.$emit('handlerExpand', m);\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\ttreeItem: () => import('./tree-item.vue')\r\n\t},\r\n\tmounted() {\r\n\t\tconst vm = this;\r\n\t\tvm.$nextTick(() => {\r\n\t\t\tvm.initTreeData();\r\n\t\t});\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.tree-table {\r\n\twidth: 100%;\r\n\tposition: relative;\r\n\tbackground: #fff;\r\n\t.center {\r\n\t\ttext-align: center;\r\n\t}\r\n\t.tree-head table {\r\n\t\ttd {\r\n\t\t\tfont-weight: 700;\r\n\t\t\tborder: 1px solid #e8e8e8;\r\n\t\t\tborder-bottom: none;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\t}\r\n\ttable {\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\tborder-collapse: collapse;\r\n\t\tborder-spacing: 0;\r\n\t\ttd {\r\n\t\t\tword-break: break-all;\r\n\t\t\tword-wrap: break-word;\r\n\t\t\tfont-size: 16px;\r\n\t\t}\r\n\t}\r\n\t.td-border {\r\n\t\tborder-bottom: 1px solid #e8e8e8;\r\n\t\t.leve {\r\n\t\t\t// 屏蔽双击不能选择文本样式\r\n\t\t\t-webkit-user-select: none;\r\n\t\t\t-moz-user-select: none;\r\n\t\t\t-o-user-select: none;\r\n\t\t\tuser-select: none;\r\n\t\t\t&:hover {\r\n\t\t\t\tbackground-color: #f7f9ff;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tth,\r\n\ttd {\r\n\t\tfont-weight: 400;\r\n\t\ttext-align: left;\r\n\t}\r\n\t.td1 {\r\n\t\twidth: 30%;\r\n\t\tpadding-left: 30px;\r\n\t\tborder: 1px solid #e8e8e8;\r\n\t\tborder-top: none;\r\n\t}\r\n\t.td2 {\r\n\t\twidth: 20%;\r\n\t\ttext-align: center;\r\n\t\tborder: 1px solid #e8e8e8;\r\n\t\tborder-top: none;\r\n\t}\r\n\t.td3 {\r\n\t\twidth: 20%;\r\n\t\ttext-align: center;\r\n\t\tborder-bottom: 1px solid #e8e8e8;\r\n\t}\r\n\t.td4 {\r\n\t\twidth: 220px;\r\n\t}\r\n\t.td5 {\r\n\t\twidth: 220px;\r\n\t}\r\n\t.td6 {\r\n\t\twidth: 30%;\r\n\t\ttext-align: center;\r\n\t\tborder: 1px solid #e8e8e8;\r\n\t\tborder-top: none;\r\n\t}\r\n\t.p20 {\r\n\t\tpadding-left: 20px;\r\n\t}\r\n\t.leve-1 .td1 {\r\n\t\tpadding-left: 30px;\r\n\t}\r\n\t.leve-2 .td1 {\r\n\t\tpadding-left: 46px;\r\n\t}\r\n\t.leve-3 .td1 {\r\n\t\tpadding-left: 62px;\r\n\t}\r\n\t.leve-4 .td1 {\r\n\t\tpadding-left: 78px;\r\n\t}\r\n\t.leve-5 .td1 {\r\n\t\tpadding-left: 90px;\r\n\t}\r\n\t.leve-6 .td1 {\r\n\t\tpadding-left: 106px;\r\n\t}\r\n\t.leve-7 .td1 {\r\n\t\tpadding-left: 122px;\r\n\t}\r\n\t.leve-8 .td1 {\r\n\t\tpadding-left: 138px;\r\n\t}\r\n\t.leve-9 .td1 {\r\n\t\tpadding-left: 154px;\r\n\t}\r\n\t.td4 {\r\n\t\t.unvisibie {\r\n\t\t\tvisibility: hidden;\r\n\t\t}\r\n\t\t.ellipsis {\r\n\t\t\tdisplay: block;\r\n\t\t\tmax-width: 200px;\r\n\t\t}\r\n\t\t.iconfont {\r\n\t\t\tcolor: #414959;\r\n\t\t\tposition: relative;\r\n\t\t\ttop: 0px;\r\n\t\t\tleft: 5px;\r\n\t\t\tfont-size: 14px;\r\n\t\t}\r\n\t}\r\n\t> div {\r\n\t\tposition: absolute;\r\n\t\twidth: 100%;\r\n\t}\r\n\t.line-height {\r\n\t\theight: 40px;\r\n\t\tline-height: 40px;\r\n\t}\r\n\r\n\t.tree-head {\r\n\t\theight: 40px;\r\n\t\tline-height: 40px;\r\n\t\tbackground: #fff;\r\n\t\tborder-bottom: 2px solid #e8e8e8;\r\n\t\ttd {\r\n\t\t\tcolor: rgba(0, 0, 0, 0.45);\r\n\t\t\tborder-bottom: 2px solid #e8e8e8;\r\n\t\t\tcolor: #333;\r\n\t\t}\r\n\t\t.arrow {\r\n\t\t\tposition: relative;\r\n\t\t\tdisplay: inline-block;\r\n\t\t\twidth: 16px;\r\n\t\t\theight: 16px;\r\n\t\t\tbackground: #fff;\r\n\t\t\tspan {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\twidth: 0;\r\n\t\t\t\theight: 0;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tborder-style: solid;\r\n\t\t\t\tborder-width: 4px;\r\n\t\t\t}\r\n\t\t\t.up-arrow {\r\n\t\t\t\ttop: 3px;\r\n\t\t\t\tborder-color: transparent transparent #ddd transparent;\r\n\t\t\t\t&.sort {\r\n\t\t\t\t\tborder-bottom-color: #3c4454;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.down-arrow {\r\n\t\t\t\ttop: 12px;\r\n\t\t\t\tborder-color: #ddd transparent transparent transparent;\r\n\t\t\t\t&.sort {\r\n\t\t\t\t\tborder-top-color: #3c4454;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.ellipsis {\r\n\t\toverflow: hidden;\r\n\t\twhite-space: nowrap;\r\n\t\ttext-overflow: ellipsis;\r\n\t}\r\n\t.tree-wrap {\r\n\t\ttop: 40px;\r\n\t\tbackground: #fff;\r\n\t}\r\n\t.tree-body {\r\n\t\ttable {\r\n\t\t\ttable-layout: fixed;\r\n\t\t}\r\n\t\ttd {\r\n\t\t\theight: 40px;\r\n\t\t\tline-height: 40px;\r\n\t\t\tcolor: rgba(0, 0, 0, 0.85);\r\n\t\t\tfont-size: 14px;\r\n\t\t\t.reset {\r\n\t\t\t\tcolor: #1890ff;\r\n\t\t\t}\r\n\t\t\t.delete {\r\n\t\t\t\tcolor: #f5222d;\r\n\t\t\t}\r\n\t\t\t.line {\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\twidth: 1px;\r\n\t\t\t\tbackground: rgba(0, 0, 0, 0.09);\r\n\t\t\t\tmargin: 0 11px;\r\n\t\t\t\theight: 14px;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.td-title {\r\n\t\t\tposition: relative;\r\n\t\t\ta {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t}\r\n\t\t\t.tree-close,\r\n\t\t\t.tree-open {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\twidth: 0;\r\n\t\t\t\theight: 0;\r\n\t\t\t\tborder-color: #999;\r\n\t\t\t\tborder-style: solid;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\tborder-width: 5px;\r\n\t\t\t\tz-index: 2;\r\n\t\t\t}\r\n\t\t\t.tree-close {\r\n\t\t\t\tleft: -12px;\r\n\t\t\t\ttop: 14px;\r\n\t\t\t\tborder-color: transparent transparent transparent #aaaaaa;\r\n\t\t\t}\r\n\t\t\t.tree-open {\r\n\t\t\t\tleft: -17px;\r\n\t\t\t\ttop: 17px;\r\n\t\t\t\tborder-color: #aaaaaa transparent transparent;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.leve-1 .td-title a {\r\n\t\t\twidth: 230px;\r\n\t\t}\r\n\t\t.leve-2 .td-title a {\r\n\t\t\twidth: 200px;\r\n\t\t}\r\n\t\t.leve-3 .td-title a {\r\n\t\t\twidth: 170px;\r\n\t\t}\r\n\t\t.leve-4 .td-title a {\r\n\t\t\twidth: 140px;\r\n\t\t}\r\n\t\t.leve-5 .td-title a {\r\n\t\t\twidth: 110px;\r\n\t\t}\r\n\t\t.leve-6 .td-title a {\r\n\t\t\twidth: 80px;\r\n\t\t}\r\n\t\t.leve-7 .td-title a {\r\n\t\t\twidth: 50px;\r\n\t\t}\r\n\t\t.leve-8 .td-title a {\r\n\t\t\twidth: 20px;\r\n\t\t}\r\n\t\t.other-node {\r\n\t\t\tposition: relative;\r\n\t\t\t> .not-border:not(:last-child) {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\t.before-line {\r\n\t\t\t\t\tcontent: '';\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\twidth: 1px;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tbackground-color: #e8e8e8;\r\n\t\t\t\t\tborder: none;\r\n\t\t\t\t\ttop: -20px;\r\n\t\t\t\t\tz-index: 1;\r\n\t\t\t\t\tleft: 34px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.not-border {\r\n\t\t\t.td-title {\r\n\t\t\t\t&::before {\r\n\t\t\t\t\tcontent: '';\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\twidth: 1px;\r\n\t\t\t\t\theight: 40px;\r\n\t\t\t\t\tbackground-color: #e8e8e8;\r\n\t\t\t\t\tborder: none;\r\n\t\t\t\t\tleft: -12px;\r\n\t\t\t\t\ttop: -20px;\r\n\t\t\t\t\tz-index: 1;\r\n\t\t\t\t}\r\n\t\t\t\t&::after {\r\n\t\t\t\t\tcontent: '';\r\n\t\t\t\t\tleft: -11px;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tright: auto;\r\n\t\t\t\t\tbackground-color: #e8e8e8;\r\n\t\t\t\t\theight: 1px;\r\n\t\t\t\t\ttop: 19px;\r\n\t\t\t\t\twidth: 16px;\r\n\t\t\t\t\tz-index: 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.t-icon {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 14px;\r\n\t\theight: 18px;\r\n\t\tbackground-size: 100% 100% !important;\r\n\t\tvertical-align: middle;\r\n\t\tmargin: -3px 4px 0 0;\r\n\t\t&.m-dep {\r\n\t\t\tbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAASCAYAAABrXO8xAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDZEQUMxRDA0Q0U1MTFFODlGQkJCODYxMDNDRkIzQUEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDZEQUMxRDE0Q0U1MTFFODlGQkJCODYxMDNDRkIzQUEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowNkRBQzFDRTRDRTUxMUU4OUZCQkI4NjEwM0NGQjNBQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowNkRBQzFDRjRDRTUxMUU4OUZCQkI4NjEwM0NGQjNBQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pj8y8UsAAAIjSURBVHjanJPPa9RQEMe/85Jss7v9RVO0UtqDVbR2FbEXEQQP3qTgyX9AEG89KagHRfDi3yAIvfai3qRYUbH0sNJakUV6KOyWLii2btNkNz9enpPEddkfVPALj8mbzGdm3ryElFLwtu4qqjVsre6VKVKboj/3GX2Zj5DqG4jK6NSZp9CTh9FhqCPRQOgFM/hhz1B177puahC5LKD4PQmXE+xDGHNsizEiErAhAddPd1PjXCiC3LMZIF7si2QOMhyDkg+bRVMwScsKI8BvgOKtECnYrq0OsENaDFArYQ/1BJNwats19der41+SDWZ5kRGHMxgd0mqzZHTAsSZgXgaMSfbL9cMrCoaUA2TGGbjBOXji6jRPf3NekfGMuiryxwCdc2W4LVVj6BJDv3ja5dTS0QIiZ7C7VUNLbY2raSJujZf4MxMzOS8Fy9V2ML4CQ0e0tAERBDCs4xz4hv3bUJn4RByvLbMdybWDcVIvYIdEZmQY6BdQuyuo6BdBUQFfdqZRP+B2R323q1UV01kdZPpQZoBbb2/j0QoPZsdDsWTj2MJVfK8MhT2uQ4PulbjF13hRvIIgP42Tzie8Kq1D16qYPzuEO+/ODbaug1Ch0J8gkvAvPF8jZ99YfLlamLA8DCCLpdCErOcxa7nQAmrdIwljklR4X6mfT5z8qaqj9117fHPqQc3era9+Lbn3Tmyct6zq3Nr27PuyO/YhYeIf+X/0W4ABAGLgy0VZgovSAAAAAElFTkSuQmCC)\r\n\t\t\t\tno-repeat;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/treeTable/tree-table.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tree-table\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"tree-wrap\",attrs:{\"id\":\"scrollWrap\"}},[_c('div',{staticClass:\"tree-body\"},[(_vm.treeDataSource.length > 0)?_c('table',[_c('tbody',[_c('tr',[_c('td',_vm._l((_vm.treeDataSource),function(model,i){return _c('tree-item',{key:'root_node_' + i,attrs:{\"root\":0,\"num\":i,\"nodes\":_vm.treeDataSource.length,\"trees\":_vm.treeDataSource,\"model\":model},on:{\"actionFunc\":_vm.actionFunc,\"deleteFunc\":_vm.deleteFunc,\"startRejectFunc\":_vm.startRejectFunc,\"handlerExpand\":_vm.handlerExpand,\"update:trees\":function($event){_vm.treeDataSource=$event},\"update:model\":function($event){model=$event}}})}))])])]):_c('table',[_vm._m(1)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tree-head\"},[_c('table',[_c('tr',[_c('td',{staticClass:\"td1\"},[_vm._v(\"组织部门\")]),_vm._v(\" \"),_c('td',{staticClass:\"td2\"},[_vm._v(\"排序\")]),_vm._v(\" \"),_c('td',{staticClass:\"td3\"},[_vm._v(\"状态\")]),_vm._v(\" \"),_c('td',{staticClass:\"td6\"},[_vm._v(\"操作\")])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('td',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"暂无数据\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0794b91b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/treeTable/tree-table.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0794b91b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./tree-table.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./tree-table.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./tree-table.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0794b91b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./tree-table.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/treeTable/tree-table.vue\n// module id = null\n// module chunks = ","<template>\r\n\t<div class=\"menus-tree\">\r\n\t\t<div>\r\n\t\t\t<chooseSchool @handleChangeUnit=\"handleChangeUnit\"></chooseSchool>\r\n\t\t</div>\r\n\t\t<br />\r\n\t\t<div>\r\n\t\t\t<tree-table\r\n\t\t\t\tref=\"recTree\"\r\n\t\t\t\t:list.sync=\"treeDataSource\"\r\n\t\t\t\t@actionFunc=\"actionFunc\"\r\n\t\t\t\t@deleteFunc=\"deleteFunc\"\r\n\t\t\t\t@startRejectFunc=\"startRejectFunc\"\r\n\t\t\t\t@handlerExpand=\"handlerExpand\"\r\n\t\t\t\t@orderByFunc=\"orderByFunc\"\r\n\t\t\t></tree-table>\r\n\t\t</div>\r\n\r\n\t\t<el-dialog title=\"提示\" :visible.sync=\"dialogVisible\" width=\"600px\">\r\n\t\t\t<el-form ref=\"form\" :model=\"formData\" label-width=\"80px\" size=\"mini\" style=\"padding:12px\">\r\n\t\t\t\t<!-- <el-form-item label=\"部门编码\" required><el-input size=\"mini\" v-model=\"formData.bmbm\"></el-input></el-form-item> -->\r\n\t\t\t\t<el-form-item label=\"部门名称\" required><el-input size=\"mini\" v-model=\"formData.bmmc\"></el-input></el-form-item>\r\n\t\t\t\t<el-form-item label=\"是否展开\" required>\r\n\t\t\t\t\t<el-radio-group v-model=\"formData.sfzk\" size=\"mini\">\r\n\t\t\t\t\t\t<el-radio :label=\"1\">是</el-radio>\r\n\t\t\t\t\t\t<el-radio :label=\"0\">否</el-radio>\r\n\t\t\t\t\t</el-radio-group>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"排序\" required size=\"mini\"><el-input type=\"number\" v-model=\"formData.sortCode\"></el-input></el-form-item>\r\n\t\t\t\t<el-form-item text-right>\r\n\t\t\t\t\t<el-button type=\"primary\" @click=\"handleCommit\">确定</el-button>\r\n\t\t\t\t\t<el-button @click=\"dialogVisible = false\">取消</el-button>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n<script>\r\nimport treeTable from '@/components/treeTable/tree-table.vue';\r\nimport chooseSchool from '@/components/BusinessPage/chooseSchool.vue';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tdialogVisible: false,\r\n\t\t\tdwbh:'',//单位编号\r\n\t\t\tkeyword:'',\r\n\t\t\tformData:{\r\n\t\t\t\tbmbm:'',\r\n\t\t\t\tbmmc:'',\r\n\t\t\t\tsfzk:1,\r\n\t\t\t\tsortCode:''\r\n\t\t\t},\r\n\t\t\tcurTreeData: {},\r\n\t\t\tisEdit:false,\r\n\t\t\tchildData: {},\r\n\t\t\ttreeDataSource:[],//tree\r\n\t\t\tparentNode:[]\r\n\t\t};\r\n\t},\r\n\tmounted(){\r\n\t\tthis.getDwByUser(true,'');\r\n\t},\r\n\tcomponents: {\r\n\t\ttreeTable\r\n\t},\r\n\tmethods: {\r\n\t\torderByFunc(val) {\r\n\t\t\talert('排序');\r\n\t\t\talert(val);\r\n\t\t},\r\n\t\t// 添加下级\r\n\t\tactionFunc(m, type,parentNode) {\r\n\t\t\tthis.curTreeData = m;\r\n\t\t\tif(type == 'add'){\r\n\t\t\t\tthis.isEdit = false;\r\n\t\t\t\tthis.dialogVisible = true;\r\n\t\t\t}else{\r\n\t\t\t\tthis.parentNode = parentNode; //父节点\r\n\t\t\t\tthis.isEdit = true;\r\n\t\t\t\tthis.formData.bmmc = m.title;\r\n\t\t\t\tthis.formData.sfzk = m.isExpand;\r\n\t\t\t\tthis.formData.sortCode = m.sortCode;\r\n\t\t\t\t\r\n\t\t\t\tthis.dialogVisible = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 删除\r\n\t\tdeleteFunc(m) {\r\n\t\t\tthis.$confirm('是否删除该部门?', '提示', {\r\n\t\t\t  confirmButtonText: '确定',\r\n\t\t\t  cancelButtonText: '取消',\r\n\t\t\t  type: 'warning'\r\n\t\t\t}).then(() => {\r\n\t\t\t  this.$post(this.API.deleteDept,{\r\n\t\t\t\twid:m.id\r\n\t\t\t  }).then(res=>{\r\n\t\t\t\tif(res.state == 'success'){\r\n\t\t\t\t\tthis.$message({message:'删除成功~',type:'success'})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$message({message:res.msg,type:'error'});\r\n\t\t\t\t}\r\n\t\t\t  })\r\n\t\t\t}).catch(() => { });\r\n\t\t},\r\n\t\t// 启用或禁用\r\n\t\tstartRejectFunc(m,type){\r\n\t\t\tthis.$post(type=='start'?this.API.enableDept:this.API.disableDept,{\r\n\t\t\t\twid:m.id\r\n\t\t\t}).then(res=>{\r\n\t\t\t\tif(res.state == 'success'){\r\n\t\t\t\t\tthis.$message({message:type=='start'?'部门已启用~':'部门已禁用~',type:'success'})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$message({message:res.msg,type:'error'});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t// 新增下级\r\n\t\thandleCommit() {\r\n\t\t\tthis.$post(this.API.saveDept,{\r\n\t\t\t\twid:!!this.isEdit?this.curTreeData.id:'',\r\n\t\t\t\tdwbh:this.dwbh,\r\n\t\t\t\tdwmc:this.dwmc,\r\n\t\t\t\tmc:this.formData.bmmc,\r\n\t\t\t\tparentid:this.curTreeData.parentid,\r\n\t\t\t\tpx:this.formData.sortCode,\r\n\t\t\t\tsfzk:this.formData.sfzk\r\n\t\t\t}).then(res=>{\r\n\t\t\t\tif(res.state == 'success'){\r\n\t\t\t\t\tthis.$message({message:'添加成功~',type:'success'});\r\n\t\t\t\t\tif(!!this.isEdit){\r\n\t\t\t\t\t\tthis.$set(this.curTreeData, 'title', this.formData.bmmc);\r\n\t\t\t\t\t\tthis.$set(this.curTreeData, 'isExpand', this.formData.sfzk);\r\n\t\t\t\t\t\tthis.$set(this.curTreeData, 'sortCode', this.formData.sortCode);\r\n\t\t\t\t\t\tthis.parentNode.children.sort(function(a,b){\r\n\t\t\t\t\t\t\treturn a.sortCode - b.sortCode\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$message({message:res.msg,type:'error'})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t// 选择单位\r\n\t\thandleChangeUnit(params){\r\n\t\t\tthis.dwbh = params.dwbh;\r\n\t\t\tthis.dwmc = params.dwmc;\r\n\t\t \tthis.treeDept();\r\n\t\t},\r\n\t\thandlerExpand(m) {\r\n\t\t\tm.isExpand = !m.isExpand;\r\n\t\t},\r\n\t\ttreeDept(){\r\n\t\t\tthis.$get(this.API.treeDeptWithUnit,{\r\n\t\t\t\tdwbh:this.dwbh,\r\n\t\t\t\tdwmc:this.dwmc,\r\n\t\t\t\tzts:'1,3'\r\n\t\t\t}).then(res=>{\r\n\t\t\t\tif(res.state == 'success'){\r\n\t\t\t\t\tthis.treeDataSource = res.data;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t\t// getTreeData() {\r\n\t\t//   // 取父节点\r\n\t\t//   let parentArr = this.list.filter(l => l.parentId === 0)\r\n\t\t//   this.treeDataSource = this.getTreeData(this.list, parentArr)\r\n\t\t// },\r\n\t\t// // 这里处理没有children结构的数据\r\n\t\t// getTreeData(list, dataArr) {\r\n\t\t//   dataArr.map((pNode, i) => {\r\n\t\t//     let childObj = []\r\n\t\t//     list.map((cNode, j) => {\r\n\t\t//       if (pNode.Id === cNode.parentId) {\r\n\t\t//         childObj.push(cNode)\r\n\t\t//       }\r\n\t\t//     })\r\n\t\t//     pNode.children = childObj\r\n\t\t//     if (childObj.length > 0) {\r\n\t\t//       this.getTreeData(list, childObj)\r\n\t\t//     }\r\n\t\t//   })\r\n\t\t//   return dataArr\r\n\t\t// }\r\n\t},\r\n\tcomponents:{chooseSchool}\r\n};\r\n</script>\r\n\r\n<style>\r\n.menus-tree {\r\n\twidth: 100%;\r\n\tpadding: 15px;\r\n\tborder-radius: 5px;\r\n}\r\n.menus-tree h4 {\r\n\tfont-weight: 700;\r\n\tborder-bottom: 2px solid #aaa;\r\n\tpadding: 10px 0;\r\n\tmargin-bottom: 15px !important;\r\n}\r\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/BusinessPage/schoolServices/xxzzwh.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menus-tree\"},[_c('div',[_c('chooseSchool',{on:{\"handleChangeUnit\":_vm.handleChangeUnit}})],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('div',[_c('tree-table',{ref:\"recTree\",attrs:{\"list\":_vm.treeDataSource},on:{\"update:list\":function($event){_vm.treeDataSource=$event},\"actionFunc\":_vm.actionFunc,\"deleteFunc\":_vm.deleteFunc,\"startRejectFunc\":_vm.startRejectFunc,\"handlerExpand\":_vm.handlerExpand,\"orderByFunc\":_vm.orderByFunc}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.dialogVisible,\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"form\",staticStyle:{\"padding\":\"12px\"},attrs:{\"model\":_vm.formData,\"label-width\":\"80px\",\"size\":\"mini\"}},[_c('el-form-item',{attrs:{\"label\":\"部门名称\",\"required\":\"\"}},[_c('el-input',{attrs:{\"size\":\"mini\"},model:{value:(_vm.formData.bmmc),callback:function ($$v) {_vm.$set(_vm.formData, \"bmmc\", $$v)},expression:\"formData.bmmc\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否展开\",\"required\":\"\"}},[_c('el-radio-group',{attrs:{\"size\":\"mini\"},model:{value:(_vm.formData.sfzk),callback:function ($$v) {_vm.$set(_vm.formData, \"sfzk\", $$v)},expression:\"formData.sfzk\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"是\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"否\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"排序\",\"required\":\"\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.formData.sortCode),callback:function ($$v) {_vm.$set(_vm.formData, \"sortCode\", $$v)},expression:\"formData.sortCode\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"text-right\":\"\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleCommit}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取消\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7349d7e7\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/BusinessPage/schoolServices/xxzzwh.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7349d7e7\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./xxzzwh.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./xxzzwh.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./xxzzwh.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7349d7e7\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./xxzzwh.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/BusinessPage/schoolServices/xxzzwh.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}