webpackJsonp([68],{"82om":function(t,e){},fWMy:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{currentPage:1,pageSize:25,dataList:{},queryData:{},routePath:"",queryMark:""}},methods:{handleExport:function(){var t="",e="";"lcbxq"==this.$route.params.id&&(t="assessment/exportYdkhlcbxqb.do",-1!=(e=window.location.hash.split("?")[1]).indexOf("&ydjl=1")&&(e=e.replace("&ydjl=1",""))),"wt"==this.$route.params.id&&(t="assessment/exportYdkhwtxqb.do",e=window.location.hash.split("?")[1]),"ts"==this.$route.params.id&&(t="assessment/exportYdkhtsxqb.do",e="yf="+this.queryData.yf+"&rygh="+this.queryData.rygh),"shgs"==this.$route.params.id&&(t="assessment/exportYdwtshgsxqb.do",e=window.location.hash.split("?")[1]),"ydjlwtxq"==this.$route.params.id&&(t="assessment/exportYdjlwtxqb.do",e=window.location.hash.split("?")[1]),window.open(window.baseurl+t+"?"+e)},handleXxwt:function(t,e,s){var a=this;if(window.location.hash.includes("/khbbdetail/wt")||window.location.hash.includes("/khbbdetail/ydjlwtxq")||window.location.hash.includes("/khbbdetail/ts")||window.location.hash.includes("/khbbdetail/shgs")&&"问题标题"==s[e].zh){var i=this.$router.resolve({path:window.location.hash.includes("/khbbdetail/ts")?"/complaintDetail":"/questionDetail",query:{wid:t[0]}});window.open(i.href,"_blank")}else"shgs"==this.$route.params.id&&this.$get(this.API.nfxggs,{rygh:t[1],yf:this.queryData.yf}).then(function(e){"success"==e.state&&(e.data?a.$prompt("请输入工时","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^\d+(\.\d+)?$/,inputErrorMessage:"工时格式不正确"}).then(function(e){var s=e.value;a.$get(a.API.xggs,{wid:t[0],rygh:t[1],gs:s}).then(function(t){"success"==t.state&&a.$alert("修改成功","标题名称",{confirmButtonText:"确定",callback:function(t){a.ydwtshgsxqb()}})})}).catch(function(){}):a.$alert("对不起，您无权修改工时!如有疑问，请联系管理员;","提示",{confirmButtonText:"确定",type:"warning"}))})},handleCurrentChange:function(t){this.queryData.curPage=t,this.routeGo()},getTsxqb:function(){var t=this;this.$get(this.API.ydkhtsxqb,this.queryData).then(function(e){"success"==e.state&&(t.dataList=e.data)})},getLcbxqb:function(){var t=this;this.$get(this.API.ydkhlcbxqb,this.queryData).then(function(e){"success"==e.state&&(t.dataList=e.data)})},getWtxqb:function(){var t=this;this.$get(this.API.ydkhwtxqb,this.queryData).then(function(e){"success"==e.state&&(t.dataList=e.data)})},ydjlwtxqb:function(){var t=this;this.$get(this.API.ydjlwtxqb,this.queryData).then(function(e){"success"==e.state&&(t.dataList=e.data)})},ydwtshgsxqb:function(){var t=this;this.$get(this.API.ydwtshgsxqb,this.queryData).then(function(e){"success"==e.state&&(t.dataList=e.data)})},routeGo:function(){switch(this.$route.params.id){case"ts":this.getTsxqb();break;case"wt":this.getWtxqb();break;case"shgs":this.ydwtshgsxqb();break;case"lcbxq":this.getLcbxqb();break;case"ydjlwtxq":this.ydjlwtxqb()}}},mounted:function(){this.queryData=this.$route.query,this.queryData.curPage=1,this.queryData.pageSize=this.pageSize,this.queryData.ydjl?(this.queryMark=this.queryData.ydjl,delete this.queryData.ydjl):this.queryMark="",this.routeGo()},components:{reportTable:s("aCns").a}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pd-10"},[s("div",{staticClass:"bgfff"},[s("h4",[t._v(t._s("ydjlwtxq"==t.$route.params.id||1==t.queryMark?"月度奖励":"shgs"==t.$route.params.id?"售后工时":"月度考核")+"报表 -"+t._s(t.$route.params.id.includes("ts")?"投诉详情":t.$route.params.id.includes("wt")?"问题详情":t.$route.params.id.includes("lcbxq")?"里程碑详情":t.$route.params.id.includes("shgs")?"售后工时详情":t.$route.params.id.includes("ydjlwtxq")?"问题详情":"详情")+"\n    ")]),t._v(" "),s("div",{attrs:{"text-right":""}},[s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.handleExport}},[t._v("导出")])],1),t._v(" "),s("reportTable",{attrs:{type:t.$route.params.id,tableData:t.dataList,pageShow:!0,currentPage:t.currentPage,pageSize:t.pageSize,exportShow:!1,indexArr:[],widthArr:"shgs"==t.$route.params.id?[3]:"wt"==t.$route.params.id||"ydjlwtxq"==t.$route.params.id||"ts"==t.$route.params.id?[1,3]:[2,6],rowWidth:(t.$route.params.id,"300"),Width:"140",Height:180},on:{handleCurrentChange:t.handleCurrentChange,handleXxwt:t.handleXxwt}})],1)])},staticRenderFns:[]};var r=s("Z0/y")(a,i,!1,function(t){s("82om")},"data-v-4e721734",null);e.default=r.exports}});
//# sourceMappingURL=68.de2b82dc5ddfa774d3a5.js.map