webpackJsonp([10],{"+gZH":function(t,e){},"7VQx":function(t,e,a){"use strict";var i=a("q2ZR"),s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"分配开发工程师",width:"1000px",top:"30px",visible:t.visible,"append-to-body":!0,"close-on-click-modal":!1,show:t.show},on:{"update:visible":function(e){t.visible=e},close:function(e){t.$emit("update:show",!1)}}},[a("div",{staticClass:"pd-10"},[a("el-form",{ref:"crowdxqData",staticClass:"demo-ruleForm",attrs:{model:t.crowdxqData,rules:t.rules}},[a("el-form-item",[a("div",{staticClass:"send-crowd_topic"},[t._v("分配开发工程师")])]),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",filterable:"",remote:"","reserve-keyword":"",placeholder:"请选择开发工程师(可搜索)","remote-method":t.remoteMethod,loading:t.loading},model:{value:t.crowdxqData.kfData,callback:function(e){t.$set(t.crowdxqData,"kfData",e)},expression:"crowdxqData.kfData"}},t._l(t.kfgcsList,function(t,e){return a("el-option",{key:t.uid,attrs:{label:t.nickName,value:t.uid+","+t.nickName}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入说明内容"},model:{value:t.crowdxqData.nr,callback:function(e){t.$set(t.crowdxqData,"nr",e)},expression:"crowdxqData.nr"}})],1),t._v(" "),a("el-form-item",[a("div",{staticClass:"send-crowd_topic"},[t._v("请完善需求的基本信息")])]),t._v(" "),a("el-form-item",{attrs:{prop:"rwmc"}},[a("el-input",{attrs:{size:"mini",placeholder:"一个清晰的名字能帮助开发者快速的了解需求"},model:{value:t.crowdxqData.rwmc,callback:function(e){t.$set(t.crowdxqData,"rwmc",e)},expression:"crowdxqData.rwmc"}})],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{size:"mini",placeholder:"请输入预算金额(元)"},model:{value:t.crowdxqData.xmysje,callback:function(e){t.$set(t.crowdxqData,"xmysje",e)},expression:"crowdxqData.xmysje"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"xqms"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入需求描述"},model:{value:t.crowdxqData.xqms,callback:function(e){t.$set(t.crowdxqData,"xqms",e)},expression:"crowdxqData.xqms"}})],1),t._v(" "),a("el-form-item",[a("div",{staticClass:"send-crowd_topic"},[t._v("请选择需求客户/学校/个人的期望交付日期，该日期仅作数据记录使用")])]),t._v(" "),a("el-form-item",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"picker-options":t.pickerJfrqDateBefore,"value-format":"yyyy-MM-dd",size:"mini",type:"date",placeholder:"请输入学校或个人期望交付日期，仅作数据记录使用 "},model:{value:t.crowdxqData.qwjfrq,callback:function(e){t.$set(t.crowdxqData,"qwjfrq",e)},expression:"crowdxqData.qwjfrq"}})],1),t._v(" "),a("el-form-item",[a("div",{staticClass:"send-crowd_topic",attrs:{flex:"",spacebetween:""}},[a("span",[t._v("请选择需求的招标/交付日期")])])]),t._v(" "),a("el-form-item",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd","picker-options":t.pickerJfrqDateBefore,size:"mini",type:"date",placeholder:"请输入预期交付日期日期，中标者将严格按照该日期交付需求相关信息"},on:{change:t.handleChoosejfDate2},model:{value:t.crowdxqData.jfrq,callback:function(e){t.$set(t.crowdxqData,"jfrq",e)},expression:"crowdxqData.jfrq"}})],1),t._v(" "),a("el-form-item",{attrs:{"text-right":""}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){t.sendSubmitForm("crowdxqData")}}},[t._v("提交")])],1)],1)],1)])],1)},staticRenderFns:[]};var n=function(t){a("lzNn")},l=a("VU/8")(i.a,s,!1,n,"data-v-1b5423e8",null);e.a=l.exports},AZVN:function(t,e){},BO1k:function(t,e,a){t.exports={default:a("fxRn"),__esModule:!0}},"F1L+":function(t,e,a){"use strict";var i={data:function(){return{visible:this.show,pickerBeginDateBefore:{disabledDate:function(t){(new Date).getTime();return t.getTime()<Date.now()-864e5}},texts:["1分","2分","3分","4分","5分"],filterData:{nr:"",pf:5,qwkfjfrq:""}}},methods:{handleClickSure:function(){var t=this;this.filterData.zbwid=this.zbwid,this.filterData.btnbh=this.btnbh,this.validate()&&this.$post(this.API.confirmRequirement,this.filterData).then(function(e){"success"==e.state?(t.$message({message:"保存成功",type:"success"}),t.$emit("handleClickSure",""),t.visible=!1):t.$message({message:e.msg,type:"error"})})},validate:function(){return this.filterData.qwkfjfrq?!/^[\s]*$/.test(this.filterData.nr)||(this.$alert("请输入备注内容","提示",{confirmButtonText:"确定",type:"warning"}),!1):(this.$alert("请选择交付日期","提示",{confirmButtonText:"确定",type:"warning"}),!1)}},props:{show:{type:Boolean,default:!1},zbwid:{type:String,default:""},btnbh:{type:String,default:""},demandDetail:{type:Object,default:function(){return{}}}},watch:{show:function(t,e){this.visible=this.show}},components:{}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"确认需求",width:"700px",top:"30px",visible:t.visible,"append-to-body":!0,"close-on-click-modal":!1,show:t.show},on:{"update:visible":function(e){t.visible=e},close:function(e){t.$emit("update:show",!1)}}},[a("div",{staticClass:"dialog-xqqr"},[a("section",[a("div",{staticClass:"mg-12"},[a("span",{staticClass:"filter-weight"},[t._v("附件：")]),t._v(" "),a("a",{attrs:{href:t.API.downloadFile+"?fjId="+t.demandDetail.xxyxfjwid}},[t._v(t._s(t.demandDetail.xxyxfjmc))])]),t._v(" "),a("div",{attrs:{flex:""}},[a("span",{staticClass:"filter-weight"},[t._v("评价：")]),t._v(" "),a("el-rate",{attrs:{texts:t.texts,"show-text":""},model:{value:t.filterData.pf,callback:function(e){t.$set(t.filterData,"pf",e)},expression:"filterData.pf"}})],1),t._v(" "),a("div",{staticClass:"mg-12"},[a("span",{staticClass:"filter-weight"},[t._v("期望开发交付日期：")]),t._v(" "),a("el-date-picker",{attrs:{size:"mini","picker-options":t.pickerBeginDateBefore,type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:t.filterData.qwkfjfrq,callback:function(e){t.$set(t.filterData,"qwkfjfrq",e)},expression:"filterData.qwkfjfrq"}})],1),t._v(" "),a("p",{staticClass:"pj-content"},[a("span",{staticClass:"filter-weight"},[t._v("备注：")]),t._v(" "),a("el-input",{staticStyle:{width:"670px"},attrs:{type:"textarea",rows:5,maxlength:500,placeholder:"请输入备注内容"},model:{value:t.filterData.nr,callback:function(e){t.$set(t.filterData,"nr",e)},expression:"filterData.nr"}})],1)]),t._v(" "),a("section",{staticClass:"pj-btn-group"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleClickSure}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){t.visible=!1}}},[t._v("取消")])],1)])])],1)},staticRenderFns:[]};var n=a("VU/8")(i,s,!1,function(t){a("uNzj")},"data-v-31e862f9",null);e.a=n.exports},FFdS:function(t,e,a){"use strict";(function(t){var i=a("vJtZ"),s=a("F1L+"),n=a("aS7p"),l=a("gAoV"),r=a("ZWax"),o=a("N2qq"),d=a("wOXB"),c=a("7VQx"),h=a("vVXA"),f=a("eXIC"),m=a("IfOk");e.a={data:function(){return{bhShow:!1,xqqrShow:!1,yzShow:!1,gbxqShow:!1,crowdShow:!1,xqtbShow:!1,fpgcsShow:!1,fbxqShow:!1,kfbShow:!1,jdgzVisible:!1,crowdId:"",JDGZList:[],CrowdRwxx:[],zbwid:"",curType:"",xqType:"",stepData:[],btnData:[],btnInfo:{},detailInfo:{},replyData:[]}},mounted:function(){this.zbwid=this.$route.query.id,t("#summernote").summernote({dialogsInBody:!1,placeholder:"请输入回复内容",height:200,width:"100%",minHeight:300,lang:"zh-CN",focus:!0,toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough","superscript","subscript"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["picture"],["link",["linkDialogShow","unlink"]]],callbacks:{}}),this.queryProcessTemplate(),this.queryDemand(),this.queryDemandBtns(),this.queryDemandReplys()},methods:{handleClickRwxq:function(t){this.crowdId=t,this.getCrowdId(t)},handleCommitCrowd:function(){this.queryProcessTemplate(),this.queryDemandReplys(),this.queryDemandBtns(),this.queryDemand()},handleCommitKfgcs:function(t){var e=this,a=t;a.zbwid=this.zbwid,a.btnbh=this.btnInfo.btnid,this.$post(this.API.distributionDvpt,a).then(function(t){"success"==t.state?(e.$message({message:"保存成功",type:"success"}),e.queryDemandReplys(),e.queryProcessTemplate(),e.queryDemandBtns(),e.queryDemand(),e.fpgcsShow=!1):e.$alert(re.msg,"提示",{confirmButtonText:"确定",type:"error"})})},handleBtnOprate:function(e){var a=this;if(this.btnInfo=e,"1"==e.btnid||"4"==e.btnid||"2"==e.btnid){if("<p><br></p>"==t("#summernote").summernote("code")&&"1"==e.btnid)return void this.$alert("请输入回复内容","提示",{confirmButtonText:"确定",type:"warning"});this.$post("1"==e.btnid?this.API.reply:"4"==e.btnid?this.API.remind:this.API.accept,{zbwid:this.zbwid,nr:t("#summernote").summernote("code"),btnbh:e.btnid}).then(function(i){"success"==i.state?(a.$message({message:"1"==e.btnid?"回复成功":"4"==e.btnid?"催办成功":"受理成功",type:"success"}),t("#summernote").summernote("code",""),a.queryDemandReplys(),"2"==e.btnid&&(a.queryProcessTemplate(),a.queryDemandBtns())):a.$message({message:i.msg,type:"error"})})}else"3"==e.btnid?this.bhShow=!0:"5"==e.btnid?this.fpgcsShow=!0:"6"==e.btnid?(this.curType="lstd",this.crowdShow=!0):"7"==e.btnid?this.xqtbShow=!0:"8"==e.btnid?this.xqqrShow=!0:"9"==e.btnid?(this.curType="",this.crowdShow=!0):"10"==e.btnid?(this.xqType="disabled",this.fbxqShow=!0):"11"==e.btnid?this.yzShow=!0:"12"==e.btnid?this.gbxqShow=!0:"15"==e.btnid?(this.detailInfo.sfxqbg?this.xqType="editDisabled":this.xqType="edit",this.fbxqShow=!0):this.kfbShow=!0},handleRejct:function(t){var e=this;this.$post(this.API.reject,{zbwid:this.zbwid,nr:t.sm,fjwid:t.fjwid,fjmc:t.fjmc,btnbh:this.btnInfo.btnid}).then(function(t){"success"==t.state?(e.$message({message:"已驳回",type:"success"}),e.bhShow=!1,e.queryDemandReplys(),e.queryDemandBtns(),e.queryProcessTemplate()):e.$message({message:t.msg,type:"error"})})},handleCommitQrxq:function(){this.queryDemandReplys(),this.queryProcessTemplate(),this.queryDemandBtns(),this.queryDemand()},handleClickYzxq:function(){this.queryDemandReplys(),this.queryProcessTemplate(),this.queryDemandBtns(),this.queryDemand()},handleClickXqtb:function(){this.queryDemandReplys(),this.queryProcessTemplate(),this.queryDemandBtns(),this.queryDemand()},handleClickGbxq:function(){this.queryDemandReplys(),this.queryProcessTemplate(),this.queryDemandBtns(),this.queryDemand()},handleCommitDemand:function(t){t.includes("edit")&&(this.queryDemandBtns(),this.queryDemand(),this.queryProcessTemplate(),this.queryDemandReplys())},handleClicKfb:function(){this.queryDemandBtns(),this.queryDemand(),this.queryProcessTemplate(),this.queryDemandReplys()},queryDemand:function(){var t=this;this.$get(this.API.queryDemand,{zbwid:this.zbwid}).then(function(e){"success"==e.state&&(t.detailInfo=e.data,t.$get(t.API.getDictEnum,{name:"DemandType",code:e.data.xqfl}).then(function(e){"success"==e.state&&(t.detailInfo.xqfl_display=e.data)}))})},queryDemandReplys:function(){var t=this;this.$get(this.API.demandReplys,{zbwid:this.zbwid}).then(function(e){"success"==e.state&&(t.replyData=e.data)})},queryDemandBtns:function(){var t=this;this.$get(this.API.demandBtns,{zbwid:this.zbwid}).then(function(e){"success"==e.state&&(t.btnData=e.data)})},queryProcessTemplate:function(){var t=this;this.$get(this.API.demandProcessTemplate,{zbwid:this.zbwid}).then(function(e){"success"==e.state?t.stepData=e.data:t.$message({message:e.msg,type:"error"})})},getCrowdId:function(t){var e=this;Object(m.o)({rwbh:t}).then(function(t){var a=t.data;"success"==a.state&&(null!=a.data&&0!=a.data.length?(e.JDGZList=a.data,e.JDGZList.forEach(function(t,e,a){t.czsj=formatTime(t.czsj/1e3)})):e.JDGZList=[])}),Object(m.n)({rwbh:t}).then(function(t){var a=t.data;"success"==a.state&&(null!=a.data?e.CrowdRwxx=a.data:e.CrowdRwxx={},e.jdgzVisible=!0)})}},components:{step:i.a,xqqrDialog:s.a,yzDialog:n.a,gbxqDialog:l.a,crowdDialog:r.a,bhDialog:o.a,xqtbDialog:d.a,fpgcsDialog:c.a,fbxqDialog:h.a,kfbDialog:f.a}}}).call(e,a("7t+N"))},N2qq:function(t,e,a){"use strict";var i=a("TNFc"),s={data:function(){return{visible:this.show,isClearFile:!1,formData:{sm:"",fjwid:"",fjmc:""}}},methods:{handleUploadFile:function(t){this.formData.fjmc=t[0].split("|")[1],this.formData.fjwid=t[0].split("|")[0],console.log(this.formData)},handleClickSure:function(){this.validate()&&this.$emit("handleClickSure",this.formData)},validate:function(){return!/^[\s]*$/.test(this.formData.sm)||(this.$alert("请填写说明内容","提示",{confirmButtonText:"确定",type:"warning"}),!1)}},props:{show:{type:Boolean,default:!1}},watch:{show:function(t,e){this.visible=this.show,t||(this.formData.sm="",this.formData.fjwid="",this.formData.fjmc="",this.isClearFile=!this.isClearFile)}},components:{uploadFile:i.a}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"驳回",width:"700px",top:"30px",visible:t.visible,"append-to-body":!0,"close-on-click-modal":!1,show:t.show},on:{"update:visible":function(e){t.visible=e},close:function(e){t.$emit("update:show",!1)}}},[a("div",{staticClass:"dialog-pj"},[a("section",{attrs:{flex:""}},[a("span",{staticClass:"filter-weight"},[t._v("附件：")]),t._v(" "),a("p",{staticClass:"pj-content"},[a("uploadFile",{attrs:{Type:"demand",isClearFile:t.isClearFile},on:{handleUploadFile:t.handleUploadFile}})],1)]),t._v(" "),a("section",[a("p",{staticClass:"pj-content"},[a("el-input",{staticStyle:{width:"670px"},attrs:{type:"textarea",rows:5,maxlength:500,placeholder:"请输入说明内容"},model:{value:t.formData.sm,callback:function(e){t.$set(t.formData,"sm",e)},expression:"formData.sm"}})],1)]),t._v(" "),a("section",{staticClass:"pj-btn-group"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleClickSure}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){t.visible=!1}}},[t._v("取消")])],1)])])],1)},staticRenderFns:[]};var l=a("VU/8")(s,n,!1,function(t){a("lGRZ")},"data-v-55425622",null);e.a=l.exports},OH8O:function(t,e){},U1LE:function(t,e){},ZWax:function(t,e,a){"use strict";var i=a("oFuF"),s=a("YkBq"),n={data:function(){return{dateruleVisible:!1,visible:this.show,pickerJfrqDateBefore:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},loading:!1,kfgcsData:[],kfgcsList:[],options:[{value:"1",label:"需求"},{value:"2",label:"BUG"}],rules:{rwmc:[{required:!0,message:"请输入基本信息",trigger:"blur"}],xmysje:[{validator:function(t,e,a){/^([1-9]\d*(\.\d*[1-9])?)|(0\.\d*[1-9])$/.test(e)||"2"==crowdxqData.rwlx?a():a(new Error("请填写正确金额"))},trigger:"blur"}],zbjzrq:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],jfrq:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],qwjfrq:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],xqms:[{required:!0,message:"请填写需求描述",trigger:"blur"}]},crowdxqData:{rwmc:"",sfjj:"0",sfxyzc:"0",xmysje:0,jmxx:"",xqms:"",zbjzrq:"",jfrq:"",qwjfrq:""}}},methods:{handleClose:function(){this.visible=!1},handleSeleteYwx:function(t){this.getCrowdCp(t)},handleChoosejfDate:function(t){t>this.crowdxqData.jfrq&&(this.$alert("招标截止日期不能大于交付日期，请重新选择","提示",{confirmButtonText:"确定",type:"warning"}),this.crowdxqData.zbjzrq="")},handleChoosejfDate2:function(t){t<this.crowdxqData.zbjzrq&&(this.$alert("招标截止日期不能大于交付日期，请重新选择","提示",{confirmButtonText:"确定",type:"warning"}),this.crowdxqData.jfrq="")},handleCheckDateRule:function(){this.dateruleVisible=!0},sendSubmitForm:function(t){var e=this;this.crowdxqData.jfrq&&this.crowdxqData.zbjzrq?"2"==this.crowdxqData.rwlx||/^([1-9]\d*(\.\d*[1-9])?)|(0\.\d*[1-9])$/.test(this.crowdxqData.xmysje)?this.$refs[t].validate(function(t){if(!t)return!1;e.crowdxqData.zbwid=e.zbwid,e.crowdxqData.btnbh=e.btnbh,e.$post(e.Type?e.API.openGreenChannel:e.API.projectTeamSubmitDvpt,e.crowdxqData).then(function(t){"success"==t.state?(e.$message({message:"保存成功",type:"success"}),e.$emit("handleCommitCrowd",""),e.crowdxqData.rwmc="",e.crowdxqData.sfjj="0",e.crowdxqData.sfxyzc="0",e.crowdxqData.xmysje=0,e.crowdxqData.jmxx="",e.crowdxqData.xqms="",e.crowdxqData.zbjzrq="",e.crowdxqData.jfrq="",e.crowdxqData.qwjfrq="",e.visible=!1):e.$message({message:t.msg,type:"error"})})}):this.$alert("请填写正确金额","提示",{confirmButtonText:"确定",type:"warning"}):this.$alert("请填写招标日期/交付日期","提示",{confirmButtonText:"确定",type:"warning"})},getCrowdYwx:function(){var t=this;this.$get(this.API.getCrowdYwx,{}).then(function(e){"success"==e.state&&(t.CrowdYwx=e.data)})},getCrowdCp:function(t){var e=this;this.$get(this.API.getCrowdCp,{ywxbm:t}).then(function(t){"success"==t.state&&(e.CrowdCp=t.data)})},remoteMethod:function(t){""!==t?(this.loading=!0,this.queryUser(t)):this.kfgcsList=[]},queryUser:function(t){var e=this;Object(s.u)({curPage:1,pageSize:10,Isexternal:!1,keyword:t}).then(function(t){var a=t.data;"success"==a.state&&(e.kfgcsList=a.data.rows,e.loading=!1)})}},props:{show:{type:Boolean,default:!1},title:{type:String,default:"提报Crwod任务"},Type:{type:String,default:""},zbwid:{type:String,default:""},btnbh:{type:String,default:""}},watch:{show:function(t,e){this.visible=this.show,this.show&&(this.crowdxqData.zbjzrq=Object(i.b)(7),this.getCrowdYwx(),this.queryUser())}},components:{}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"lstd"==t.Type?"绿色通道":"提报crowd任务",width:"1000px",top:"30px",visible:t.visible,"append-to-body":!0,"close-on-click-modal":!1,show:t.show},on:{"update:visible":function(e){t.visible=e},close:function(e){t.$emit("update:show",!1)}}},[a("div",{staticClass:"pd-10"},[a("el-form",{ref:"crowdxqData",staticClass:"demo-ruleForm",attrs:{model:t.crowdxqData,rules:t.rules}},[a("el-form-item",[a("div",{staticClass:"send-crowd_topic"},[t._v("请完善需求的基本信息")])]),t._v(" "),a("el-form-item",{attrs:{prop:"rwmc"}},[a("el-input",{attrs:{size:"mini",placeholder:"一个清晰的名字能帮助开发者快速的了解需求"},model:{value:t.crowdxqData.rwmc,callback:function(e){t.$set(t.crowdxqData,"rwmc",e)},expression:"crowdxqData.rwmc"}})],1),t._v(" "),a("el-form-item",[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",placeholder:"请选择需求紧急类型"},model:{value:t.crowdxqData.sfjj,callback:function(e){t.$set(t.crowdxqData,"sfjj",e)},expression:"crowdxqData.sfjj"}},[a("el-option",{attrs:{label:"紧急",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"不紧急",value:"0"}})],1)],1),t._v(" "),a("el-form-item",[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",placeholder:"请选择是否需要驻场"},model:{value:t.crowdxqData.sfxyzc,callback:function(e){t.$set(t.crowdxqData,"sfxyzc",e)},expression:"crowdxqData.sfxyzc"}},[a("el-option",{attrs:{label:"需要驻场",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"不需要驻场",value:"0"}})],1)],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{size:"mini",readonly:"2"==t.crowdxqData.rwlx,placeholder:"请输入预算金额(元)"},model:{value:t.crowdxqData.xmysje,callback:function(e){t.$set(t.crowdxqData,"xmysje",e)},expression:"crowdxqData.xmysje"}})],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"textarea",placeholder:"请输入机密信息 , 可填写项目的账号、密码等信息,只对中标用户显示"},model:{value:t.crowdxqData.jmxx,callback:function(e){t.$set(t.crowdxqData,"jmxx",e)},expression:"crowdxqData.jmxx"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"xqms"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入需求描述"},model:{value:t.crowdxqData.xqms,callback:function(e){t.$set(t.crowdxqData,"xqms",e)},expression:"crowdxqData.xqms"}})],1),t._v(" "),a("el-form-item",[a("div",{staticClass:"send-crowd_topic"},[t._v("请选择需求客户/学校/个人的期望交付日期，该日期仅作数据记录使用")])]),t._v(" "),a("el-form-item",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"picker-options":t.pickerJfrqDateBefore,"value-format":"yyyy-MM-dd",size:"mini",type:"date",placeholder:"请输入学校或个人期望交付日期，仅作数据记录使用 "},model:{value:t.crowdxqData.qwjfrq,callback:function(e){t.$set(t.crowdxqData,"qwjfrq",e)},expression:"crowdxqData.qwjfrq"}})],1),t._v(" "),a("el-form-item",[a("div",{staticClass:"send-crowd_topic",attrs:{flex:"",spacebetween:""}},[a("span",[t._v("请选择需求的招标/交付日期")]),t._v(" "),a("a",{attrs:{href:"javaScript:;;"},on:{click:t.handleCheckDateRule}},[t._v("日期规则")])])]),t._v(" "),a("el-form-item",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd","picker-options":t.pickerJfrqDateBefore,size:"mini",type:"date",placeholder:"请输入需求招标截至日期，到达该日期后，如果没有投标或者选标，需求则会自动关闭"},on:{change:t.handleChoosejfDate},model:{value:t.crowdxqData.zbjzrq,callback:function(e){t.$set(t.crowdxqData,"zbjzrq",e)},expression:"crowdxqData.zbjzrq"}})],1),t._v(" "),a("el-form-item",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd","picker-options":t.pickerJfrqDateBefore,size:"mini",type:"date",placeholder:"请输入预期交付日期日期，中标者将严格按照该日期交付需求相关信息"},on:{change:t.handleChoosejfDate2},model:{value:t.crowdxqData.jfrq,callback:function(e){t.$set(t.crowdxqData,"jfrq",e)},expression:"crowdxqData.jfrq"}})],1),t._v(" "),a("el-form-item",{attrs:{"text-right":""}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){t.sendSubmitForm("crowdxqData")}}},[t._v("提交")])],1)],1)],1)]),t._v(" "),a("el-dialog",{attrs:{title:"日期规则",visible:t.dateruleVisible,"close-on-click-modal":!1,width:"600px",top:"30px","append-to-body":""},on:{"update:visible":function(e){t.dateruleVisible=e}}},[a("div",{staticClass:"crowd-rqgz",staticStyle:{padding:"20px 10px"}},[a("h4",[t._v("第一条 名词解释")]),t._v(" "),a("p",[t._v("1、招标截止日期：表示需求在该日期之前，允许开发者投标，过期自动关闭需求。")]),t._v(" "),a("p",[t._v("2、交付日期：要求开发者在这之前（包括本日）提交需求验收。")]),t._v(" "),a("br"),t._v(" "),a("h4",[t._v("第二条 招标截止日期要求")]),t._v(" "),a("p",[t._v("\n        1、针对需求类型，预算费用在1200元以内的需求默认预留2个工作日的审核时间，1200元及以上需求的审核时间不超过5个工作日,预算费用在1200元以内的需求默认预留2个工作日的投标周期，1200元及以上需求的审核时间不超过3个工作日的投标周期。\n      ")]),t._v(" "),a("p",[t._v("2、针对BUG类型，BUG类任务审核周期为1个工作日，审核后BUG责任人应在24小时内解决，遇到复杂问题或工作量大无法在24小时内解决时，责任人需要给出计划解决时间。")]),t._v(" "),a("br"),t._v(" "),a("h4",[t._v("第三条 交付日期约定")]),t._v(" "),a("p",[t._v("\n        从需求中标日期起，大于需求标准开发人天，小于两倍标准开发人天的日期区间为需求的合理交付日期区间。需求审核人员有权根据开发资源状况在合理交付日期区间内调整交付日期，对于不在合理交付日期区间内的交付时间要求，由需求方与需求审核人进行协商并达成一致，无法达成一致时，需求方可向平台进行申诉。。\n      ")]),t._v(" "),a("br"),t._v(" "),a("h4",[t._v("第四条 约定解释权")]),t._v(" "),a("p",[t._v("1、该解释权归属平台所有，自发布日期开始，立即生效，无需和发包方确认。")]),t._v(" "),a("p",[t._v("2、若任务确认紧急，请在发布任务的时候，选择紧急任务，平台审核方会和发包方确认，并收取合理的加急费用。")])])])],1)},staticRenderFns:[]};var r=a("VU/8")(n,l,!1,function(t){a("pKAK")},"data-v-2306a728",null);e.a=r.exports},aS7p:function(t,e,a){"use strict";var i={data:function(){return{visible:this.show,isClearFile:!1,texts:["1分","2分","3分","4分","5分"],tclsList:[],teacherData:[],filterData:{nr:"",qrls:"",sfhq:1,kfzl:5,fwzl:5,xysd:5,crowdpjsm:""}}},methods:{handleChangeTcls:function(t){},handleClickSure:function(){var t=this;this.filterData.btnbh=this.btnbh,this.filterData.zbwid=this.zbwid,this.filterData.qrls=this.teacherData.join("|"),this.validate()&&this.$post(this.API.projectTeamVerifyDvpt,this.filterData).then(function(e){"success"==e.state&&(t.$emit("handleClickSure",""),t.$message({message:"保存成功",type:"success"}),t.visible=!1,t.filterData.nr="",t.filterData.qrls="",t.filterData.sfhq=1,t.filterData.kfzl=5,t.filterData.fwzl=5,t.filterData.xysd=5,t.filterData.crowdpjsm="")})},validate:function(){return this.filterData.qrls?/^[\s]*$/.test(this.filterData.nr)?(this.$alert("请填写内容","提示",{confirmButtonText:"确定",type:"warning"}),!1):!/^[\s]*$/.test(this.filterData.crowdpjsm)||(this.$alert("请填写crowd评价说明","提示",{confirmButtonText:"确定",type:"warning"}),!1):(this.$alert("请选择确认老师","提示",{confirmButtonText:"确定",type:"warning"}),!1)},getUsers:function(){var t=this;this.teacherData=[],this.$get(this.API.getUsers,{curPage:1,pageSize:999,xmbh:this.xmbh,unitType:1}).then(function(e){"success"==e.state&&(t.tclsList=e.data.rows,t.candidateConfirmPersons())})},candidateConfirmPersons:function(){var t=this;this.$get(this.API.candidateConfirmPersons,{zbwid:this.zbwid}).then(function(e){"success"==e.state&&t.tclsList.forEach(function(a){e.data.forEach(function(e){a.userid==e&&t.teacherData.push(a.userid+","+a.username)})})})}},props:{show:{type:Boolean,default:!1},zbwid:{type:String,default:""},btnbh:{type:String,default:""},xmbh:{type:String,default:""}},watch:{show:function(t,e){this.visible=this.show,t&&this.getUsers()}},components:{}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"完成验证",width:"700px",top:"30px",visible:t.visible,"append-to-body":!0,"close-on-click-modal":!1,show:t.show},on:{"update:visible":function(e){t.visible=e},close:function(e){t.$emit("update:show",!1)}}},[a("div",{staticClass:"dialog-pj"},[a("section",[a("p",[a("span",{staticClass:"filter-weight before-require"},[t._v("提报老师：")]),t._v(" "),a("el-select",{staticStyle:{width:"595px"},attrs:{size:"mini",multiple:"",filterable:"",placeholder:"请选择提出老师(可按姓名搜索)"},on:{change:t.handleChangeTcls},model:{value:t.teacherData,callback:function(e){t.teacherData=e},expression:"teacherData"}},t._l(t.tclsList,function(t,e){return a("el-option",{key:e,attrs:{label:t.username,value:t.userid+","+t.username}})}))],1),t._v(" "),a("p",{staticClass:"mg-12"},[a("span",{staticClass:"filter-weight before-require"},[t._v("是否会签：")]),t._v(" "),a("el-radio-group",{model:{value:t.filterData.sfhq,callback:function(e){t.$set(t.filterData,"sfhq",e)},expression:"filterData.sfhq"}},[a("el-radio",{attrs:{label:1}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:0}},[t._v("否")])],1)],1),t._v(" "),a("p",{staticClass:"mg-12",attrs:{flex:""}},[a("span",{staticClass:"filter-weight before-require"},[t._v("开发质量：")]),t._v(" "),a("el-rate",{attrs:{texts:t.texts,"show-text":""},model:{value:t.filterData.kfzl,callback:function(e){t.$set(t.filterData,"kfzl",e)},expression:"filterData.kfzl"}})],1),t._v(" "),a("p",{attrs:{flex:""}},[a("span",{staticClass:"filter-weight before-require"},[t._v("服务质量：")]),t._v(" "),a("el-rate",{attrs:{texts:t.texts,"show-text":""},model:{value:t.filterData.fwzl,callback:function(e){t.$set(t.filterData,"fwzl",e)},expression:"filterData.fwzl"}})],1),t._v(" "),a("p",{staticClass:"mg-12",attrs:{flex:""}},[a("span",{staticClass:"filter-weight before-require"},[t._v("响应速度：")]),t._v(" "),a("el-rate",{attrs:{texts:t.texts,"show-text":""},model:{value:t.filterData.xysd,callback:function(e){t.$set(t.filterData,"xysd",e)},expression:"filterData.xysd"}})],1),t._v(" "),a("p",{staticClass:"pj-content"},[a("span",{staticClass:"filter-weight before-require"},[t._v("内容：")]),t._v(" "),a("el-input",{staticStyle:{width:"680px"},attrs:{type:"textarea",rows:5,maxlength:500,placeholder:"请输入备注内容"},model:{value:t.filterData.nr,callback:function(e){t.$set(t.filterData,"nr",e)},expression:"filterData.nr"}})],1),t._v(" "),a("p",{staticClass:"pj-content"},[a("span",{staticClass:"filter-weight before-require"},[t._v("crowd评价说明：")]),t._v(" "),a("el-input",{staticStyle:{width:"680px"},attrs:{type:"textarea",rows:5,maxlength:500,placeholder:"请输入crowd评价说明"},model:{value:t.filterData.crowdpjsm,callback:function(e){t.$set(t.filterData,"crowdpjsm",e)},expression:"filterData.crowdpjsm"}})],1)]),t._v(" "),a("section",{staticClass:"pj-btn-group"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleClickSure}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){t.visible=!1}}},[t._v("取消")])],1)])])],1)},staticRenderFns:[]};var n=a("VU/8")(i,s,!1,function(t){a("jamR")},"data-v-a0dd56f4",null);e.a=n.exports},c0ET:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("FFdS"),s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"demandDetail-pannel"},[a("div",{staticClass:"pannelPaddingBg-10 pull-left detail-left"},[a("div",{staticClass:"demandDetail",attrs:{colcenter:""}},[a("div",{staticClass:"demandDetail_bgimg",attrs:{center:""}},[t._v(t._s(t.detailInfo.cpjc))]),t._v(" "),a("div",{staticClass:"demandDetail-info",attrs:{"flex-column":"",spacebetween:""}},[a("h4",{staticClass:"filter-weight"},[t._v(t._s(t.detailInfo.bt))]),t._v(" "),a("p",[a("el-tag",{key:"1",attrs:{type:"success",effect:"plain",size:"mini"}},[t._v(t._s(t.detailInfo.dqlcmc))])],1),t._v(" "),a("p",[t._v("\n            "+t._s(t.detailInfo.tcsj)+" 　 "+t._s(t.detailInfo.tcrxm)+" 　　\n            "),a("span",{staticClass:"title"},[t._v("需求编号：")]),t._v("\n            "+t._s(t.detailInfo.xqbh)+" 　　\n            "),a("span",{staticClass:"title"},[t._v("关联需求编号：")]),t._v("\n            "+t._s(t.detailInfo.glxqbh?t.detailInfo.glxqbh:"无")+" 　　\n          ")]),t._v(" "),a("p",[a("span",{staticClass:"title"},[t._v("设计编号：")]),t._v(" "),t.detailInfo.sjbh?a("a",{attrs:{href:"javaScript:;"},on:{click:function(e){t.handleClickRwxq(t.detailInfo.sjbh)}}},[t._v(t._s(t.detailInfo.sjbh))]):t._e(),t._v(" "),t.detailInfo.sjbh?t._e():a("span",[t._v("无")]),t._v("\n            　　\n            "),a("span",{staticClass:"title"},[t._v("开发编号：")]),t._v(" "),t.detailInfo.kfbh?a("a",{attrs:{href:"javaScript:;"},on:{click:function(e){t.handleClickRwxq(t.detailInfo.kfbh)}}},[t._v(t._s(t.detailInfo.kfbh))]):t._e(),t._v(" "),t.detailInfo.kfbh?t._e():a("span",[t._v("无")])]),t._v(" "),a("p",[a("span",{staticClass:"title"},[t._v("提出老师：")]),t._v("\n            "+t._s(t.detailInfo.tcls)+" ( "+t._s(t.detailInfo.lsdw)+" )　　\n            "),a("span",{staticClass:"title"},[t._v("需求类型：")]),t._v("\n            "+t._s(t.detailInfo.xqfl_display)+"　　\n            "),a("span",{staticClass:"title"},[t._v("责任人：")]),t._v("\n            "+t._s(t.detailInfo.dqzrr?t.detailInfo.dqzrr:"无")+"\n          ")]),t._v(" "),a("p",[a("span",{staticClass:"title"},[t._v("所属项目：")]),t._v("\n            "+t._s(t.detailInfo.xmbh)+" "+t._s(t.detailInfo.xmmc)+"　　\n            "),a("span",{staticClass:"title"},[t._v("产品分类：")]),t._v("\n            "+t._s(t.detailInfo.cpmc)+"\n          ")]),t._v(" "),a("p",[a("span",{staticClass:"title"},[t._v("期望设计完成日期：")]),t._v("\n            "+t._s(t.detailInfo.qwsjwcrq)+" 　　\n            "),a("span",{staticClass:"title"},[t._v("期望开发交付日期：")]),t._v("\n            "+t._s(t.detailInfo.qwkfjfrq)+" 　　\n            "),a("span",{staticClass:"title"},[t._v("模块：")]),t._v("\n            "+t._s(t.detailInfo.cpbjmc)+" 　　\n          ")]),t._v(" "),a("p",[a("span",{staticClass:"title"},[t._v("需求文档：")]),t._v(" "),a("a",{attrs:{title:"点击下载",href:t.API.downloadFile+"?fjId="+t.detailInfo.xqfjwid,target:"_blank"}},[t._v(t._s(t.detailInfo.xqfjmc))]),t._v("\n            　　\n            "),a("span",[a("span",{staticClass:"title"},[t._v("详细需求设计：")]),t._v(" "),t.detailInfo.xxyxfjmc?a("a",{attrs:{title:"点击下载",href:t.API.downloadFile+"?fjId="+t.detailInfo.xxyxfjwid,target:"_blank"}},[t._v(t._s(t.detailInfo.xxyxfjmc))]):t._e(),t._v(" "),t.detailInfo.xxyxfjmc?t._e():a("span",[t._v("无")])]),t._v("　　\n            "),a("span",[a("span",{staticClass:"title"},[t._v("原型设计：")]),t._v(" "),t.detailInfo.yxfjmc?a("a",{attrs:{title:"点击下载",href:t.API.downloadFile+"?fjId="+t.detailInfo.yxwjbh,target:"_blank"}},[t._v(t._s(t.detailInfo.yxfjmc))]):t._e(),t._v(" "),t.detailInfo.yxfjmc?t._e():a("span",[t._v("无")])]),t._v("　　\n            "),a("span",[a("span",{staticClass:"title"},[t._v("开发包：")]),t._v(" "),t.detailInfo.kfwjbh?a("a",{attrs:{title:"点击下载",href:t.API.downloadFile+"?fjId="+t.detailInfo.kfwjbh,target:"_blank"}},[t._v(t._s(t.detailInfo.kffjmc))]):t._e(),t._v(" "),t.detailInfo.kfwjbh?t._e():a("span",[t._v("无")])])])])]),t._v(" "),a("div",{staticClass:"detail-content"},[a("div",{staticClass:"content",domProps:{innerHTML:t._s(t.detailInfo.nr)}}),t._v(" "),a("ul",t._l(t.replyData,function(e,i){return a("li",{key:i,attrs:{colcenter:""}},[a("div",{staticClass:"reply-type"},[a("span",[t._v(t._s(e.hflxmc))])]),t._v(" "),a("div",[a("p",[a("span",{staticClass:"title"},[t._v(t._s(e.hfrxm)+"　发表于　"+t._s(e.hfsj))]),t._v("　\n                "),a("el-tag",{key:"1",attrs:{type:"success",effect:"plain",size:"mini"}},[t._v(t._s(e.dqlcmc))])],1),a("br"),t._v(" "),a("div",[a("div",{domProps:{innerHTML:t._s(e.nr)}}),t._v(" "),a("div",[a("br"),t._v(" "),e.fbfjmc?a("p",[a("span",[t._v("附件：")]),a("a",{attrs:{title:"点击下载",href:t.API.downloadFile+"?fjId="+e.fbwjbh,target:"_blank"}},[t._v(t._s(e.fbfjmc))])]):t._e(),t._v(" "),e.xxyxfjmc?a("p",[a("span",[t._v("附件：")]),a("a",{attrs:{title:"点击下载",href:t.API.downloadFile+"?fjId="+e.xxyxfjwid,target:"_blank"}},[t._v(t._s(e.xxyxfjmc))])]):t._e(),t._v(" "),e.crowdrwbh?a("p",[a("span",[t._v("任务编号："+t._s(e.crowdrwbh)+" 　 ")]),a("a",{attrs:{href:"javaScript:;"},on:{click:function(a){t.handleClickRwxq(e.crowdrwbh)}}},[t._v("查看任务详情")])]):t._e(),t._v(" "),e.fjwid?a("p",[a("span",[t._v("附件：　 ")]),a("a",{attrs:{title:"点击下载",href:t.API.downloadFile+"?fjId="+e.fjwid,target:"_blank"}},[t._v(t._s(e.fjmc))])]):t._e()])])])])})),t._v(" "),11!=t.detailInfo.xqzt?a("div",[a("div",{attrs:{id:"summernote"}})]):t._e(),t._v(" "),a("div",{attrs:{"text-right":""}},t._l(t.btnData,function(e,i){return a("el-button",{key:i,attrs:{size:"mini",type:"primary"},on:{click:function(a){t.handleBtnOprate(e)}}},[t._v(t._s(e.btnabb))])}))])]),t._v(" "),a("div",{staticClass:"pannelPaddingBg-10 guid pull-right"},[a("h5",[t._v("需求工作指南")]),t._v(" "),a("div",[a("step",{attrs:{list:t.stepData}})],1)]),t._v(" "),a("el-dialog",{attrs:{title:"进度跟踪["+t.crowdId+"]",visible:t.jdgzVisible,"close-on-click-modal":!1,width:"800px",top:"30px","append-to-body":""},on:{"update:visible":function(e){t.jdgzVisible=e}}},[a("div",{staticStyle:{padding:"20px 10px"}},[a("div",{staticClass:"CrowdRwxx"},[a("span",[t._v("任务名称 :")]),t._v(" "),a("span",{staticClass:"Crowdrwmc",attrs:{title:"{}"==JSON.stringify(t.CrowdRwxx)?"":t.CrowdRwxx.rwmc}},[t._v("\n\t\t\t\t\t\t\t"+t._s("{}"==JSON.stringify(t.CrowdRwxx)?"无":t.CrowdRwxx.rwmc)+"\n\t\t\t\t\t\t")]),t._v(" "),a("span",[t._v("交付日期 :")]),t._v(" "),a("span",[t._v(t._s("{}"==JSON.stringify(t.CrowdRwxx)?"无":t.CrowdRwxx.jfrq))])]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.JDGZList,border:"","min-width":"1200"}},[a("el-table-column",{attrs:{prop:"czrxm",label:"操作人姓名","show-overflow-tooltip":"",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"czsj",label:"操作时间","show-overflow-tooltip":"",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"shyy",label:"审核意见","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"ztDisplay",label:"状态","show-overflow-tooltip":""}})],1)],1)]),t._v(" "),a("xqqrDialog",{attrs:{show:t.xqqrShow,zbwid:t.zbwid,btnbh:t.btnInfo.btnid,demandDetail:t.detailInfo},on:{"update:show":function(e){t.xqqrShow=e},handleClickSure:t.handleCommitQrxq}}),t._v(" "),a("yzDialog",{attrs:{show:t.yzShow,zbwid:t.zbwid,btnbh:t.btnInfo.btnid,xmbh:t.detailInfo.xmbh},on:{"update:show":function(e){t.yzShow=e},handleClickSure:t.handleClickYzxq}}),t._v(" "),a("gbxqDialog",{attrs:{show:t.gbxqShow,zbwid:t.zbwid,btnbh:t.btnInfo.btnid,demandDetail:t.detailInfo},on:{"update:show":function(e){t.gbxqShow=e},handleClickSure:t.handleClickGbxq}}),t._v(" "),a("crowdDialog",{attrs:{show:t.crowdShow,Type:t.curType,zbwid:t.zbwid,btnbh:t.btnInfo.btnid},on:{"update:show":function(e){t.crowdShow=e},handleCommitCrowd:t.handleCommitCrowd}}),t._v(" "),a("bhDialog",{attrs:{show:t.bhShow},on:{"update:show":function(e){t.bhShow=e},handleClickSure:t.handleRejct}}),t._v(" "),a("xqtbDialog",{attrs:{show:t.xqtbShow,zbwid:t.zbwid,btnbh:t.btnInfo.btnid,xmbh:t.detailInfo.xmbh},on:{"update:show":function(e){t.xqtbShow=e},handleClickSure:t.handleClickXqtb}}),t._v(" "),a("fpgcsDialog",{attrs:{show:t.fpgcsShow},on:{"update:show":function(e){t.fpgcsShow=e},handleCommitKfgcs:t.handleCommitKfgcs}}),t._v(" "),a("fbxqDialog",{attrs:{show:t.fbxqShow,demandInfo:t.detailInfo,Type:t.xqType,btnbh:t.btnInfo.btnid},on:{"update:show":function(e){t.fbxqShow=e},handleCommitDemand:t.handleCommitDemand}}),t._v(" "),a("kfbDialog",{attrs:{show:t.kfbShow,zbwid:t.zbwid,btnbh:t.btnInfo.btnid},on:{"update:show":function(e){t.kfbShow=e},handleClickSure:t.handleClicKfb}})],1)},staticRenderFns:[]};var n=function(t){a("AZVN")},l=a("VU/8")(i.a,s,!1,n,"data-v-3518650a",null);e.default=l.exports},eXIC:function(t,e,a){"use strict";var i=a("TNFc"),s={data:function(){return{visible:this.show,isClearFile:!1,filterData:{fbyy:"",fbsm:"",fjwid:"",fjmc:""}}},methods:{handleUploadFile:function(t){this.filterData.fjwid=t[0].split("|")[0],this.filterData.fjmc=t[0].split("|")[1]},handleClickSure:function(){var t=this;this.filterData.zbwid=this.zbwid,this.filterData.btnbh=this.btnbh,this.validate()&&this.$post(this.API.submitDemandFile,this.filterData).then(function(e){"success"==e.state?(t.$message({message:"提交成功",type:"success"}),t.filterData.fbyy=t.filterData.fbsm="",t.filterData.fjwid=t.filterData.fjmc="",t.visible=!1,t.isClearFile=!t.isClearFile,t.$emit("handleClickSure","")):t.$message({message:e.msg,type:"error"})})},validate:function(){return/^[\s]*$/.test(this.filterData.fbsm)?(this.$alert("请输入说明内容","提示",{confirmButtonText:"确定",type:"warning"}),!1):/^[\s]*$/.test(this.filterData.fbyy)?(this.$alert("请输入原因","提示",{confirmButtonText:"确定",type:"warning"}),!1):!!this.filterData.fjwid||(this.$alert("请上传附件","提示",{confirmButtonText:"确定",type:"warning"}),!1)}},props:{show:{type:Boolean,default:!1},zbwid:{type:String,default:""},btnbh:{type:String,default:""}},watch:{show:function(t,e){this.visible=this.show}},components:{uploadFile:i.a}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"提交开发包",width:"700px",top:"30px",visible:t.visible,"append-to-body":!0,"close-on-click-modal":!1,show:t.show},on:{"update:visible":function(e){t.visible=e},close:function(e){t.$emit("update:show",!1)}}},[a("div",{staticClass:"dialog-xqqr"},[a("section",[a("div",{staticClass:"mg-12"},[a("p",{staticClass:"pj-content",attrs:{flex:""}},[a("span",{staticClass:"filter-weight before-require"},[t._v("发包原因：")]),t._v(" "),a("el-input",{staticStyle:{width:"650px"},attrs:{size:"mini",type:"text",placeholder:"请输入发包原因"},model:{value:t.filterData.fbyy,callback:function(e){t.$set(t.filterData,"fbyy",e)},expression:"filterData.fbyy"}})],1),t._v(" "),a("p",{staticClass:"pj-content"},[a("span",{staticClass:"filter-weight before-require"},[t._v("发包说明：")]),t._v(" "),a("el-input",{staticStyle:{width:"670px"},attrs:{type:"textarea",rows:5,maxlength:500,placeholder:"请输入备注内容"},model:{value:t.filterData.fbsm,callback:function(e){t.$set(t.filterData,"fbsm",e)},expression:"filterData.fbsm"}})],1),t._v(" "),a("p",{staticClass:"pj-content"},[a("span",{staticClass:"filter-weight before-require"},[t._v("附件：")]),t._v(" "),a("uploadFile",{attrs:{Type:"demand",istb:t.isClearFile},on:{handleUploadFile:t.handleUploadFile}})],1)])]),t._v(" "),a("section",{staticClass:"pj-btn-group"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleClickSure}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){t.visible=!1}}},[t._v("取消")])],1)])])],1)},staticRenderFns:[]};var l=a("VU/8")(s,n,!1,function(t){a("+gZH")},"data-v-169feb44",null);e.a=l.exports},fxRn:function(t,e,a){a("+tPU"),a("zQR9"),t.exports=a("g8Ux")},g8Ux:function(t,e,a){var i=a("77Pl"),s=a("3fs2");t.exports=a("FeBl").getIterator=function(t){var e=s(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},gAoV:function(t,e,a){"use strict";var i={data:function(){return{visible:this.show,texts:["1分","2分","3分","4分","5分"],filterData:{nr:"",pf:5}}},methods:{handleClose:function(){this.visible=!1},handleClickSure:function(){var t=this;this.filterData.zbwid=this.zbwid,this.filterData.btnbh=this.btnbh,this.validate()&&this.$post(this.API.confirmDvpt,this.filterData).then(function(e){"success"==e.state?(t.$message({message:"提交成功",type:"success"}),t.filterData.nr="",t.filterData.pf=5,t.visible=!1,t.$emit("handleClickSure","")):t.$message({message:e.msg,type:"error"})})},validate:function(){return!/^[\s]*$/.test(this.filterData.nr)||(this.$alert("请输入备注内容","提示",{confirmButtonText:"确定",type:"warning"}),!1)}},props:{show:{type:Boolean,default:!1},zbwid:{type:String,default:""},btnbh:{type:String,default:""},demandDetail:{type:Object,default:function(){return{}}}},watch:{show:function(t,e){this.visible=this.show}},components:{}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"关闭需求",width:"700px",top:"30px",visible:t.visible,"append-to-body":!0,"close-on-click-modal":!1,show:t.show},on:{"update:visible":function(e){t.visible=e},close:function(e){t.$emit("update:show",!1)}}},[a("div",{staticClass:"dialog-xqqr"},[a("section",[a("div",{staticClass:"mg-12"},[a("span",{staticClass:"filter-weight"},[t._v("原型附件：")]),t._v(" "),t.demandDetail.yxfjmc?a("a",{attrs:{href:t.API.downloadFile+"?fjId="+t.demandDetail.yxwjbh}},[t._v(t._s(t.demandDetail.yxfjmc))]):t._e(),t._v(" "),t.demandDetail.yxfjmc?t._e():a("span",[t._v("无")])]),t._v(" "),a("div",[a("span",{staticClass:"filter-weight"},[t._v("开发包附件：")]),t._v(" "),t.demandDetail.kffjmc?a("a",{attrs:{href:t.API.downloadFile+"?fjId="+t.demandDetail.kfwjbh}},[t._v(t._s(t.demandDetail.kffjmc))]):t._e(),t._v(" "),t.demandDetail.kffjmc?t._e():a("span",[t._v("无")])]),t._v(" "),a("div",{staticClass:"mg-12",attrs:{flex:""}},[a("span",{staticClass:"filter-weight"},[t._v("评价：")]),t._v(" "),a("el-rate",{attrs:{texts:t.texts,"show-text":""},model:{value:t.filterData.pj,callback:function(e){t.$set(t.filterData,"pj",e)},expression:"filterData.pj"}})],1),t._v(" "),a("p",{staticClass:"pj-content"},[a("span",{staticClass:"filter-weight"},[t._v("备注：")]),t._v(" "),a("el-input",{staticStyle:{width:"670px"},attrs:{type:"textarea",rows:5,maxlength:500,placeholder:"请输入备注内容"},model:{value:t.filterData.nr,callback:function(e){t.$set(t.filterData,"nr",e)},expression:"filterData.nr"}})],1)]),t._v(" "),a("section",{staticClass:"pj-btn-group"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleClickSure}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:t.handleClose}},[t._v("取消")])],1)])])],1)},staticRenderFns:[]};var n=a("VU/8")(i,s,!1,function(t){a("oN0t")},"data-v-5d4bdcf8",null);e.a=n.exports},hyRU:function(t,e){},jamR:function(t,e){},lGRZ:function(t,e){},lzNn:function(t,e){},oN0t:function(t,e){},pKAK:function(t,e){},pOCr:function(t,e,a){"use strict";var i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-tree",{ref:"tree2",staticClass:"filter-tree",attrs:{data:this.options,props:this.defaultProps,"node-key":"id","default-expanded-keys":["DSROOT"]},on:{"node-click":this.handleNodeClick}})],1)},staticRenderFns:[]};var s=a("VU/8")({data:function(){return{defaultProps:{value:"id",label:"title"},options:[]}},mounted:function(){this.demandProductTree()},methods:{handleNodeClick:function(t){this.$emit("handleNodeClick",t)},demandProductTree:function(){var t=this;this.$get(this.API.demandProductTree,{}).then(function(e){"success"==e.state&&(t.options=e.data)})}},components:{}},i,!1,function(t){a("rjsR")},"data-v-72bbfa06",null);e.a=s.exports},q2ZR:function(t,e,a){"use strict";(function(t){a("TNFc");var i=a("YkBq"),s=a("oFuF");e.a={data:function(){return{dateruleVisible:!1,visible:this.show,pickerJfrqDateBefore:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},loading:!1,kfgcsData:[],kfgcsList:[],rules:{rwmc:[{required:!0,message:"请输入基本信息",trigger:"blur"}],xmysje:[{validator:function(t,e,a){/^([1-9]\d*(\.\d*[1-9])?)|(0\.\d*[1-9])$/.test(e)||"2"==crowdxqData.rwlx?a():a(new Error("请填写正确金额"))},trigger:"blur"}],zbjzrq:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}]},crowdxqData:{kfData:"",rwmc:"",xmysje:0,zbjzrq:"",qwjfrq:"",jfrq:"",nr:""}}},methods:{sendSubmitForm:function(t){var e=this;this.crowdxqData.rwmc?"2"==this.crowdxqData.rwlx||/^([1-9]\d*(\.\d*[1-9])?)|(0\.\d*[1-9])$/.test(this.crowdxqData.xmysje)?this.crowdxqData.xqms?this.crowdxqData.jfrq&&this.crowdxqData.zbjzrq?this.$confirm("您确定分配任务给【王凯】吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$emit("handleCommitKfgcs",e.crowdxqData)}).catch(function(){}):this.$alert("请填写招标日期/交付日期","提示",{confirmButtonText:"确定",type:"warning"}):this.$alert("请填写需求描述","提示",{confirmButtonText:"确定",type:"warning"}):this.$alert("请填写正确金额","提示",{confirmButtonText:"确定",type:"warning"}):this.$alert("请填写需求名称","提示",{confirmButtonText:"确定",type:"warning"})},handleChoosejfDate:function(t){t>this.crowdxqData.jfrq&&(this.$alert("招标截止日期不能大于交付日期，请重新选择","提示",{confirmButtonText:"确定",type:"warning"}),this.crowdxqData.zbjzrq="")},handleChoosejfDate2:function(t){t<this.crowdxqData.zbjzrq&&(this.$alert("招标截止日期不能大于交付日期，请重新选择","提示",{confirmButtonText:"确定",type:"warning"}),this.crowdxqData.jfrq="")},remoteMethod:function(t){""!==t?(this.loading=!0,this.queryUser(t)):this.kfgcsList=[]},queryUser:function(t){var e=this;Object(i.u)({curPage:1,pageSize:10,Isexternal:!1,keyword:t}).then(function(t){var a=t.data;"success"==a.state&&(e.kfgcsList=a.data.rows,e.loading=!1)})}},props:{show:{type:Boolean,default:!1}},watch:{show:function(e,a){this.visible=this.show,this.show?(this.crowdxqData.zbjzrq=Object(s.b)(7),this.$nextTick(function(){t("#summernoteT").summernote({dialogsInBody:!0,placeholder:"请输入内容",focus:!0,height:200,width:"100%",minHeight:200,lang:"zh-CN",toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough","superscript","subscript"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["picture"],["link",["linkDialogShow","unlink"]]]})}),this.queryUser()):(this.crowdxqData.kfData="",this.crowdxqData.rwmc="",this.crowdxqData.xmysje=0,this.crowdxqData.xqms="",this.crowdxqData.zbjzrq="",this.crowdxqData.qwjfrq="",this.crowdxqData.jfrq="",this.crowdxqData.nr="")}},components:{}}}).call(e,a("7t+N"))},rjsR:function(t,e){},t1J1:function(t,e,a){"use strict";(function(t){var i=a("BO1k"),s=a.n(i),n=a("mtWM"),l=(a.n(n),a("nfA5")),r=a("TNFc"),o=a("IfOk"),d=a("tv1R"),c=a("pOCr"),h=a("oFuF");e.a={data:function(){return{isInnerItem:!1,dialogdemandVisible:!1,demandListVisible:!1,visible:this.show,isClearFile:!1,defaultProps:{value:"id",label:"title"},options:[],xmmc:"",xmbh:"",xmzt:"",xqflList:[],xmcpList:[],tclsList:[],sfxsList:[{mc:"是",label:"1"},{mc:"否",label:"0"}],crowdywxList:[],crowdcpList:[],cpData:[],val:[],teacherData:[],fwznfjMc:"",glxqMc:"",demandData:{xmbh:"",xmmc:"",xqfl:"",teacherData:"",sfsx:"0",cpbjbh:"",cpbjmc:"",crowdywxbh:"",crowdywxmc:"",crowdcpbh:"",crowdcpmc:"",qwsjwcrq:"",qwkfjfrq:"",glxqWid:"",bt:"",xqfjwid:"",xqfjmc:""},pickerBeginDateBefore:{disabledDate:function(t){(new Date).getTime();return t.getTime()<Date.now()-864e5}}}},props:{show:{type:Boolean,default:!1},demandInfo:{type:Object,default:function(){return{}}},Type:{type:String,default:""},btnbh:{type:String,default:""}},components:{itemChoose:l.a,uploadFile:r.a,xqlistDilog:d.a,cpTree:c.a},methods:{handleChangeQwwcrq:function(){this.demandData.qwkfjfrq&&new Date(this.demandData.qwsjwcrq)>new Date(this.demandData.qwkfjfrq)&&(this.$alert("期望设计完成日期必须小于期望开发交付日期","提示",{confirmButtonText:"确定",type:"warning",callback:function(t){}}),this.demandData.qwsjwcrq="")},handleChangeQwjfrq:function(){this.demandData.qwsjwcrq&&new Date(this.demandData.qwsjwcrq)>new Date(this.demandData.qwkfjfrq)&&(this.$alert("期望设计完成日期必须小于期望开发交付日期","提示",{confirmButtonText:"确定",type:"warning",callback:function(t){}}),this.demandData.qwkfjfrq="")},handleRemoveFwznfj:function(){this.fwznfjMc="",this.demandData.xqfjwid="",this.demandData.xqfjmc=""},handleNodeClick:function(t){!t.children&&t.isOptional&&(this.demandData.cpbjbh=t.id,this.demandData.cpbjmc=t.title,this.cpTreeShow=!1)},handleItemChange:function(){this.cpData=this.getCascaderObj(this.val,this.options),this.cpData[this.cpData.length-1].isOptional||(this.$alert("模块选择有误，请选择到产品模块~","提示",{confirmButtonText:"确定",type:"warning",callback:function(t){}}),this.cpData=[])},getCascaderObj:function(t,e){return t.map(function(t,a,i){var n=!0,l=!1,r=void 0;try{for(var o,d=s()(e);!(n=(o=d.next()).done);n=!0){var c=o.value;if(c.id==t)return e=c.children,c}}catch(t){l=!0,r=t}finally{try{!n&&d.return&&d.return()}finally{if(l)throw r}}return null})},handleUploadFile:function(t){this.fwznfjMc="",t.length?(this.demandData.xqfjwid=t[0].split("|")[0],this.demandData.xqfjmc=t[0].split("|")[1]):(this.demandData.xqfjwid="",this.demandData.xqfjmc="")},handleChangeCrowdYwx:function(t){var e=this;this.crowdywxList.forEach(function(a){a.lbdm==t&&(e.demandData.crowdywxmc=a.lbmc)}),this.getCrowdCp(t)},handleChangeCrowdCp:function(t){var e=this;this.crowdcpList.forEach(function(a){a.lbdm==t&&(e.demandData.crowdcpmc=a.lbmc)})},handleEdit:function(t){this.xmzt=t.xmzt,this.demandData.xmbh=t.xmbh,this.demandData.xmmc=t.xmmc,this.getUsers(),this.dialogdemandVisible=!1},handleChooseDemand:function(t){this.glxqMc="["+t.xqbh+"]"+t.bt,this.demandData.glxqWid=t.wid},adddemandtItem:function(){this.dialogdemandVisible=!0},handleRelaseDemand:function(){this.demandListVisible=!0},handleCommit:function(){var e=this;1==this.demandData.xqfl&&(this.demandData.glxqWid=""),this.demandInfo.wid&&this.Type.includes("edit")&&(this.demandData.wid=this.demandInfo.wid),this.btnbh&&(this.demandData.btnbh=this.btnbh),this.demandData.cpbjbh=this.cpData.length?this.cpData[this.cpData.length-1].id:"",this.demandData.cpbjmc=this.cpData.length?this.cpData[this.cpData.length-1].title:"",this.demandData.teacherData=this.teacherData.join("|"),this.demandData.nr=t("#summernoteTT").summernote("code"),this.valiDate()&&this.$post(this.API.submitDemand,this.demandData).then(function(a){"success"==a.state?(e.$message({message:"提交成功",type:"success"}),t("#summernoteTT").summernote("code",""),e.isClearFile=!e.isClearFile,e.visible=!1,e.$emit("handleCommitDemand",e.Type)):e.$message({message:a.msg,type:"warning"})})},queryDemandProductTree:function(t){var e=this;this.xmcpList=[],this.$get(this.API.demandProductTree,{}).then(function(a){"success"==a.state&&(e.options=a.data,t())}),this.$get(this.API.getCrowdYwx,{}).then(function(t){"success"==t.state&&(e.crowdywxList=t.data)})},getCrowdCp:function(t){var e=this;this.$get(this.API.getCrowdCp,{ywxbm:t}).then(function(t){"success"==t.state&&(e.crowdcpList=t.data)})},getUsers:function(){var t=this;this.$get(this.API.getUsers,{curPage:1,pageSize:999,xmbh:this.demandData.xmbh,unitType:1}).then(function(e){"success"==e.state&&(t.tclsList=e.data.rows)})},getProjects:function(){var t=this;Object(o.r)({curPage:1,pageSize:2,keyword:"",xmlb:"",sfgx:"",xmzt:"1,2,3",pl:""}).then(function(e){var a=e.data;"success"==a.state&&1==a.data.records&&"过保"!=a.data.rows[0].xmzt&&(t.xmzt=a.data.rows[0].xmzt,t.xmmc=a.data.rows[0].xmmc,t.xmbh=a.data.rows[0].xmbh)})},valiDate:function(){return this.demandData.xmbh?this.demandData.xqfl?this.demandData.teacherData?this.demandData.cpbjbh?this.demandData.crowdywxbh?this.demandData.crowdcpbh?this.demandData.qwsjwcrq?this.demandData.qwkfjfrq?1==this.demandData.xqfl||this.demandData.glxqWid?this.demandData.xqfjwid?this.demandData.bt?!(!this.demandData.nr||"<p><br></p>"==this.demandData.nr)||(this.$message({message:"请填写需求内容",type:"warning"}),!1):(this.$message({message:"请填写需求标题",type:"warning"}),!1):(this.$message({message:"请上传附件",type:"warning"}),!1):(this.$message({message:"请选择关联的需求",type:"warning"}),!1):(this.$message({message:"请选择期望开发交付日期",type:"warning"}),!1):(this.$message({message:"请选择期望设计完成日期",type:"warning"}),!1):(this.$message({message:"请选择CROWD产品",type:"warning"}),!1):(this.$message({message:"请选择CROWD业务线",type:"warning"}),!1):(this.$message({message:"请选择产品或产品选择有误（请注意需选择到模块级~）",type:"warning"}),!1):(this.$message({message:"请选择提出老师",type:"warning"}),!1):(this.$message({message:"请选择需求分类",type:"warning"}),!1):(this.$message({message:"请选择项目编号",type:"warning"}),!1)}},watch:{show:function(){var e=this;if(this.visible=this.show,this.show){if(this.$nextTick(function(){t("#summernoteTT").summernote({dialogsInBody:!0,placeholder:"请输入内容",focus:!0,height:200,width:"100%",minHeight:300,lang:"zh-CN",toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough","superscript","subscript"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["picture"],["link",["linkDialogShow","unlink"]]]}),"edit"!=e.Type&&"editDisabled"!=e.Type||t("#summernoteTT").summernote("code",e.demandInfo.nr)}),Object(h.n)("DemandType")?this.xqflList=Object(h.n)("DemandType"):Object(h.i)("DemandType",this.xqflList),this.queryDemandProductTree(function(){"edit"!=e.Type&&"editDisabled"!=e.Type||(e.val=e.demandInfo.syfjcpbh.split(",").reverse(),e.cpData=e.getCascaderObj(e.val,e.options))}),this.teacherData=[],"edit"==this.Type||"editDisabled"==this.Type){t("#summernoteTT").summernote("code",this.demandInfo.nr),this.xmzt=this.demandInfo.xmzt,this.demandData.xmbh=this.demandInfo.xmbh,this.demandData.xmmc=this.demandInfo.xmmc,this.demandData.xqfl="editDisabled"==this.Type?"3":this.demandInfo.xqfl,this.demandData.sfsx=this.demandInfo.sfsx,this.demandData.cpbjbh=this.demandInfo.cpbjbh,this.demandData.cpbjmc=this.demandInfo.cpbjmc,this.demandData.crowdywxbh=this.demandInfo.crowdywxbh,this.demandData.crowdywxmc=this.demandInfo.crowdywxmc,this.getCrowdCp(this.demandInfo.crowdywxbh),this.demandData.crowdcpbh=this.demandInfo.crowdcpbh,this.demandData.crowdcpmc=this.demandInfo.crowdcpmc,this.demandData.qwsjwcrq=this.demandInfo.qwsjwcrq,this.demandData.qwkfjfrq=this.demandInfo.qwkfjfrq,this.demandData.bt=this.demandInfo.bt,this.demandData.xqfjwid=this.demandInfo.xqfjwid,this.demandData.xqfjmc=this.demandInfo.xqfjmc,this.fwznfjMc=this.demandInfo.xqfjmc,this.glxqMc=this.demandInfo.glxqbh?"["+this.demandInfo.glxqbh+"]"+this.demandInfo.glxqbt:"",this.demandData.glxqWid=this.demandInfo.glxqwid,this.getUsers();var a=this.demandInfo.tclsbh.split(","),i=this.demandInfo.tcls.split(",");a.forEach(function(t,s,n){e.teacherData.push(a[s]+","+i[s])})}"disabled"==this.Type&&(this.demandData.xqfl="3",this.xmzt=this.demandInfo.xmzt,this.demandData.xmbh=this.demandInfo.xmbh,this.demandData.xmmc=this.demandInfo.xmmc,this.glxqMc="["+this.demandInfo.xqbh+"]"+this.demandInfo.bt,this.demandData.glxqWid=this.demandInfo.wid,this.getUsers())}else this.xmzt=this.glxqMc="",this.demandData.cpbjbh="",this.demandData.teacherData="",this.demandData.xmbh="",this.demandData.xmmc="",this.demandData.xqfl="",this.demandData.teacherData="",this.demandData.sfsx="0",this.demandData.cpbjbh="",this.demandData.cpbjmc="",this.demandData.crowdywxbh="",this.demandData.crowdywxmc="",this.demandData.crowdcpbh="",this.demandData.crowdcpmc="",this.demandData.qwsjwcrq="",this.demandData.qwkfjfrq="",this.demandData.glxqWid="",this.demandData.bt="",this.demandData.xqfjwid="",this.demandData.xqfjmc=""}}}}).call(e,a("7t+N"))},tWsI:function(t,e){},tv1R:function(t,e,a){"use strict";var i={data:function(){return{visible:this.show,tableData:[],currentPage:1,pageSize:15,records:0}},methods:{handleChooseDemand:function(t){this.$emit("handleChooseDemand",t),this.visible=!1},handleCurrentChange:function(t){this.currentPage=t,this.queryPageDemands()},queryPageDemands:function(){var t=this;this.$get(this.API.queryPageDemands,{curPage:this.currentPage,pageSize:this.pageSize,xqxglx:"",xqlx:"",qygc:"",cpbh:"",xmbh:this.xmbh,keyword:""}).then(function(e){"success"==e.state?(e.data.rows?t.tableData=e.data.rows:t.tableData=[],t.records=e.data.records):t.$message({message:e.msg,type:"error"})})}},props:{show:{type:Boolean,default:!1},xmbh:{type:String,default:""}},watch:{show:function(t,e){this.visible=this.show,t&&this.queryPageDemands()}},components:{}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"选择需求",width:"1000px",top:"30px",visible:t.visible,"append-to-body":!0,"close-on-click-modal":!1,show:t.show},on:{"update:visible":function(e){t.visible=e},close:function(e){t.$emit("update:show",!1)}}},[a("div",{staticClass:"dialog-xqqr"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"bt",label:"标题","min-width":"180","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){t.handleChooseDemand(e.row)}}},[t._v(t._s(e.row.bt))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"xqbh",label:"需求编号",width:"120","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"tcrxm",label:"发布人",width:"100","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"tcsj",label:"发布时间",width:"120","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"tcls",label:"提出人",width:"120","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"cpmc",label:"产品",width:"150"}})],1),t._v(" "),t.tableData.length?a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"total, prev, pager, next",total:t.records},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}}):t._e(),t._v(" "),a("section",{staticClass:"pj-btn-group"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.visible=!1}}},[t._v("取消")])],1)],1)])],1)},staticRenderFns:[]};var n=a("VU/8")(i,s,!1,function(t){a("tWsI")},"data-v-ada89a74",null);e.a=n.exports},uNzj:function(t,e){},vJtZ:function(t,e,a){"use strict";var i={data:function(){return{Length:0}},props:{type:{type:String,default:"process"},list:{type:Array,default:function(){return[{mc:"需求设计",type:1,index:1},{mc:"发布需求",type:2},{mc:"分配开发",type:2},{mc:"需求确认",type:1,index:2}]}}},mounted:function(){var t=this;this.list.forEach(function(e){e.index&&(t.Length+=1)})},components:{}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.list.length?a("ul",t._l(t.list,function(e,i){return a("li",{key:i,class:{crowdBefore:!!e.index,active:0==e.lx,"active-1":0!=e.lx&&"0"==e.lczt,"active-2":0!=e.lx&&"1"==e.lczt,"active-3":0!=e.lx&&"2"==e.lczt}},[a("div",[t._v(t._s(e.mc))])])})):t._e()])},staticRenderFns:[]};var n=a("VU/8")(i,s,!1,function(t){a("U1LE")},"data-v-4416ea36",null);e.a=n.exports},vVXA:function(t,e,a){"use strict";var i=a("t1J1"),s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dialog-container"},[a("el-dialog",{attrs:{title:"我要提需求",width:"1000px",top:"30px",visible:t.visible,"close-on-click-modal":!1,show:t.show},on:{"update:visible":function(e){t.visible=e},close:function(e){t.$emit("update:show",!1)}}},[a("div",{staticClass:"demand"},[a("el-form",{staticClass:"demo-ruleForm",staticStyle:{width:"950px",margin:"0 auto"},attrs:{model:t.demandData,inline:!0,size:"mini","label-width":"135px"}},[a("el-form-item",{attrs:{label:"项目名称",required:""}},[a("el-input",{style:{width:"800px"},attrs:{size:"mini",type:"text",readonly:"",placeholder:"请选择项目"},model:{value:t.demandData.xmmc,callback:function(e){t.$set(t.demandData,"xmmc",e)},expression:"demandData.xmmc"}},[a("el-button",{staticStyle:{width:"30px",padding:"0 12px"},attrs:{slot:"append",disabled:"disabled"==t.Type,icon:"el-icon-circle-plus-outline"},on:{click:t.adddemandtItem},slot:"append"})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"项目状态",required:""}},[a("el-input",{staticStyle:{width:"325px"},attrs:{size:"mini",type:"text",readonly:""},model:{value:t.xmzt,callback:function(e){t.xmzt=e},expression:"xmzt"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"需求分类",required:""}},[a("el-select",{staticStyle:{width:"325px"},attrs:{size:"mini",placeholder:"请选择需求分类"},model:{value:t.demandData.xqfl,callback:function(e){t.$set(t.demandData,"xqfl",e)},expression:"demandData.xqfl"}},t._l(t.xqflList,function(t,e){return a("el-option",{key:e,attrs:{label:t.mc,value:t.label}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"提出老师",required:""}},[a("el-select",{staticStyle:{width:"800px"},attrs:{size:"mini",multiple:"",placeholder:"请选择提出老师"},model:{value:t.teacherData,callback:function(e){t.teacherData=e},expression:"teacherData"}},t._l(t.tclsList,function(t,e){return a("el-option",{key:e,attrs:{label:t.username,value:t.userid+","+t.username}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"是否线上",required:""}},[a("el-select",{staticStyle:{width:"325px"},attrs:{size:"mini",placeholder:"请选择是否线上"},model:{value:t.demandData.sfsx,callback:function(e){t.$set(t.demandData,"sfsx",e)},expression:"demandData.sfsx"}},t._l(t.sfxsList,function(t,e){return a("el-option",{key:e,attrs:{label:t.mc,value:t.label}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"模块",required:""}},[a("el-cascader",{staticStyle:{width:"325px"},attrs:{size:"mini",props:t.defaultProps,options:t.options,"show-all-levels":!1},on:{change:t.handleItemChange},model:{value:t.val,callback:function(e){t.val=e},expression:"val"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"CROWD业务线",required:""}},[a("el-select",{staticStyle:{width:"325px"},attrs:{size:"mini",placeholder:"请选择CROWD业务线"},on:{change:t.handleChangeCrowdYwx},model:{value:t.demandData.crowdywxbh,callback:function(e){t.$set(t.demandData,"crowdywxbh",e)},expression:"demandData.crowdywxbh"}},t._l(t.crowdywxList,function(t,e){return a("el-option",{key:e,attrs:{label:t.lbmc,value:t.lbdm}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"CROWD产品",required:""}},[a("el-select",{staticStyle:{width:"325px"},attrs:{size:"mini",placeholder:"请选择CROWD产品"},on:{change:t.handleChangeCrowdCp},model:{value:t.demandData.crowdcpbh,callback:function(e){t.$set(t.demandData,"crowdcpbh",e)},expression:"demandData.crowdcpbh"}},t._l(t.crowdcpList,function(t,e){return a("el-option",{key:e,attrs:{label:t.lbmc,value:t.lbdm}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"期望设计完成日期",required:""}},[a("el-date-picker",{staticStyle:{width:"325px"},attrs:{"picker-options":t.pickerBeginDateBefore,clearable:!1,size:"mini",type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:t.handleChangeQwwcrq},model:{value:t.demandData.qwsjwcrq,callback:function(e){t.$set(t.demandData,"qwsjwcrq",e)},expression:"demandData.qwsjwcrq"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"期望开发交付日期",required:""}},[a("el-date-picker",{staticStyle:{width:"325px"},attrs:{"picker-options":t.pickerBeginDateBefore,clearable:!1,size:"mini",type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:t.handleChangeQwjfrq},model:{value:t.demandData.qwkfjfrq,callback:function(e){t.$set(t.demandData,"qwkfjfrq",e)},expression:"demandData.qwkfjfrq"}})],1),t._v(" "),1!=t.demandData.xqfl?a("el-form-item",{attrs:{label:"关联需求",required:""}},[a("el-input",{staticStyle:{width:"800px"},attrs:{type:"text",readonly:"",placeholder:"请选择需求"},model:{value:t.glxqMc,callback:function(e){t.glxqMc=e},expression:"glxqMc"}},[a("el-button",{staticStyle:{width:"30px",padding:"0 12px"},attrs:{slot:"append",disabled:"disabled"==t.Type||"editDisabled"==t.Type||!t.demandData.xmbh,icon:"el-icon-circle-plus-outline"},on:{click:t.handleRelaseDemand},slot:"append"})],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"需求标题",required:""}},[a("el-input",{staticStyle:{width:"800px"},attrs:{size:"mini",type:"text",placeholder:"标题"},model:{value:t.demandData.bt,callback:function(e){t.$set(t.demandData,"bt",e)},expression:"demandData.bt"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"需求附件",required:""}},[a("uploadFile",{attrs:{Type:"demand",istb:t.isClearFile},on:{handleUploadFile:t.handleUploadFile}}),t._v(" "),t.fwznfjMc&&t.Type.includes("edit")?a("p",{staticClass:"file"},[t._v("\n            "+t._s(t.fwznfjMc)+"\n            "),a("i",{staticClass:"el-icon-close",on:{click:t.handleRemoveFwznfj}})]):t._e()],1)],1),t._v(" "),a("div",{staticClass:"demand-textarea"},[a("p",[t._v("需求描述")]),t._v(" "),a("div",{attrs:{id:"summernoteTT"}})]),t._v(" "),a("div",{staticStyle:{"text-align":"right",width:"100%",margin:"10px 0",padding:"0 20px"}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleCommit}},[t._v("确认提交")]),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){t.visible=!1}}},[t._v("取消")])],1)],1)]),t._v(" "),a("el-dialog",{attrs:{title:"选择项目",visible:t.dialogdemandVisible,"close-on-click-modal":!1,width:"800px",top:"30px","append-to-body":""},on:{"update:visible":function(e){t.dialogdemandVisible=e}}},[a("div",{staticStyle:{padding:"10px"}},[a("itemChoose",{on:{handleEdit:t.handleEdit}})],1)]),t._v(" "),a("xqlistDilog",{attrs:{show:t.demandListVisible,xmbh:t.demandData.xmbh},on:{"update:show":function(e){t.demandListVisible=e},handleChooseDemand:t.handleChooseDemand}})],1)},staticRenderFns:[]};var n=function(t){a("OH8O")},l=a("VU/8")(i.a,s,!1,n,"data-v-1021e4d5",null);e.a=l.exports},wOXB:function(t,e,a){"use strict";var i=a("TNFc"),s={data:function(){return{visible:this.show,isClearFile:!1,texts:["1分","2分","3分","4分","5分"],tclsList:[],teacherData:[],filterData:{nr:"",qrls:"",sfhq:0,fjwid:"",fjmc:"",kfzl:0,fwzl:0,xysd:0,crowdpjsm:""}}},methods:{handleChangeTcls:function(t){},handleClickSure:function(){var t=this;this.filterData.btnbh=this.btnbh,this.filterData.zbwid=this.zbwid,this.filterData.qrls=this.teacherData.join("|"),this.validate()&&this.$post(this.API.submitDetailDesign,this.filterData).then(function(e){"success"==e.state?(t.$emit("handleClickSure",""),t.$message({message:"保存成功",type:"success"}),t.visible=!1,t.filterData.nr="",t.filterData.qrls="",t.filterData.sfhq=1,t.filterData.fjwid="",t.filterData.fjmc="",t.filterData.kfzl=0,t.filterData.fwzl=0,t.filterData.xysd=0,t.filterData.crowdpjsm=""):t.$message({message:e.msg,type:"error"})})},handleUploadFile:function(t){this.filterData.fjwid=t[0].split("|")[0],this.filterData.fjmc=t[0].split("|")[1]},validate:function(){return this.filterData.qrls?this.filterData.fjwid?/^[\s]*$/.test(this.filterData.nr)?(this.$alert("请填写内容","提示",{confirmButtonText:"确定",type:"warning"}),!1):!/^[\s]*$/.test(this.filterData.crowdpjsm)||(this.$alert("请填写crowd评价说明","提示",{confirmButtonText:"确定",type:"warning"}),!1):(this.$alert("请上传需求附件","提示",{confirmButtonText:"确定",type:"warning"}),!1):(this.$alert("请选择确认老师","提示",{confirmButtonText:"确定",type:"warning"}),!1)},getUsers:function(){var t=this;this.teacherData=[],this.$get(this.API.getUsers,{curPage:1,pageSize:999,xmbh:this.xmbh,unitType:1}).then(function(e){"success"==e.state&&(t.tclsList=e.data.rows,t.candidateConfirmPersons())})},candidateConfirmPersons:function(){var t=this;this.$get(this.API.candidateConfirmPersons,{zbwid:this.zbwid}).then(function(e){"success"==e.state&&t.tclsList.forEach(function(a){e.data.forEach(function(e){a.userid==e&&t.teacherData.push(a.userid+","+a.username)})})})}},props:{show:{type:Boolean,default:!1},zbwid:{type:String,default:""},btnbh:{type:String,default:""},xmbh:{type:String,default:""}},watch:{show:function(t,e){this.visible=this.show,t&&this.getUsers()}},components:{uploadFile:i.a}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"需求提报",width:"700px",top:"30px",visible:t.visible,"append-to-body":!0,"close-on-click-modal":!1,show:t.show},on:{"update:visible":function(e){t.visible=e},close:function(e){t.$emit("update:show",!1)}}},[a("div",{staticClass:"dialog-pj"},[a("section",[a("p",[a("span",{staticClass:"filter-weight before-require"},[t._v("提报老师：")]),t._v(" "),a("el-select",{staticStyle:{width:"595px"},attrs:{size:"mini",multiple:"",filterable:"",placeholder:"请选择提出老师(可按姓名搜索)"},on:{change:t.handleChangeTcls},model:{value:t.teacherData,callback:function(e){t.teacherData=e},expression:"teacherData"}},t._l(t.tclsList,function(t,e){return a("el-option",{key:e,attrs:{label:t.username,value:t.userid+","+t.username}})}))],1),t._v(" "),a("p",{staticClass:"mg-12"},[a("span",{staticClass:"filter-weight before-require"},[t._v("是否会签：")]),t._v(" "),a("el-radio-group",{model:{value:t.filterData.sfhq,callback:function(e){t.$set(t.filterData,"sfhq",e)},expression:"filterData.sfhq"}},[a("el-radio",{attrs:{label:1}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:0}},[t._v("否")])],1)],1),t._v(" "),a("p",{attrs:{flex:""}},[a("span",{staticClass:"filter-weight before-require"},[t._v("上传附件：")]),t._v(" "),a("uploadFile",{attrs:{Type:"demand",istb:t.isClearFile},on:{handleUploadFile:t.handleUploadFile}})],1),t._v(" "),a("p",{staticClass:"mg-12",attrs:{flex:""}},[a("span",{staticClass:"filter-weight before-require"},[t._v("开发质量：")]),t._v(" "),a("el-rate",{attrs:{texts:t.texts,"show-text":""},model:{value:t.filterData.kfzl,callback:function(e){t.$set(t.filterData,"kfzl",e)},expression:"filterData.kfzl"}})],1),t._v(" "),a("p",{attrs:{flex:""}},[a("span",{staticClass:"filter-weight before-require"},[t._v("服务质量：")]),t._v(" "),a("el-rate",{attrs:{texts:t.texts,"show-text":""},model:{value:t.filterData.fwzl,callback:function(e){t.$set(t.filterData,"fwzl",e)},expression:"filterData.fwzl"}})],1),t._v(" "),a("p",{staticClass:"mg-12",attrs:{flex:""}},[a("span",{staticClass:"filter-weight before-require"},[t._v("响应速度：")]),t._v(" "),a("el-rate",{attrs:{texts:t.texts,"show-text":""},model:{value:t.filterData.xysd,callback:function(e){t.$set(t.filterData,"xysd",e)},expression:"filterData.xysd"}})],1),t._v(" "),a("p",{staticClass:"pj-content"},[a("span",{staticClass:"filter-weight before-require"},[t._v("crowd评价说明：")]),t._v(" "),a("el-input",{staticStyle:{width:"680px"},attrs:{type:"textarea",rows:5,maxlength:500,placeholder:"请输入crowd评价说明"},model:{value:t.filterData.crowdpjsm,callback:function(e){t.$set(t.filterData,"crowdpjsm",e)},expression:"filterData.crowdpjsm"}})],1),t._v(" "),a("p",{staticClass:"pj-content"},[a("span",{staticClass:"filter-weight before-require"},[t._v("回复内容：")]),t._v(" "),a("el-input",{staticStyle:{width:"680px"},attrs:{type:"textarea",rows:5,maxlength:500,placeholder:"请输入回复内容"},model:{value:t.filterData.nr,callback:function(e){t.$set(t.filterData,"nr",e)},expression:"filterData.nr"}})],1)]),t._v(" "),a("section",{staticClass:"pj-btn-group"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleClickSure}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){t.visible=!1}}},[t._v("取消")])],1)])])],1)},staticRenderFns:[]};var l=a("VU/8")(s,n,!1,function(t){a("hyRU")},"data-v-1056368c",null);e.a=l.exports}});
//# sourceMappingURL=10.e613781885d66c8f908e.js.map