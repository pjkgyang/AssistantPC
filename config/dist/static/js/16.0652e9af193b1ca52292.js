webpackJsonp([16],{"3ywN":function(e,t){},"4XVS":function(e,t){},"9ipJ":function(e,t){},CAIW:function(e,t){},TlJg:function(e,t){},Zuny:function(e,t,i){"use strict";(function(e){var a=i("nfA5"),s=i("XYo/");t.a={data:function(){return{chooseItemShow:!1,userShow:!1,unitType:"",visible:this.show,itemInfo:{},fwlxList:[],fwxList:[],fwjdList:[],jzzrrList:[],xxzrrList:[],curPage:1,pageSize:12,fwdjData:{xmmc:"",xmbh:"",cpxwids:"",fwxwid:"",jhjsrq:"",zrrxm:"",zrrbh:"",xxfzrxm:"",xxfzrbh:"",fwnr:""},pickerBeginDateBefore:{disabledDate:function(e){(new Date).getTime();return e.getTime()<Date.now()-864e5}}}},props:{show:{type:Boolean,default:!1}},components:{itemChoose:a.a,userDialog:s.a},methods:{handleChooseItem:function(e){this.fwdjData.xmmc=e.xmmc,this.fwdjData.xmbh=e.xmbh,this.chooseItemShow=!this.chooseItemShow},addUserSuccess:function(e,t){"0"==e?(this.fwdjData.zrrbh=t.username,this.fwdjData.zrrxm=t.userid):(this.fwdjData.xxfzrxm=t.username,this.fwdjData.xxfzrbh=t.userid),this.userShow=!1},handleChangeFwlx:function(e){this.getSpecialServiceFWX(e.join(","))},handleChangeFwx:function(){},handleChooseUser:function(e){this.unitType=e,this.userShow=!0},handleCommit:function(){var t=this;this.valiDate()&&this.$post(this.API.generateSpecialService,this.fwdjData).then(function(i){"success"==i.state?(t.$message({message:"提交成功",type:"success"}),e("#summernoteTT").summernote("code",""),t.visible=!1,t.$emit("handleCommitZdyjh","")):t.$message({message:i.msg,type:"warning"})})},getSpecialServiceFWX:function(e){var t=this;this.fwxList=[],this.$get(this.API.getSpecialServiceFWX,{cpxwid:e}).then(function(e){"success"==e.state&&(t.fwxList=e.data)})},valiDate:function(){return this.fwdjData.xmbh?this.fwdjData.cpxwids?this.fwdjData.fwxwid?this.fwdjData.zrrxm?this.fwdjData.xxfzrxm?!/^[\s]*$/.test(this.fwdjData.fwnr)||(this.$message({message:"请填写服务内容",type:"warning"}),!1):(this.$message({message:"请选择学校负责人",type:"warning"}),!1):(this.$message({message:"请选择金智责任人",type:"warning"}),!1):(this.$message({message:"请选择服务项",type:"warning"}),!1):(this.$message({message:"请选择服务类型",type:"warning"}),!1):(this.$message({message:"请选择项目",type:"warning"}),!1)}},watch:{show:function(){this.visible=this.show,this.show?this.fwlxList=JSON.parse(sessionStorage.getItem("fwlx")):this.fwlxList=[]}}}}).call(t,i("7t+N"))},qjkN:function(e,t){},wcZu:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("xR1z"),s=i("P+gh"),r={data:function(){return{visible:this.show,filterData:{jhksrq:"",jhjsrq:""},pickerBeginDateBefore:{disabledDate:function(e){(new Date).getTime();return e.getTime()<Date.now()-864e5}},tableData:[],cpxids:[]}},props:{show:{type:Boolean,default:!1},xmbh:{type:String,default:""}},methods:{checkboxInit:function(e,t){return"1"!=e.flag},handleSelectionChange:function(e){var t=this;this.cpxids=[],e.forEach(function(e,i,a){t.cpxids.push(e.cpxwid)})},handleClickSure:function(){this.filterData.jhksrq?this.$emit("handleAddservice",this.cpxids,this.filterData):this.$message({message:"请选择计划日期",type:"warning"})},getSpecialServiceCPX:function(){var e=this;this.$get(this.API.getSpecialServiceCPX,{xmbh:this.xmbh}).then(function(t){"success"==t.state&&(console.log(t),e.tableData=t.data)})}},watch:{show:function(e,t){this.visible=this.show,e&&this.getSpecialServiceCPX()}},components:{}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-dialog",{attrs:{title:"选择服务类型",width:"600px",top:"30px",visible:e.visible,"append-to-body":!0,"close-on-click-modal":!1,show:e.show},on:{"update:visible":function(t){e.visible=t},close:function(t){e.$emit("update:show",!1)}}},[i("div",{staticClass:"dialog-bj"},[i("section",[i("div",[i("span",{staticClass:"pj-title before-require"},[e._v("计划开始日期：")]),e._v(" "),i("el-date-picker",{attrs:{"picker-options":e.pickerBeginDateBefore,size:"mini",type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.filterData.jhksrq,callback:function(t){e.$set(e.filterData,"jhksrq",t)},expression:"filterData.jhksrq"}})],1),i("br"),e._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55",selectable:e.checkboxInit}}),e._v(" "),i("el-table-column",{attrs:{prop:"cpxmc",label:"服务类型"}})],1)],1),e._v(" "),i("section",{staticClass:"pj-btn-group",attrs:{"text-right":""}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleClickSure}},[e._v("确定")]),e._v(" "),i("el-button",{attrs:{size:"small"},on:{click:function(t){e.visible=!1}}},[e._v("取消")])],1)])])],1)},staticRenderFns:[]};var n=i("VU/8")(r,l,!1,function(e){i("3ywN")},"data-v-6f82f401",null).exports,o=i("Zuny"),c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dialog-container"},[i("el-dialog",{attrs:{title:"添加服务计划",width:"1000px",top:"30px",visible:e.visible,"close-on-click-modal":!1,show:e.show},on:{"update:visible":function(t){e.visible=t},close:function(t){e.$emit("update:show",!1)}}},[i("div",{staticClass:"demand"},[i("el-form",{staticClass:"demo-ruleForm",staticStyle:{width:"950px",margin:"0 auto"},attrs:{model:e.fwdjData,inline:!0,size:"mini","label-width":"135px"}},[i("el-form-item",{attrs:{label:"项目名称",required:""}},[i("el-input",{staticStyle:{width:"800px"},attrs:{placeholder:"请选择",readonly:""},model:{value:e.fwdjData.xmmc,callback:function(t){e.$set(e.fwdjData,"xmmc",t)},expression:"fwdjData.xmmc"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.chooseItemShow=!0}},slot:"append"})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"项目编号",required:""}},[i("el-input",{staticStyle:{width:"325px"},attrs:{size:"mini",type:"text",placeholder:"请选择项目",readonly:""},model:{value:e.fwdjData.xmbh,callback:function(t){e.$set(e.fwdjData,"xmbh",t)},expression:"fwdjData.xmbh"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"服务类型",required:""}},[i("el-select",{staticStyle:{width:"325px"},attrs:{size:"mini",placeholder:"请选择服务类型",multiple:""},on:{change:e.handleChangeFwlx},model:{value:e.fwdjData.cpxwids,callback:function(t){e.$set(e.fwdjData,"cpxwids",t)},expression:"fwdjData.cpxwids"}},e._l(e.fwlxList,function(e,t){return i("el-option",{key:t,attrs:{label:e.cpxmc,value:e.cpxwid}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"服务项",required:""}},[i("el-select",{staticStyle:{width:"325px"},attrs:{size:"mini",placeholder:"请选择服务项"},on:{change:e.handleChangeFwx},model:{value:e.fwdjData.fwxwid,callback:function(t){e.$set(e.fwdjData,"fwxwid",t)},expression:"fwdjData.fwxwid"}},e._l(e.fwxList,function(e,t){return i("el-option",{key:t,attrs:{label:e.yymc,value:e.yybh}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"服务阶段",required:""}},[i("el-input",{staticStyle:{width:"325px"},attrs:{size:"mini",type:"text",placeholder:"请选择服务项",readonly:""},model:{value:e.fwdjData.fwxwid,callback:function(t){e.$set(e.fwdjData,"fwxwid",t)},expression:"fwdjData.fwxwid"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"金智责任人",required:""}},[i("el-input",{staticStyle:{width:"325px"},attrs:{placeholder:"请选择",readonly:""},model:{value:e.fwdjData.zrrbxm,callback:function(t){e.$set(e.fwdjData,"zrrbxm",t)},expression:"fwdjData.zrrbxm"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.handleChooseUser("0")}},slot:"append"})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"学校责任人",required:""}},[i("el-input",{staticStyle:{width:"325px"},attrs:{placeholder:"请选择",readonly:""},model:{value:e.fwdjData.xxfzrxm,callback:function(t){e.$set(e.fwdjData,"xxfzrxm",t)},expression:"fwdjData.xxfzrxm"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.handleChooseUser("1")}},slot:"append"})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"计划结束日期",required:""}},[i("el-date-picker",{staticStyle:{width:"800px"},attrs:{"picker-options":e.pickerBeginDateBefore,clearable:!1,size:"mini",type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.fwdjData.jhjsrq,callback:function(t){e.$set(e.fwdjData,"jhjsrq",t)},expression:"fwdjData.jhjsrq"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"服务内容",required:""}},[i("el-input",{staticStyle:{width:"800px"},attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.fwdjData.fwnr,callback:function(t){e.$set(e.fwdjData,"fwnr",t)},expression:"fwdjData.fwnr"}})],1)],1),e._v(" "),i("div",{staticStyle:{"text-align":"right",width:"100%",margin:"10px 0",padding:"0 20px"}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleCommit}},[e._v("确认提交")]),e._v(" "),i("el-button",{attrs:{size:"small"},on:{click:function(t){e.visible=!1}}},[e._v("取消")])],1)],1)]),e._v(" "),i("el-dialog",{attrs:{title:"选择项目",visible:e.chooseItemShow,"close-on-click-modal":!1,width:"800px",top:"30px","append-to-body":""},on:{"update:visible":function(t){e.chooseItemShow=t}}},[i("div",{staticStyle:{padding:"10px"}},[i("itemChoose",{on:{handleEdit:e.handleChooseItem}})],1)]),e._v(" "),i("userDialog",{attrs:{show:e.userShow,unitType:e.unitType},on:{"update:show":function(t){e.userShow=t},addUserSuccess:e.addUserSuccess}})],1)},staticRenderFns:[]};var d=function(e){i("4XVS")},h=i("VU/8")(o.a,c,!1,d,"data-v-31fa4990",null).exports,f={data:function(){return{visible:this.show,jzzrrList:[],xxzrrList:[],form:{jhksrq:"",jhjsrq:"",jzzrrxm:"",jzzrrbh:"",xxzrrxm:"",xxzrrbh:"",sm:""},pickerBeginDate:{disabledDate:function(e){(new Date).getTime();return e.getTime()<Date.now()-864e5}}}},methods:{handleChangeZrr:function(e){var t=this;this.form.zrrbh=e,this.zrrList.forEach(function(i){i.userId==e&&(t.form.zrrxm=i.userName)})},handleCommit:function(){this.validate()&&this.$emit("handleCommitEdit",this.form)},handleClose:function(){this.visible=!1},getUsers:function(e){var t=this;this.$get(this.API.getUsers,{curPage:1,pageSize:9999,unitType:e,keyword:"",dept:""}).then(function(i){"success"==i.state&&(1==e?t.xxzrrList=i.data.rows:t.jzzrrList=i.data.rows)})},validate:function(){return this.form.jhksrq||this.plxgZrr?this.form.jhjsrq||this.plxgZrr?!(this.plxgZrr&&!this.form.zrrbh)||(this.$alert("请选择责任人","提示",{confirmButtonText:"确定",type:"warning"}),!1):(this.$alert("请填写计划结束日期","提示",{confirmButtonText:"确定",type:"warning"}),!1):(this.$alert("请选择计划开始日期","提示",{confirmButtonText:"确定",type:"warning"}),!1)}},props:{show:{type:Boolean,default:!1},plxgZrr:{type:Boolean,default:!1},dataInfo:{type:Object,default:function(){return{}}}},watch:{show:function(e,t){this.visible=this.show,e?(this.getUsers(0),this.getUsers(1),this.form.jzzrrbh=this.dataInfo.jzfzrbh,this.form.jzzrrxm=this.dataInfo.jzfzrxm,this.form.xxzrrbh="-"==this.dataInfo.xxfzrbh?"":this.dataInfo.xxfzrbh,this.form.xxzrrxm="-"==this.dataInfo.xxfzrxm?"":this.dataInfo.xxfzrxm):this.form.zrrxm=this.form.zrrbh=this.form.jhksrq=this.form.jhjsrq=this.form.sm=""}},components:{}},u={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-dialog",{attrs:{title:"编辑",width:"700px",top:"30px",visible:e.visible,"append-to-body":!0,"close-on-click-modal":!1,show:e.show},on:{"update:visible":function(t){e.visible=t},close:function(t){e.$emit("update:show",!1)}}},[i("div",{staticClass:"dialog-qrfw"},[i("el-form",{ref:"form",attrs:{model:e.form,"label-width":"110px",size:"mini"}},[e.plxgZrr?e._e():i("el-form-item",{attrs:{label:"计划开始日期",required:""}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.form.jhksrq,callback:function(t){e.$set(e.form,"jhksrq",t)},expression:"form.jhksrq"}})],1),e._v(" "),e.plxgZrr?e._e():i("el-form-item",{attrs:{label:"计划结束日期",required:""}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.form.jhjsrq,callback:function(t){e.$set(e.form,"jhjsrq",t)},expression:"form.jhjsrq"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"金智责任人"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择责任人(可按姓名搜索)",filterable:""},on:{change:e.handleChangeZrr},model:{value:e.form.jzzrrbh,callback:function(t){e.$set(e.form,"jzzrrbh",t)},expression:"form.jzzrrbh"}},e._l(e.jzzrrList,function(e){return i("el-option",{key:e.userid,attrs:{label:e.username+" ( "+e.usercode+" )",value:e.userid}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"学校责任人"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择责任人(可按姓名搜索)",filterable:""},on:{change:e.handleChangeZrr},model:{value:e.form.xxzrrbh,callback:function(t){e.$set(e.form,"xxzrrbh",t)},expression:"form.xxzrrbh"}},e._l(e.xxzrrList,function(e){return i("el-option",{key:e.userid,attrs:{label:e.username+" ( "+e.usercode+" )",value:e.userid}})}))],1),e._v(" "),i("el-form-item",{attrs:{"text-right":""}},[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.handleCommit}},[e._v("提交")]),e._v(" "),i("el-button",{attrs:{size:"mini"},on:{click:e.handleClose}},[e._v("取消")])],1)],1)],1)])],1)},staticRenderFns:[]};var p=i("VU/8")(f,u,!1,function(e){i("CAIW")},"data-v-768e7afb",null).exports,m={data:function(){return{visible:this.show,texts:["1分","2分","3分","4分","5分"],filterData:{sm:"",pf:5}}},methods:{handleClickSure:function(){this.validate()&&this.$emit("handleClickSure",this.filterData)},validate:function(){return!(this.filterData.pf<=3&&/^[\s]*$/.test(this.filterData.sm))||(this.$alert("请输入备注内容","提示",{confirmButtonText:"确定",type:"warning"}),!1)}},props:{show:{type:Boolean,default:!1},zbwid:{type:String,default:""},btnbh:{type:String,default:""},demandDetail:{type:Object,default:function(){return{}}}},watch:{show:function(e,t){this.visible=this.show,e||(this.filterData.pf=5,this.filterData.sm="")}},components:{}},w={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-dialog",{attrs:{title:"确认服务",width:"700px",top:"30px",visible:e.visible,"append-to-body":!0,"close-on-click-modal":!1,show:e.show},on:{"update:visible":function(t){e.visible=t},close:function(t){e.$emit("update:show",!1)}}},[i("div",{staticClass:"dialog-xqqr"},[i("section",[i("div",{attrs:{flex:""}},[i("span",{staticClass:"filter-weight"},[e._v("评价：")]),e._v(" "),i("el-rate",{attrs:{texts:e.texts,"show-text":""},model:{value:e.filterData.pf,callback:function(t){e.$set(e.filterData,"pf",t)},expression:"filterData.pf"}})],1),e._v(" "),i("p",{staticClass:"pj-content"},[i("span",{staticClass:"filter-weight"},[e._v("说明：")]),e._v(" "),i("el-input",{staticStyle:{width:"670px"},attrs:{type:"textarea",rows:5,maxlength:500,placeholder:"请输入备注内容"},model:{value:e.filterData.sm,callback:function(t){e.$set(e.filterData,"sm",t)},expression:"filterData.sm"}})],1)]),e._v(" "),i("section",{staticClass:"pj-btn-group"},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleClickSure}},[e._v("确定")]),e._v(" "),i("el-button",{attrs:{size:"small"},on:{click:function(t){e.visible=!1}}},[e._v("取消")])],1)])])],1)},staticRenderFns:[]};var v=i("VU/8")(m,w,!1,function(e){i("TlJg")},"data-v-395e5890",null).exports,y=i("0dLS"),b=i("nfA5"),x=(i("oFuF"),{data:function(){return{chooseItemShow:!1,serviceTypeShow:!1,editShow:!1,qrfwShow:!1,bhShow:!1,zjyShow:!1,title:"",currentPage:1,pageSize:15,total:0,tableData:[],widsArr:[],wids:"",cpobj:{},rowsData:"",curItem:{},plxgZrr:!1,isjl:!1,curRow:{},filterData:{keyword:"",cpxmc:"",fwzt:"",jhksrq:"",jhjsrq:"",sfgq:""},isJzuser:"",userGroupTag:"",userid:"",rowData:{},isMultiple:!1}},methods:{handleClickSureQrfw:function(e){},handleClickSureBhfw:function(e){},handleCommitEdit:function(e){},handleCloseDialog:function(){this.recrordShow=!this.recrordShow},handleCommitZdyjh:function(){this.pageSpecialService()},handleAddservice:function(e,t){var i=this;this.$post(this.API.generateSpecialService,{xmbh:this.curItem.xmbh,cpxwids:e.join(","),jhkssj:t.jhksrq,jhjssj:t.jhjsrq,jhlx:1}).then(function(e){"success"==e.state?(i.$message({message:"保存成功",type:"success"}),i.serviceTypeShow=!i.serviceTypeShow,i.pageSpecialService()):i.$alert(e.msg,"提示",{confirmButtonText:"确定",type:"error"})})},handleChooseItem:function(e){this.curItem=e,this.serviceTypeShow=!this.serviceTypeShow},handleChangeFilter:function(e){this.filterData=e,this.currentPage=1,this.pageSpecialService()},handleSelectionChange:function(e){var t=this;this.widsArr=[],e.forEach(function(e){t.widsArr.push(e.wid)})},handleOprater:function(e,t){var i=this;switch(this.curRow=e,t){case"jl":var a=this.$router.resolve({name:"specialserviceDetail",query:{wid:e.wid,jl:1}}).href;window.open(a,"_blank");break;case"xq":var s=this.$router.resolve({name:"specialserviceDetail",query:{wid:e.wid}}).hrefxq;window.open(s,"_blank");break;case"tb":this.$confirm("是否确定提交该项服务计划?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.$post(i.API.submitSpecialService,{wids:e.wid}).then(function(e){"success"==e.state&&(i.$message({message:"提报成功",type:"success"}),i.pageSpecialService())})}).catch(function(){});break;case"fb":this.releaseSpecialService(e.wid);break;case"qr":this.qrfwShow=!0;break;case"bh":this.bhShow=!0}},handleClick:function(e,t){var i=this;switch(e){case"bzjh":this.chooseItemShow=!this.chooseItemShow;break;case"export":break;case"edit":this.plxgZrr=!0,this.editShow=!this.editShow;break;case"zdyjh":this.zjyShow=!this.zjyShow;break;case"delete":this.$confirm("是否删除此计划?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.$post(i.API.deleteSpecialService,{wids:i.widsArr}).then(function(e){"success"==e.state&&(i.$message({message:"删除成功",type:"success"}),i.pageSpecialService())})}).catch(function(){});break;case"qr":this.qrfwShow=!0;break;case"bh":this.bhShow=!0;break;case"fb":this.releaseSpecialService(this.widsArr)}},handleSizeChange:function(e){this.pageSize=e,this.currentPage=1,this.pageSpecialService()},handleCurrentChange:function(e){this.currentPage=e,this.pageSpecialService()},handleEdit:function(e){this.curRow=e,this.plxgZrr=!1,this.editShow=!this.editShow},handleCheckDetail:function(e){var t=this.$router.resolve({name:"ZdsfwDetail",query:{wid:e.wid}}).href;window.open(t,"_blank")},pageSpecialService:function(){var e=this;this.$get(this.API.pageSpecialService,{curPage:this.currentPage,pageSize:this.pageSize,cpxmc:this.filterData.cpxmc,zt:this.filterData.fwzt,jhksrqmax:this.filterData.jhksrq,jhjsrqmax:this.filterData.jhjsrq,sfgq:this.filterData.sfgq,keyword:this.filterData.keyword}).then(function(t){"success"==t.state?(e.tableData=t.data.rows,e.total=t.data.records):e.$alert(t.msg,"提示",{confirmButtonText:"确定",type:"error"})})},releaseSpecialService:function(e){var t=this;this.$post(this.API.releaseSpecialService,{wids:e}).then(function(e){"success"==e.state&&(t.$message({message:"发布成功",type:"success"}),t.pageSpecialService())})}},mounted:function(){this.pageSpecialService(),this.isJzuser=sessionStorage.isJZuser,this.userGroupTag=JSON.parse(sessionStorage.userInfo).userGroupTag,this.userid=JSON.parse(sessionStorage.userInfo).uid},props:{},components:{tableLayout:s.a,zxfwFilter:a.a,serviceType:n,editDialog:p,itemChoose:b.a,addplan:h,qrfwDialog:v,bhDialog:y.a}}),g={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"myitem-zxfw"},[i("tableLayout",{staticClass:"zxfw-content",attrs:{"flex-column":""}},[i("section",{staticStyle:{"border-bottom":"1px solid #EBEEF5"},attrs:{slot:"top",col:"1"},slot:"top"},[i("zxfwFilter",{attrs:{placeholder:"学校名称/项目名称/项目编号/合同编号"},on:{handleChangeFilter:e.handleChangeFilter}})],1),e._v(" "),i("section",{attrs:{slot:"bottom",col:"2"},slot:"bottom"},[i("section",[i("div",{staticClass:"mb-12",attrs:{flex:"",spacebetween:""}},[i("div",[e.userGroupTag.includes("ZXFWGLY")?i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.handleClick("bzjh")}}},[e._v("生成标准计划")]):e._e(),e._v(" "),e.userGroupTag.includes("ZXFWGLY")?i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.handleClick("zdyjh")}}},[e._v("新增自定义计划")]):e._e(),e._v(" "),e.userGroupTag.includes("ZXFWGLY")?i("el-button",{attrs:{disabled:!e.widsArr.length,type:"primary",size:"mini"},on:{click:function(t){e.handleClick("edit")}}},[e._v("批量修改责任人")]):e._e(),e._v(" "),e.userGroupTag.includes("ZXFWGLY")?i("el-button",{attrs:{disabled:!e.widsArr.length,type:"danger",size:"mini"},on:{click:function(t){e.handleClick("delete")}}},[e._v("删除")]):e._e()],1),e._v(" "),i("div",[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.handleClick("export")}}},[e._v("导出")])],1)]),e._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",border:""},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{fixed:"left",type:"selection",width:"55"}}),e._v(" "),i("el-table-column",{attrs:{fixed:"left",label:"操作",width:e.userGroupTag.includes("ZXFWGLY")?240:160},scopedSlots:e._u([{key:"default",fn:function(t){return[e.userGroupTag.includes("ZXFWGLY")||e.userid==t.row.jzfzrbh?i("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(i){e.handleOprater(t.row,"fb")}}},[e._v("发布")]):e._e(),e._v(" "),e.userGroupTag.includes("ZXFWGLY")||e.userid==t.row.jzfzrbh?i("el-button",{attrs:{type:"text",size:"mini"}},[i("a",{attrs:{href:"#/specialservice/detail?wid="+t.row.wid+"&jl=1",target:"_blank"}},[e._v("记录")])]):e._e(),e._v(" "),e.userGroupTag.includes("ZXFWGLY")||e.userid==t.row.jzfzrbh?i("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(i){e.handleOprater(t.row,"tb")}}},[e._v("提报")]):e._e(),e._v(" "),e.userGroupTag.includes("ZXFWGLY")?i("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(i){e.handleEdit(t.row)}}},[e._v("编辑")]):e._e(),e._v(" "),i("el-button",{attrs:{type:"text",size:"mini"}},[i("a",{attrs:{href:"#/specialservice/detail?wid="+t.row.wid,target:"_blank"}},[e._v("详情")])]),e._v(" "),"2"!=t.row.fwzt&&"3"!=t.row.fwzt&&e.userid==t.row.xxfzrbh?i("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(i){e.handleOprater(t.row,"qr")}}},[e._v("确认")]):e._e(),e._v(" "),"2"!=t.row.fwzt&&"3"!=t.row.fwzt&&e.userid==t.row.xxfzrbh?i("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(i){e.handleOprater(t.row,"bh")}}},[e._v("驳回")]):e._e()]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"yh",label:"学校名称","min-width":"200","show-overflow-tooltip":""}}),e._v(" "),i("el-table-column",{attrs:{prop:"xmmc",label:"项目名称","min-width":"200","show-overflow-tooltip":""}}),e._v(" "),i("el-table-column",{attrs:{prop:"xmbh",label:"项目编号","min-width":"100","show-overflow-tooltip":""}}),e._v(" "),i("el-table-column",{attrs:{prop:"htbh",label:"合同编号","min-width":"100","show-overflow-tooltip":""}}),e._v(" "),i("el-table-column",{attrs:{prop:"cpxmc",label:"产品","min-width":"100","show-overflow-tooltip":""}}),e._v(" "),i("el-table-column",{attrs:{prop:"fwzt_display",label:"服务状态","min-width":"120","show-overflow-tooltip":""}}),e._v(" "),i("el-table-column",{attrs:{prop:"fwjd",label:"服务阶段","min-width":"80","show-overflow-tooltip":""}}),e._v(" "),i("el-table-column",{attrs:{prop:"fwx",label:"服务项","min-width":"80","show-overflow-tooltip":""}}),e._v(" "),i("el-table-column",{attrs:{prop:"fwnr",label:"服务内容","min-width":"150","show-overflow-tooltip":""}}),e._v(" "),i("el-table-column",{attrs:{prop:"jhkssj",label:"开始日期","min-width":"100","show-overflow-tooltip":""}}),e._v(" "),i("el-table-column",{attrs:{prop:"jhjssj",label:"结束日期","min-width":"100","show-overflow-tooltip":""}})],1)],1),e._v(" "),i("div",{staticStyle:{"margin-top":"2px"},attrs:{"text-right":""}},[i("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[15,30,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])]),e._v(" "),i("el-dialog",{attrs:{title:"选择项目",visible:e.chooseItemShow,"close-on-click-modal":!1,width:"800px",top:"30px","append-to-body":""},on:{"update:visible":function(t){e.chooseItemShow=t}}},[i("div",{staticStyle:{padding:"10px"}},[i("itemChoose",{on:{handleEdit:e.handleChooseItem}})],1)]),e._v(" "),i("serviceType",{attrs:{show:e.serviceTypeShow,xmbh:e.curItem.xmbh},on:{"update:show":function(t){e.serviceTypeShow=t},handleAddservice:e.handleAddservice}}),e._v(" "),i("editDialog",{attrs:{show:e.editShow,plxgZrr:e.plxgZrr,dataInfo:e.curRow},on:{"update:show":function(t){e.editShow=t},handleCommitEdit:e.handleCommitEdit}}),e._v(" "),i("qrfwDialog",{attrs:{show:e.qrfwShow},on:{"update:show":function(t){e.qrfwShow=t},handleClickSure:e.handleClickSureQrfw}}),e._v(" "),i("addplan",{attrs:{show:e.zjyShow},on:{"update:show":function(t){e.zjyShow=t},handleCommitZdyjh:e.handleCommitZdyjh}}),e._v(" "),i("bhDialog",{attrs:{show:e.bhShow},on:{"update:show":function(t){e.bhShow=t},handleClickSure:e.handleClickSureBhfw}})],1)},staticRenderFns:[]};var j=i("VU/8")(x,g,!1,function(e){i("qjkN")},"data-v-2960c5c4",null);t.default=j.exports},xR1z:function(e,t,i){"use strict";var a=i("mvHQ"),s=i.n(a),r=(i("oFuF"),{data:function(){return{cpList:[],fwnrList:[],ztList:[{lable:"0",mc:"计划中"},{lable:"3",mc:"驳回"},{lable:"1",mc:"已完成"},{lable:"2",mc:"关闭"}],gqList:[{lable:"",mc:"全部"},{lable:"0",mc:"未过期"},{lable:"1",mc:"过期"},{lable:"2",mc:"超期"}],filterWord:{cpxmc:"",cpxbh:"",fwzt:"",gqzt:"",jhksrq:"",jhjsrq:"",jhksrqmin:"",jhksrqmax:"",jhjsrqmin:"",jhjsrqmax:"",tbksrq:"",tbjsrq:""},groupTag:"",sfzk:!0}},props:{filterList:{type:Array,default:function(){return["keyword","date","cp","fwzt","sfgq"]}},placeholder:{type:String,default:"请输入项目名称/项目编号"},xmbh:{type:String,default:""},filterShow:{type:Boolean,default:!0}},methods:{handleExpand:function(){this.sfzk=!this.sfzk},handleSearchBtn:function(){this.$emit("handleChangeFilter",this.filterWord)},handleSearch:function(){this.$emit("handleChangeFilter",this.filterWord)},changeDate:function(e){this.$emit("handleChangeFilter",this.filterWord)},handleCp:function(e){var t=e.target.getAttribute("data-type"),i=e.target.getAttribute("data-index");t?(this.filterWord.cpbh=t,this.filterWord.cpmc=this.cpList[i].text):(this.filterWord.cpbh="",this.filterWord.cpmc=""),this.filterWord.fwnr="",this.$emit("handleChangeFilter",this.filterWord)},handleZt:function(e){var t=e.target.getAttribute("data-type");null!=t&&(this.filterWord.fwzt=t,this.$emit("handleChangeFilter",this.filterWord))},handleSfgq:function(e){var t=e.target.getAttribute("data-type");null!=t&&(this.filterWord.sfgq=t,this.$emit("handleChangeFilter",this.filterWord))},getSpecialServiceCPX:function(){var e=this;this.$get(this.API.getSpecialServiceCPX,{}).then(function(t){"success"==t.state&&(e.cpList=t.data,sessionStorage.setItem("fwlx",s()(e.cpList)))})}},mounted:function(){this.getSpecialServiceCPX()},activated:function(){},watch:{},components:{}}),l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"query-condition"},[e.filterList.includes("keyword")?i("div",{attrs:{flex:""}},[i("p"),i("p",{staticClass:"query-title"},[i("span",{class:{expandIcon:!0,"el-icon-arrow-up":1==this.sfzk,"el-icon-arrow-down":0==this.sfzk},attrs:{title:this.sfzk?"点击收起筛选条件":"点击展开筛选条件"},on:{click:e.handleExpand}}),e._v("　高级搜索:")]),e._v(" "),i("el-input",{staticStyle:{width:"487px"},attrs:{size:"mini",placeholder:e.placeholder},on:{change:e.handleSearch},model:{value:e.filterWord.keyword,callback:function(t){e.$set(e.filterWord,"keyword",t)},expression:"filterWord.keyword"}}),e._v("　\n        "),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.handleSearchBtn}},[e._v("查询")]),e._v(" "),i("p")],1):e._e(),e._v(" "),i("transition",{attrs:{name:"el-zoom-in-top"}},[e.sfzk?i("section",{staticClass:"query-condition"},[e.filterList.includes("date")?i("div",[i("span",{staticClass:"query-title"},[e._v("计划日期:")]),e._v(" "),i("p",[i("el-date-picker",{attrs:{size:"mini",type:"date",placeholder:"选择开始日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:e.changeDate},model:{value:e.filterWord.jhksrq,callback:function(t){e.$set(e.filterWord,"jhksrq",t)},expression:"filterWord.jhksrq"}}),e._v("\n            　至　\n            "),i("el-date-picker",{attrs:{size:"mini",type:"date",placeholder:"选择结束日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:e.changeDate},model:{value:e.filterWord.jhjsrq,callback:function(t){e.$set(e.filterWord,"jhjsrq",t)},expression:"filterWord.jhjsrq"}})],1)]):e._e(),e._v(" "),e.filterList.includes("cp")?i("div",{attrs:{flex:""}},[i("span",{staticClass:"query-title"},[e._v("产品:")]),e._v(" "),i("p",{staticClass:"query-list",staticStyle:{width:"90%"},on:{click:e.handleCp}},[i("span",{class:{"bg-active":""==e.filterWord.cpxbh},attrs:{"data-type":""}},[e._v("全部")]),e._v(" "),e._l(e.cpList,function(t,a){return i("span",{key:a,class:{"bg-active":e.filterWord.cpxbh==t.cpxwid},attrs:{"data-index":a,"data-type":t.cpxwid}},[e._v(e._s(t.cpxmc))])})],2)]):e._e(),e._v(" "),e.filterList.includes("fwzt")?i("div",{attrs:{flex:""}},[i("span",{staticClass:"query-title"},[e._v("服务状态:")]),e._v(" "),i("p",{staticClass:"query-list",staticStyle:{width:"550px"},on:{click:e.handleZt}},[i("span",{class:{"bg-active":""==e.filterWord.fwzt},attrs:{"data-type":""}},[e._v("全部")]),e._v(" "),e._l(e.ztList,function(t,a){return i("span",{key:a,class:{"bg-active":e.filterWord.fwzt==t.lable},attrs:{"data-type":t.lable}},[e._v(e._s(t.mc))])})],2)]):e._e(),e._v(" "),e.filterList.includes("sfgq")?i("div",[i("span",{staticClass:"query-title"},[e._v("是否过期:")]),e._v(" "),i("p",{staticClass:"query-list",on:{click:e.handleSfgq}},e._l(e.gqList,function(t,a){return i("span",{key:a,class:{"bg-active":e.filterWord.gqzt==t.lable},attrs:{"data-type":t.lable}},[e._v(e._s(t.mc))])}))]):e._e(),e._v(" "),e.filterList.includes("jhksrq")?i("div",[i("span",{staticClass:"query-title"},[e._v("计划开始日期:")]),e._v(" "),i("el-date-picker",{attrs:{size:"mini",type:"date",placeholder:"选择开始日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:e.changeDate},model:{value:e.filterWord.jhksrqmin,callback:function(t){e.$set(e.filterWord,"jhksrqmin",t)},expression:"filterWord.jhksrqmin"}}),e._v("\n            　至　\n            "),i("el-date-picker",{attrs:{size:"mini",type:"date",placeholder:"选择结束日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:e.changeDate},model:{value:e.filterWord.jhksrqmax,callback:function(t){e.$set(e.filterWord,"jhksrqmax",t)},expression:"filterWord.jhksrqmax"}})],1):e._e(),e._v(" "),e.filterList.includes("jhksrq")?i("div",[i("span",{staticClass:"query-title"},[e._v("计划结束日期:")]),e._v(" "),i("el-date-picker",{attrs:{size:"mini",type:"date",placeholder:"选择开始日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:e.changeDate},model:{value:e.filterWord.jhjsrqmin,callback:function(t){e.$set(e.filterWord,"jhjsrqmin",t)},expression:"filterWord.jhjsrqmin"}}),e._v("\n            　至　\n            "),i("el-date-picker",{attrs:{size:"mini",type:"date",placeholder:"选择结束日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:e.changeDate},model:{value:e.filterWord.jhjsrqmax,callback:function(t){e.$set(e.filterWord,"jhjsrqmax",t)},expression:"filterWord.jhjsrqmax"}})],1):e._e(),e._v(" "),e.filterList.includes("tbrq")?i("div",[i("span",{staticClass:"query-title"},[e._v("提报日期:")]),e._v(" "),i("el-date-picker",{attrs:{size:"mini",type:"date",placeholder:"选择开始日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:e.changeDate},model:{value:e.filterWord.tbksrq,callback:function(t){e.$set(e.filterWord,"tbksrq",t)},expression:"filterWord.tbksrq"}}),e._v("\n            　至　\n            "),i("el-date-picker",{attrs:{size:"mini",type:"date",placeholder:"选择结束日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:e.changeDate},model:{value:e.filterWord.tbjsrq,callback:function(t){e.$set(e.filterWord,"tbjsrq",t)},expression:"filterWord.tbjsrq"}})],1):e._e(),e._v(" "),e.filterList.includes("qrrq")?i("div",{attrs:{colcenter:""}},[i("span",{staticClass:"query-title"},[e._v("确认日期:")]),e._v(" "),i("el-date-picker",{attrs:{size:"mini",type:"date",placeholder:"选择开始日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:e.changeDate},model:{value:e.filterWord.qrksrq,callback:function(t){e.$set(e.filterWord,"qrksrq",t)},expression:"filterWord.qrksrq"}}),e._v("\n            　至　\n            "),i("el-date-picker",{attrs:{size:"mini",type:"date",placeholder:"选择结束日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:e.changeDate},model:{value:e.filterWord.qrjsrq,callback:function(t){e.$set(e.filterWord,"qrjsrq",t)},expression:"filterWord.qrjsrq"}})],1):e._e()]):e._e()])],1)])},staticRenderFns:[]};var n=i("VU/8")(r,l,!1,function(e){i("9ipJ")},null,null);t.a=n.exports}});
//# sourceMappingURL=16.0652e9af193b1ca52292.js.map