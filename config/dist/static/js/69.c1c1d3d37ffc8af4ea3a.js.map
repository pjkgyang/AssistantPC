{"version":3,"sources":["webpack:///node_modules/vue-simple-tree/src/components/Item.vue","webpack:///./node_modules/vue-simple-tree/src/components/Item.vue?2b79","webpack:///./node_modules/vue-simple-tree/src/components/Item.vue","webpack:///node_modules/vue-simple-tree/src/components/VueTree.vue","webpack:///./node_modules/vue-simple-tree/src/components/VueTree.vue?bfed","webpack:///./node_modules/vue-simple-tree/src/components/VueTree.vue","webpack:///src/views/BusinessPage/schoolServices/whls.vue","webpack:///./src/views/BusinessPage/schoolServices/whls.vue?b7bd","webpack:///./src/views/BusinessPage/schoolServices/whls.vue"],"names":["Item","Object","Number","Array","openIcon","halfCheckedIcon","checkedIcon","uncheckedIcon","length","folderBold","children","self","id","index","addChecked","delChecked","open","item","deleteHalfChecked","idx","_this","this","setHalfChecked","components_Item","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","onselectstart","on","click","toggle","class","toggleIcon","_v","options","labelIcon","labelStatus","toggleChecked","_e","isBold","handle","_s","model","label","directives","name","rawName","value","expression","_l","key","ids","depth","ids-with-parent","idsWithParent","half","state","itemState","emitHandle","child-change","childChange","staticRenderFns","src_components_Item","__webpack_require__","normalizeComponent","VueTree","initOptions","components_VueTree","termOptions","src_components_VueTree","VueTree_normalizeComponent","whls","getCheckedKeys","getHalfCheckedKeys","keys","userid","then","res","params","userDeptChecked","treeDept","_this2","checkIds","getSchoolUsers","prams","data","_this3","currentPage","pageSize","dwbh","keyword","rows","records","_this4","dwmc","treeDataSource","_this5","chooseSchool","schoolServices_whls","handleChangeUnit","staticStyle","width","size","placeholder","change","handleSearch","callback","$$v","tableData","border","max-height","tableHeight","prop","fixed","scopedSlots","_u","fn","scope","type","$event","handleEditDept","row","current-page","page-size","layout","total","current-change","handleCurrentChange","update:currentPage","title","visible","dialogVisible","update:visible","ref","show-checkbox","node-key","props","defaultProps","default-expanded-keys","openIds","default-checked-keys","checkedIds","slot","text-right","handleCommit","whls_Component","whls_normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"uLA8CAA,QAGA,+BAGAC,mDAOAA,iDAOAC,eAGA,aAEAC,wDAOAA,+CAOAA,gDAOAD,eAIA,iCAGA,YAEA,yFAKAE,wFAKAC,4EAEAC,yBAEAC,kFAMA,8DAEA,UAEA,iFAKAC,yEAMAC,oFAKAC,SACAC,wFAMA,yBAEA,mDACA,kCACA,6CACA,mCACAC,kCAEAC,8BAGA,uBAGAC,2CACA,0CAQAA,2CACA,SAEAC,+CACAH,kCACA,gEAQAI,8CAKAL,kDAIAM,iDAKAC,yEAGAH,wCACA,iCACA,SAEAD,wCACA,wDAEA,iCAEA,4IAMAF,oIAIAA,uEAMAA,kCACAA,4CAEAO,iCAGAN,qHAMAD,qEAKAA,mCAEAO,4BAIA,IAAAC,EAAAC,+EAKA,YAHAP,kBACAQ,iDACA,WAIAR,kGAEAQ,sBAEAJ,+CAEA,0FAGAI,uBAEAJ,yBACAH,yCAEA,OC5QAQ,GADiBC,OAFjB,WAA0B,IAAAC,EAAAJ,KAAaK,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,MAAgBE,YAAA,kBAA4BF,EAAA,OAAYE,YAAA,eAAAC,OAAkCC,cAAA,mBAAiCP,EAAA,SAAAG,EAAA,QAA4BE,YAAA,cAAAG,IAA8BC,MAAAT,EAAAU,UAAoBP,EAAA,KAAUQ,OAAAX,EAAAY,gBAAuBT,EAAA,QAAeE,YAAA,gBAA0BL,EAAAa,GAAA,KAAAb,EAAAc,QAAA,SAAAX,EAAA,QAAgDE,YAAA,gBAAAM,OAAAX,EAAAe,UAAAf,EAAAgB,aAAAR,IAAuEC,MAAAT,EAAAiB,iBAA2BjB,EAAAkB,KAAAlB,EAAAa,GAAA,KAAAV,EAAA,QAAkCE,YAAA,aAAAM,MAAAX,EAAAmB,OAAAX,IAA8CC,MAAAT,EAAAoB,UAAoBpB,EAAAa,GAAA,WAAAb,EAAAqB,GAAArB,EAAAsB,MAAAtB,EAAAc,QAAAS,QAAA,cAAAvB,EAAAa,GAAA,KAAAb,EAAA,SAAAG,EAAA,MAA2GqB,aAAaC,KAAA,OAAAC,QAAA,SAAAC,MAAA3B,EAAA,KAAA4B,WAAA,SAAgEvB,YAAA,iBAA8BL,EAAA6B,GAAA7B,EAAAsB,MAAA,kBAAA9B,EAAAE,GAAgD,OAAAS,EAAA,aAAuB2B,IAAApC,EAAAY,OAAegB,MAAA9B,EAAAsB,QAAAd,EAAAc,QAAAiB,IAAA/B,EAAA+B,IAAAC,MAAAhC,EAAAgC,MAAA,EAAAC,kBAAAjC,EAAAkC,cAAAC,KAAAnC,EAAAmC,KAAAC,MAAApC,EAAAqC,WAAiJ7B,IAAKY,OAAApB,EAAAsC,WAAAC,eAAAvC,EAAAwC,kBAA0DxC,EAAAkB,QAE7kCuB,oBCqBjBC,EAvBAC,EAAA,OAcAC,CACArE,EACAuB,GATA,EAEA,KAEA,KAEA,MAUA,QCHA+C,sCAGAH,eAEA,YAGA,gCAGAhE,kDAMAF,+CAMAE,kFAUA,kBACA,eACA,cACA,iBACA,YACA,WACA,8BACA,mCACA,yCACA,2CAEA,8DAIA,4BAIAoE,gDACA,6CAMAA,qBAKA,oDAGAtD,4EAGAsB,2CACA,OCxFAiC,GADiBhD,OAFjB,WAA0B,IAAAC,EAAAJ,KAAaK,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,MAAgBE,YAAA,iBAA4BL,EAAA6B,GAAA7B,EAAA,kBAAAR,EAAAE,GAA0C,OAAAS,EAAA,aAAuB2B,IAAApC,EAAAY,OAAeyB,IAAA/B,EAAA+B,IAAAE,kBAAAjC,EAAAkC,cAAAZ,MAAA9B,EAAAsB,QAAAd,EAAAgD,YAAAhB,MAAA,EAAAI,MAAApC,EAAAoC,OAAqH5B,IAAKY,OAAApB,EAAAoB,cAE9TqB,oBCqBjBQ,EAvBAN,EAAA,OAcAO,CACAL,EACAE,GATA,EAEA,KAEA,KAEA,MAUA,QCgCAI,yDAIA,mBACA,sBAEA,4BAEA,WACA,WACA,8DAKA,iBAEA,mFASA,IAAAxD,EAAAC,uBACAwD,mCACAC,4BAEAC,wDAEAC,sBACA,OAFAC,KAAA,SAAAC,2CAMA,YAEA,6BACA,kCAEA,qDAKAC,0CAGAC,uBACAC,+BACA,0BAIA,IAAAC,EAAAjE,gHAIAT,kEAIAA,wBACA,kBACA2E,2BAGA7E,uDAMA,OACA8E,6DAGAC,mBACA,OACAD,mEAGAE,OACAF,4CAEA,IAAAG,EAAAtE,+CAEAuE,0BACAC,4BACAC,cACA,eACAC,UALAd,KAAA,SAAAC,sDASAc,qCAIAC,wCAEA,iCAIA,IAAAC,EAAA7E,6DAEAyE,wBACAK,SACA,QAHAlB,KAAA,SAAAC,2CAMAQ,oBACAU,+CAKA,IAAAC,EAAAhF,6DAEA2D,SADAC,KAAA,SAAAC,0CAIAQ,uCAEA,0BAMAY,eAAA,EAEAhC,QAAAI,IC5LA6B,GADiB/E,OAFjB,WAA0B,IAAAC,EAAAJ,KAAaK,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,kBAA4BF,EAAA,OAAYE,YAAA,uBAAiCF,EAAA,OAAYE,YAAA,UAAoBF,EAAA,gBAAqBK,IAAIuE,iBAAA/E,EAAA+E,qBAAyC,GAAA/E,EAAAa,GAAA,KAAAV,EAAA,OAAAA,EAAA,OAAsCE,YAAA,UAAoBF,EAAA,YAAiB6E,aAAaC,MAAA,SAAgB3E,OAAQ4E,KAAA,OAAAC,YAAA,aAAwC3E,IAAK4E,OAAApF,EAAAqF,cAA0B/D,OAAQK,MAAA3B,EAAA,QAAAsF,SAAA,SAAAC,GAA6CvF,EAAAsE,QAAAiB,GAAgB3D,WAAA,cAAuB,GAAA5B,EAAAa,GAAA,KAAAV,EAAA,YAAiC6E,aAAaC,MAAA,QAAe3E,OAAQ2D,KAAAjE,EAAAwF,UAAAC,OAAA,GAAAC,aAAA1F,EAAA2F,eAA+DxF,EAAA,mBAAwBG,OAAOsF,KAAA,WAAArE,MAAA,QAAgCvB,EAAAa,GAAA,KAAAV,EAAA,mBAAoCG,OAAOsF,KAAA,OAAArE,MAAA,QAA4BvB,EAAAa,GAAA,KAAAV,EAAA,mBAAoCG,OAAOsF,KAAA,QAAArE,MAAA,QAA6BvB,EAAAa,GAAA,KAAAV,EAAA,mBAAoCG,OAAOuF,MAAA,QAAAtE,MAAA,KAAA0D,MAAA,OAA2Ca,YAAA9F,EAAA+F,KAAsBjE,IAAA,UAAAkE,GAAA,SAAAC,GAAiC,OAAA9F,EAAA,aAAwBG,OAAO4F,KAAA,OAAAhB,KAAA,SAA6B1E,IAAKC,MAAA,SAAA0F,GAAyBnG,EAAAoG,eAAAH,EAAAI,SAAgCrG,EAAAa,GAAA,gBAAsB,GAAAb,EAAAa,GAAA,KAAAV,EAAA,iBAAsCG,OAAOgG,eAAAtG,EAAAmE,YAAAoC,YAAAvG,EAAAoE,SAAAoC,OAAA,2BAAAC,MAAAzG,EAAAwE,SAAgHhE,IAAKkG,iBAAA1G,EAAA2G,oBAAAC,qBAAA,SAAAT,GAA+EnG,EAAAmE,YAAAgC,OAAyB,KAAAnG,EAAAa,GAAA,KAAAV,EAAA,aAAoCG,OAAOuG,MAAA,OAAAC,QAAA9G,EAAA+G,cAAA9B,MAAA,SAA2DzE,IAAKwG,iBAAA,SAAAb,GAAkCnG,EAAA+G,cAAAZ,MAA2BhG,EAAA,OAAYE,YAAA,UAAoBF,EAAA,WAAgB8G,IAAA,OAAA3G,OAAkB2D,KAAAjE,EAAA2E,eAAAuC,gBAAA,GAAAC,WAAA,KAAAC,MAAApH,EAAAqH,aAAAC,wBAAAtH,EAAAuH,QAAAC,uBAAAxH,EAAAyH,cAAiKzH,EAAAa,GAAA,KAAAV,EAAA,OAAwBE,YAAA,gBAAAC,OAAmCoH,KAAA,SAAAC,aAAA,IAAgCD,KAAA,WAAevH,EAAA,aAAkBG,OAAO4E,KAAA,OAAAgB,KAAA,WAA+B1F,IAAKC,MAAAT,EAAA4H,gBAA0B5H,EAAAa,GAAA,SAAAb,EAAAa,GAAA,KAAAV,EAAA,aAA8CG,OAAO4E,KAAA,QAAc1E,IAAKC,MAAA,SAAA0F,GAAyBnG,EAAA+G,eAAA,MAA4B/G,EAAAa,GAAA,wBAEzlE4B,oBCCjB,IAcAoF,EAdAlF,EAAA,OAcAmF,CACA3E,EACA2B,GATA,EAVA,SAAAiD,GACApF,EAAA,SAaA,KAEA,MAUAqF,EAAA,QAAAH,EAAA","file":"static/js/69.c1c1d3d37ffc8af4ea3a.js","sourcesContent":["<template>\n  <li class=\"vue-tree-item\">\n    <div class=\"item-wrapper\" onselectstart=\"return false;\">\n      <span\n        v-if=\"isFolder\"\n        class=\"item-toggle\"\n        @click=\"toggle\"\n      >\n        <i :class=\"[toggleIcon]\"></i>\n      </span>\n      <span\n        v-else\n        class=\"item-toggle\"\n      />\n      <span\n        v-if=\"options.checkbox\"\n        class=\"item-checkbox\"\n        :class=\"[labelIcon, labelStatus]\"\n        @click=\"toggleChecked\"\n      />\n      <span\n        class=\"item-label\"\n        :class=\"isBold\"\n        @click=\"handle\"\n      >\n        {{ model[options.label] }}\n      </span>\n    </div>\n    <ul v-if=\"isFolder\" v-show=\"open\" class=\"vue-tree-list\">\n      <tree-item\n        v-for=\"(item, idx) in model.children\"\n        :model=\"item\"\n        :options=\"options\"\n        :ids=\"ids\"\n        :depth=\"depth + 1\"\n        :ids-with-parent=\"idsWithParent\"\n        :half=\"half\"\n        :state=\"itemState\"\n        :key=\"idx\"\n        @handle=\"emitHandle\"\n        @child-change=\"childChange\"\n      />\n    </ul>\n  </li>\n</template>\n<script>\n  export default {\n    name: 'tree-item',\n\n    props: {\n      model: {\n        type: Object,\n        default: function () {\n          return {}\n        }\n      },\n\n      options: {\n        type: Object,\n        default: function () {\n          return {}\n        }\n      },\n\n      depth: {\n        type: Number,\n        default: 0\n      },\n\n      ids: {\n        type: Array,\n        default: function () {\n          return []\n        }\n      },\n\n      idsWithParent: {\n        type: Array,\n        default: function () {\n          return []\n        }\n      },\n\n      half: {\n        type: Array,\n        default: function () {\n          return []\n        }\n      },\n\n      state: {\n        type: Number,\n        default: 0\n      }\n    },\n\n    data () {\n      return {\n        open: false,\n        itemState: 0\n      }\n    },\n\n    computed: {\n      toggleIcon () {\n        return this.open ? this.options.closeIcon : this.options.openIcon\n      },\n\n      labelIcon () {\n        if (this.half.indexOf(this.model.id) !== -1) {\n          return this.options.halfCheckedIcon\n        } else if (this.idsWithParent.indexOf(this.model.id) !== -1) {\n          return this.options.checkedIcon\n        } else {\n          return this.options.uncheckedIcon\n        }\n      },\n\n      labelStatus () {\n        if (this.half.indexOf(this.model.id) !== -1) {\n          return 'half-checked'\n        } else if (this.idsWithParent.indexOf(this.model.id) !== -1) {\n          return 'checked'\n        } else {\n          return 'unchecked'\n        }\n      },\n\n      isFolder () {\n        return this.model.children && this.model.children.length\n      },\n\n      isBold () {\n        return {\n          'item-bold': this.isFolder && this.options.folderBold\n        }\n      },\n\n      self () {\n        let self = Object.assign({}, this.model, {children: []})\n        delete self.children\n        return self\n      }\n    },\n\n    created () {\n      if (this.isFolder && this.depth < this.options.depthOpen) {\n        this.open = true\n      }\n      if (this.options.checkbox) {\n        if (this.idsWithParent.indexOf(this.model.id) !== -1) {\n          this.itemState = this.itemState + 1\n          if (this.isFolder && !this.options.idsWithParent) {\n            let index = this.ids.indexOf(this.model.id)\n            if (index !== -1) {\n              this.$delete(this.ids, index)\n            }\n          }\n          this.$emit('child-change', true)\n        }\n        if (this.state > 0) {\n          this.addChecked()\n          this.itemState = this.itemState + 1\n        }\n      }\n    },\n\n    watch: {\n      state (val, old) {\n        if (val > old) {\n          this.addChecked()\n          this.itemState = this.itemState + 1\n        } else {\n          this.delChecked()\n          this.deleteHalfChecked(this.model.id)\n          this.itemState = this.itemState - 1\n        }\n      }\n    },\n\n    methods: {\n      toggle () {\n        if (this.isFolder) {\n          this.open = !this.open\n        }\n      },\n\n      handle () {\n        this.emitHandle(this.self)\n      },\n\n      emitHandle (item) {\n        this.$emit('handle', item)\n      },\n\n      toggleChecked () {\n        if (this.isFolder) {\n          this.deleteHalfChecked()\n        }\n        if (this.idsWithParent.indexOf(this.model.id) !== -1) {\n          this.delChecked()\n          this.$emit('child-change', false)\n          this.itemState = this.itemState - 1\n        } else {\n          this.addChecked()\n          this.$emit('child-change', true)\n          if (this.options.checkedOpen && this.isFolder) {\n            this.open = true\n          }\n          this.itemState = this.itemState + 1\n        }\n      },\n\n      addChecked () {\n        if (this.idsWithParent.indexOf(this.model.id) === -1) {\n          this.$set(this.idsWithParent, this.idsWithParent.length, this.model.id)\n        }\n        if (!this.isFolder || this.options.idsWithParent) {\n          if (this.ids.indexOf(this.model.id) === -1) {\n            this.$set(this.ids, this.ids.length, this.model.id)\n          }\n        }\n      },\n\n      delChecked () {\n        let idx = this.idsWithParent.indexOf(this.model.id)\n        let index = this.ids.indexOf(this.model.id)\n        if (idx !== -1) {\n          this.$delete(this.idsWithParent, idx)\n        }\n        if (index !== -1) {\n          this.$delete(this.ids, index)\n        }\n      },\n\n      setHalfChecked () {\n        if (this.half.indexOf(this.model.id) === -1) {\n          this.$set(this.half, this.half.length, this.model.id)\n        }\n      },\n\n      deleteHalfChecked () {\n        let idx = this.half.indexOf(this.model.id)\n        if (idx !== -1) {\n          this.$delete(this.half, idx)\n        }\n      },\n\n      childChange (checked) {\n        if (this.model.children.some((val) => this.half.indexOf(val.id) !== -1)) {\n          this.addChecked()\n          this.setHalfChecked()\n          this.$emit('child-change', true)\n          return\n        }\n        if (checked) {\n          this.addChecked()\n          if (this.model.children.some((val) => this.idsWithParent.indexOf(val.id) === -1)) {\n            this.setHalfChecked()\n          } else {\n            this.deleteHalfChecked()\n          }\n          this.$emit('child-change', true)\n        } else {\n          if (this.model.children.some((val) => this.idsWithParent.indexOf(val.id) !== -1)) {\n            this.setHalfChecked()\n          } else {\n            this.deleteHalfChecked()\n            this.delChecked()\n          }\n          this.$emit('child-change', false)\n        }\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// node_modules/vue-simple-tree/src/components/Item.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"vue-tree-item\"},[_c('div',{staticClass:\"item-wrapper\",attrs:{\"onselectstart\":\"return false;\"}},[(_vm.isFolder)?_c('span',{staticClass:\"item-toggle\",on:{\"click\":_vm.toggle}},[_c('i',{class:[_vm.toggleIcon]})]):_c('span',{staticClass:\"item-toggle\"}),_vm._v(\" \"),(_vm.options.checkbox)?_c('span',{staticClass:\"item-checkbox\",class:[_vm.labelIcon, _vm.labelStatus],on:{\"click\":_vm.toggleChecked}}):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"item-label\",class:_vm.isBold,on:{\"click\":_vm.handle}},[_vm._v(\"\\n      \"+_vm._s(_vm.model[_vm.options.label])+\"\\n    \")])]),_vm._v(\" \"),(_vm.isFolder)?_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.open),expression:\"open\"}],staticClass:\"vue-tree-list\"},_vm._l((_vm.model.children),function(item,idx){return _c('tree-item',{key:idx,attrs:{\"model\":item,\"options\":_vm.options,\"ids\":_vm.ids,\"depth\":_vm.depth + 1,\"ids-with-parent\":_vm.idsWithParent,\"half\":_vm.half,\"state\":_vm.itemState},on:{\"handle\":_vm.emitHandle,\"child-change\":_vm.childChange}})})):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0d39a47f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./node_modules/vue-simple-tree/src/components/Item.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../vue-loader/lib/selector?type=script&index=0!./Item.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../vue-loader/lib/selector?type=script&index=0!./Item.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0d39a47f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../vue-loader/lib/selector?type=template&index=0!./Item.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-simple-tree/src/components/Item.vue\n// module id = null\n// module chunks = ","<template>\n  <ul class=\"vue-tree-list\">\n    <tree-item\n      v-for=\"(item, idx) in treeData\"\n      :ids=\"ids\"\n      :ids-with-parent=\"idsWithParent\"\n      :model=\"item\"\n      :options=\"termOptions\"\n      :depth=\"0\"\n      :state=\"state\"\n      :key=\"idx\"\n      @handle=\"handle\"\n    />\n  </ul>\n</template>\n\n<script>\n  import Item from './Item.vue'\n  import '../vue-tree.css'\n\n  export default {\n    components: { 'tree-item': Item },\n\n    model: {\n      prop: 'ids',\n      event: 'change'\n    },\n\n    props: {\n      treeData: {\n        type: Array,\n        default: function () {\n          return []\n        }\n      },\n      options: {\n        type: Object,\n        default: function () {\n          return {}\n        }\n      },\n      ids: {\n        type: Array,\n        default: function () {\n          return []\n        }\n      }\n    },\n\n    data () {\n      return {\n        defaultOptions: {\n          label: 'label',\n          checkbox: true,\n          checkedOpen: true,\n          folderBold: true,\n          idsWithParent: true,\n          depthOpen: 0,\n          openIcon: 'fa fa-angle-right',\n          closeIcon: 'fa fa-angle-down',\n          halfCheckedIcon: 'fa fa-minus-square-o fa-fw',\n          checkedIcon: 'fa fa-check-square-o fa-fw',\n          uncheckedIcon: 'fa fa-square-o fa-fw'\n        },\n        termOptions: {},\n        idsWithParent: [],\n        state: 0\n      }\n    },\n\n    created () {\n      this.initOptions()\n      this.idsWithParent = this.ids.slice(0)\n    },\n\n    watch: {\n      options: {\n        handler: function (val) {\n          this.initOptions()\n        },\n        deep: true\n      }\n    },\n\n    methods: {\n      handle (item) {\n        this.$emit('handle', item)\n      },\n      initOptions () {\n        this.termOptions = Object.assign({}, this.defaultOptions, this.options)\n        this.idsWithParent = this.ids.slice(0)\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// node_modules/vue-simple-tree/src/components/VueTree.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"vue-tree-list\"},_vm._l((_vm.treeData),function(item,idx){return _c('tree-item',{key:idx,attrs:{\"ids\":_vm.ids,\"ids-with-parent\":_vm.idsWithParent,\"model\":item,\"options\":_vm.termOptions,\"depth\":0,\"state\":_vm.state},on:{\"handle\":_vm.handle}})}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-414a2029\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./node_modules/vue-simple-tree/src/components/VueTree.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../vue-loader/lib/selector?type=script&index=0!./VueTree.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../vue-loader/lib/selector?type=script&index=0!./VueTree.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-414a2029\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../vue-loader/lib/selector?type=template&index=0!./VueTree.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-simple-tree/src/components/VueTree.vue\n// module id = null\n// module chunks = ","<template>\r\n\t<div class=\"fwsxtj-pannel\">\r\n\t\t<div class=\"pannelPaddingBg-10\">\r\n\t\t\t<div class=\"mg-12\"><chooseSchool @handleChangeUnit=\"handleChangeUnit\"></chooseSchool></div>\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\"mg-12\"><el-input style=\"width:365px\" v-model=\"keyword\" size=\"mini\" placeholder=\"请输入用户姓名查询\" @change=\"handleSearch\"></el-input></div>\r\n\t\t\t\t<el-table :data=\"tableData\" border style=\"width: 100%\" :max-height=\"tableHeight\">\r\n\t\t\t\t\t<el-table-column prop=\"username\" label=\"姓名\"></el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"dept\" label=\"部门\"></el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"email\" label=\"邮箱\"></el-table-column>\r\n\t\t\t\t\t<el-table-column fixed=\"right\" label=\"操作\" width=\"150\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<el-button type=\"text\" size=\"small\" @click=\"handleEditDept(scope.row)\">编辑</el-button>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t</el-table>\r\n\t\t\t\t<el-pagination\r\n\t\t\t\t\t@current-change=\"handleCurrentChange\"\r\n\t\t\t\t\t:current-page.sync=\"currentPage\"\r\n\t\t\t\t\t:page-size=\"pageSize\"\r\n\t\t\t\t\tlayout=\"total, prev, pager, next\"\r\n\t\t\t\t\t:total=\"records\"\r\n\t\t\t\t></el-pagination>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t\r\n\t\t<el-dialog\r\n\t\t  title=\"部门维护\"\r\n\t\t  :visible.sync=\"dialogVisible\"\r\n\t\t  width=\"800px\"\r\n\t\t  >\r\n\t\t  <div class=\"pd-10\">\r\n\t\t\t  <el-tree\r\n\t\t\t    :data=\"treeDataSource\"\r\n\t\t\t    show-checkbox\r\n\t\t\t    node-key=\"id\"\r\n\t\t\t    ref=\"tree\"\r\n\t\t\t    :props=\"defaultProps\"\r\n\t\t\t    :default-expanded-keys=\"openIds\"\r\n\t\t\t    :default-checked-keys=\"checkedIds\">\r\n\t\t\t  </el-tree>\r\n\t\t\t  <div slot=\"footer\" class=\"dialog-footer\" text-right>\r\n\t\t\t\t   <el-button size=\"mini\" type=\"primary\" @click=\"handleCommit\">确 定</el-button>\r\n\t\t\t  \t\t<el-button size=\"mini\" @click=\"dialogVisible = false\">取 消</el-button>\r\n\t\t\t  </div>\r\n\t\t  </div>\r\n\t\t</el-dialog>\r\n\r\n\t\t\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport chooseSchool from '@/components/BusinessPage/chooseSchool.vue';\r\nimport VueTree from 'vue-simple-tree/src/components/VueTree.vue';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttableHeight:window.innerHeight - 220,\r\n\t\t\tdialogVisible:false,\r\n\t\t\tunitData: {},\r\n\t\t\tkeyword: '',\r\n\t\t\ttableData: [],\r\n\t\t\tcurrentPage: 1,\r\n\t\t\tpageSize: 15,\r\n\t\t\trecords: 0,\r\n\t\t\tcheckIds:[],\r\n\t\t\tcheckedIds:[],\r\n\t\t\topenIds:[],\r\n\t\t\tdefaultProps: {\r\n\t\t\t  children: 'children',\r\n\t\t\t  label: 'title'\r\n\t\t\t},\r\n\t\t\ttreeDataSource: []\r\n\t\t};\r\n\t},\r\n\tmounted(){\r\n\t\t// this.$refs.tree.setCheckedKeys(['2','5','4'],true);\r\n\t},\r\n\tmethods: {\r\n\t\thandleCommit(){\r\n\t\t\t\r\n\t\t\tlet keys =  this.$refs.tree.getCheckedKeys();\r\n\t\t\tlet halfKeys =  this.$refs.tree.getHalfCheckedKeys();\r\n\t\t\tlet ids = halfKeys.concat(keys);\r\n\r\n\t\t\tthis.$post(this.API.addUserDept,{\r\n\t\t\t\tuserId:this.curUser.userid,\r\n\t\t\t\tdeptIds:ids.join(',')\r\n\t\t\t}).then(res=>{\r\n\t\t\t\tif(res.state == 'success'){\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tmessage:'保存成功',\r\n\t\t\t\t\t\ttype:'success'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.dialogVisible = false;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$message({message:res.msg,type:'error'})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\thandleEditDept(params) {\r\n\t\t\tthis.curUser = params;\r\n\t\t\tthis.openIds = [];\r\n\t\t\tthis.checkedIds = [];\r\n\t\t\tthis.userDeptChecked();\r\n\t\t\tthis.treeDept();\r\n\t\t\tthis.dialogVisible = true;\r\n\t\t},\r\n\t\t\r\n\t\t//递归删除一级父节点\r\n\t\tfilterTree(treeData){\r\n\t\t\ttreeData.forEach((ele,i,arr)=>{\r\n\t\t\t\t\tif(!!ele.children  && !!ele.children.length ){\r\n\t\t\t\t\t\tif(!!ele.isExpand && !this.checkIds.length){\r\n\t\t\t\t\t\t\tthis.openIds.push(ele.id);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.checkIds.forEach((element,_i,array)=>{\r\n\t\t\t\t\t\t\tif(element == ele.id){\r\n\t\t\t\t\t\t\t\tthis.openIds.push(ele.id);\r\n\t\t\t\t\t\t\t\tthis.checkIds.splice(_i,1);\r\n\t\t\t\t\t\t\t\tthis.checkedIds = this.checkIds;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.filterTree(ele.children);\r\n\t\t\t\t  }\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\thandleSearch() {\r\n\t\t\tthis.currentPage = 1;\r\n\t\t\tthis.getSchoolUsers();\r\n\t\t},\r\n\t\thandleChangeUnit(prams) {\r\n\t\t\tthis.unitData = prams;\r\n\t\t\tthis.currentPage = 1;\r\n\t\t\tthis.getSchoolUsers();\r\n\t\t},\r\n\t\thandleCurrentChange(data) {\r\n\t\t\tthis.currentPage = data;\r\n\t\t\tthis.getSchoolUsers();\r\n\t\t},\r\n\t\tgetSchoolUsers() {\r\n\t\t\tthis.$get(this.API.getUsers, {\r\n\t\t\t\tcurPage: this.currentPage,\r\n\t\t\t\tpageSize: this.pageSize,\r\n\t\t\t\tdwbh: this.unitData.dwbh,\r\n\t\t\t\tunitType: 1,\r\n\t\t\t\tkeyword: this.keyword\r\n\t\t\t}).then(res => {\r\n\t\t\t\tif (res.state == 'success') {\r\n\t\t\t\t\tif (!!res.data.rows) {\r\n\t\t\t\t\t\tthis.tableData = res.data.rows;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.tableData = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.records = res.data.records;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$message({message:res.msg,type:'error'})\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\ttreeDept(){\r\n\t\t\tthis.$get(this.API.treeDeptWithUnit,{\r\n\t\t\t\tdwbh:this.unitData.dwbh,\r\n\t\t\t\tdwmc:this.unitData.dwmc,\r\n\t\t\t\tzts:'1,3'\r\n\t\t\t}).then(res=>{\r\n\t\t\t\tif(res.state == 'success'){\r\n\t\t\t\t\tthis.treeDataSource = res.data;\r\n\t\t\t\t\tthis.filterTree(this.treeDataSource);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t// 获取用户已关联部门编号\r\n\t\tuserDeptChecked(){\r\n\t\t\tthis.$get(this.API.userDeptChecked,{\r\n\t\t\t\tuserId:this.curUser.userid\r\n\t\t\t}).then(res=>{\r\n\t\t\t\tif(res.state == 'success'){\r\n\t\t\t\t\tthis.checkIds = !res.data?[]:res.data;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$message({message:res.msg,type:'error'})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\tchooseSchool,\r\n\t\tVueTree\r\n\t}\r\n};\r\n</script>\r\n\r\n<style>\r\n.fwsxtj-pannel {\r\n\tmargin: 20px 50px 0;\r\n}\r\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/BusinessPage/schoolServices/whls.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fwsxtj-pannel\"},[_c('div',{staticClass:\"pannelPaddingBg-10\"},[_c('div',{staticClass:\"mg-12\"},[_c('chooseSchool',{on:{\"handleChangeUnit\":_vm.handleChangeUnit}})],1),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"mg-12\"},[_c('el-input',{staticStyle:{\"width\":\"365px\"},attrs:{\"size\":\"mini\",\"placeholder\":\"请输入用户姓名查询\"},on:{\"change\":_vm.handleSearch},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}})],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"max-height\":_vm.tableHeight}},[_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"姓名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"dept\",\"label\":\"部门\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"email\",\"label\":\"邮箱\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.handleEditDept(scope.row)}}},[_vm._v(\"编辑\")])]}}])})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"layout\":\"total, prev, pager, next\",\"total\":_vm.records},on:{\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event}}})],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"部门维护\",\"visible\":_vm.dialogVisible,\"width\":\"800px\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"pd-10\"},[_c('el-tree',{ref:\"tree\",attrs:{\"data\":_vm.treeDataSource,\"show-checkbox\":\"\",\"node-key\":\"id\",\"props\":_vm.defaultProps,\"default-expanded-keys\":_vm.openIds,\"default-checked-keys\":_vm.checkedIds}}),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\",\"text-right\":\"\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.handleCommit}},[_vm._v(\"确 定\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")])],1)],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6135463c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/BusinessPage/schoolServices/whls.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6135463c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./whls.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./whls.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./whls.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6135463c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./whls.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/BusinessPage/schoolServices/whls.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}