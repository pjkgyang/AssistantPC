webpackJsonp([30],{"08Vx":function(t,e){},cxa7:function(t,e,a){"use strict";(function(t){var s=a("mvHQ"),i=a.n(s);e.a={name:"treeTable",props:["list","isAna"],data:function(){return{isDesc:!1,treeDataSource:[]}},watch:{list:{handler:function(){this.initTreeData()},deep:!0},isDesc:function(t,e){this.$emit("orderByFunc",t)}},computed:{},methods:{handleRouter:function(t,e){this.$emit("handleRouter",t,e)},initTreeData:function(){var t=JSON.parse(i()(this.list));!function t(e,a){e.map(function(e,s){e.isExpand=!!e.isExpand&&e.isExpand,e.children=e.children||[],e.level=a,e.bLeft=1===a?34:16*(a-2)+34,e.Experience=e.Experience||"无",e.children.length>0&&t(e.children,a+1)})}(t,1),this.treeDataSource=t},getMore:function(){alert("滚动到底部加载更多"),t("#scrollWrap").mCustomScrollbar("scrollTo","top",{scrollInertia:0})},actionFunc:function(t,e,a){this.$emit("actionFunc",t,e,a)},deleteFunc:function(t){this.$emit("deleteFunc",t)},startRejectFunc:function(t,e){this.$emit("startRejectFunc",t,e)},handlerExpand:function(t){this.$emit("handlerExpand",t)}},components:{treeItem:function(){return a.e(150).then(a.bind(null,"gaDD"))}},mounted:function(){var t=this;t.$nextTick(function(){t.initTreeData()})}}}).call(e,a("7t+N"))},hzP1:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("jY+d"),i=a("XZD3"),n={data:function(){return{dialogVisible:!1,dwbh:"",dwmc:"",keyword:"",formData:{bmdm:"",bmmc:"",sfzk:1,sortCode:""},curTreeData:{},isEdit:!1,childData:{},treeDataSource:[],parentNode:[]}},mounted:function(){},components:{treeTable:s.a,chooseSchool:i.a},methods:{handleClose:function(){this.formData.bmmc=this.formData.bmdm="",this.formData.sfzk=1,this.formData.sortCode="",this.dialogVisible=!1},actionFunc:function(t,e,a){this.curTreeData=t,"add"==e?(this.isEdit=!1,this.dialogVisible=!0):(this.parentNode=a,this.isEdit=!0,this.formData.bmmc=t.title,this.formData.bmdm=t.bmdm,this.formData.sfzk=t.sfzk,this.formData.sortCode=t.sortCode,this.dialogVisible=!0)},deleteFunc:function(t){var e=this;this.$confirm("是否删除该部门?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$post(e.API.deleteDept,{wid:t.id}).then(function(t){"success"==t.state?(e.$message({message:"删除成功~",type:"success"}),e.treeDept()):e.$message({message:t.msg,type:"error"})})}).catch(function(){})},startRejectFunc:function(t,e){var a=this;this.$confirm("start"==e?"是否启用该部门?":"是否禁用该部门?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$post("start"==e?a.API.enableDept:a.API.disableDept,{wid:t.id}).then(function(s){"success"==s.state?(a.$message({message:"start"==e?"部门已启用~":"部门已禁用~",type:"success"}),a.$set(t,"dataStatus","start"==e?1:3)):a.$message({message:s.msg,type:"error"})})})},handleCommit:function(){var t=this;this.$post(this.API.saveDept,{wid:this.isEdit?this.curTreeData.id:"",dwbh:this.dwbh,dwmc:this.dwmc,mc:this.formData.bmmc,bmdm:this.formData.bmdm,parentid:this.isEdit?this.curTreeData.parentId:this.curTreeData.id,px:this.formData.sortCode,sfzk:this.formData.sfzk}).then(function(e){"success"==e.state?(t.$message({message:"保存成功~",type:"success"}),t.isEdit?(t.$set(t.curTreeData,"title",t.formData.bmmc),t.$set(t.curTreeData,"isExpand",t.formData.sfzk),t.$set(t.curTreeData,"sfzk",t.formData.sfzk),t.$set(t.curTreeData,"sortCode",t.formData.sortCode),t.$set(t.curTreeData,"bmdm",t.formData.bmdm),t.parentNode.children.sort(function(t,e){return t.sortCode-e.sortCode})):t.treeDept(),t.handleClose()):t.$message({message:e.msg,type:"error"})})},handleChangeUnit:function(t){this.dwbh=t.dwbh,this.dwmc=t.dwmc,this.treeDept()},handlerExpand:function(t){t.isExpand=!t.isExpand},treeDept:function(){var t=this;this.$get(this.API.treeDeptWithUnit,{dwbh:this.dwbh,dwmc:this.dwmc,zts:"1,3"}).then(function(e){"success"==e.state&&(t.treeDataSource=e.data)})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pannelPadding-10"},[a("div",{staticClass:"menus-tree pannelPaddingBg-10"},[a("div",[a("chooseSchool",{on:{handleChangeUnit:t.handleChangeUnit}})],1),t._v(" "),a("br"),t._v(" "),a("div",[a("tree-table",{ref:"recTree",attrs:{list:t.treeDataSource},on:{"update:list":function(e){t.treeDataSource=e},actionFunc:t.actionFunc,deleteFunc:t.deleteFunc,startRejectFunc:t.startRejectFunc,handlerExpand:t.handlerExpand}})],1),t._v(" "),a("br")]),t._v(" "),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"600px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"form",staticStyle:{padding:"12px"},attrs:{model:t.formData,"label-width":"80px",size:"mini"}},[a("el-form-item",{attrs:{label:"部门名称",required:""}},[a("el-input",{attrs:{size:"mini"},model:{value:t.formData.bmmc,callback:function(e){t.$set(t.formData,"bmmc",e)},expression:"formData.bmmc"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"部门编码",required:""}},[a("el-input",{attrs:{size:"mini"},model:{value:t.formData.bmdm,callback:function(e){t.$set(t.formData,"bmdm",e)},expression:"formData.bmdm"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否展开",required:""}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:t.formData.sfzk,callback:function(e){t.$set(t.formData,"sfzk",e)},expression:"formData.sfzk"}},[a("el-radio",{attrs:{label:1}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:0}},[t._v("否")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"排序",required:"",size:"mini"}},[a("el-input",{attrs:{type:"number"},model:{value:t.formData.sortCode,callback:function(e){t.$set(t.formData,"sortCode",e)},expression:"formData.sortCode"}})],1),t._v(" "),a("el-form-item",{attrs:{"text-right":""}},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleCommit}},[t._v("保存")]),t._v(" "),a("el-button",{on:{click:t.handleClose}},[t._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")(n,r,!1,function(t){a("08Vx")},null,null);e.default=o.exports},"jY+d":function(t,e,a){"use strict";var s=a("cxa7"),i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tree-table"},[a("div",{staticClass:"tree-head"},[t.isAna?t._e():a("table",[t._m(0)]),t._v(" "),t.isAna?a("table",[t._m(1)]):t._e()]),t._v(" "),a("div",{staticClass:"tree-wrap",attrs:{id:"scrollWrap"}},[a("div",{staticClass:"tree-body"},[t.treeDataSource.length>0?a("table",[a("tbody",[a("tr",[a("td",t._l(t.treeDataSource,function(e,s){return a("tree-item",{key:"root_node_"+s,attrs:{isAna:t.isAna,root:0,num:s,nodes:t.treeDataSource.length,trees:t.treeDataSource,model:e},on:{actionFunc:t.actionFunc,deleteFunc:t.deleteFunc,startRejectFunc:t.startRejectFunc,handlerExpand:t.handlerExpand,handleRouter:t.handleRouter,"update:trees":function(e){t.treeDataSource=e},"update:model":function(t){e=t}}})}))])])]):a("table",[t._m(2)])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"td1"},[t._v("组织部门")]),t._v(" "),a("td",{staticClass:"td2"},[t._v("部门编码")]),t._v(" "),a("td",{staticClass:"td2"},[t._v("排序")]),t._v(" "),a("td",{staticClass:"td3"},[t._v("状态")]),t._v(" "),a("td",{staticClass:"td6"},[t._v("操作")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"td1",staticStyle:{width:"400px"}},[t._v("组织部门")]),t._v(" "),a("td",{staticClass:"td4"},[t._v("有服务指南")]),t._v(" "),a("td",{staticClass:"td4"},[t._v("无服务指南")]),t._v(" "),a("td",{staticClass:"td4"},[t._v("有信息化支持")]),t._v(" "),a("td",{staticClass:"td4"},[t._v("无信息化支持")]),t._v(" "),a("td",{staticClass:"td4"},[t._v("信息化覆盖率")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{staticStyle:{"text-align":"center",border:"1px solid #e8e8e8"}},[this._v("暂无数据")])])}]};var n=function(t){a("utAc")},r=a("VU/8")(s.a,i,!1,n,null,null);e.a=r.exports},utAc:function(t,e){}});
//# sourceMappingURL=30.49c4e2e927b8f07e39eb.js.map