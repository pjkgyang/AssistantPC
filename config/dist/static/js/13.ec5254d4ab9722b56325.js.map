{"version":3,"sources":["webpack:///./node_modules/babel-runtime/core-js/get-iterator.js","webpack:///./node_modules/core-js/library/fn/get-iterator.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator.js","webpack:///src/views/BusinessPage/demand/cpTree.vue","webpack:///./src/views/BusinessPage/demand/cpTree.vue?240f","webpack:///./src/views/BusinessPage/demand/cpTree.vue","webpack:///src/views/BusinessPage/demand/xq-dialog.vue","webpack:///src/views/BusinessPage/demand/xqlist-dialog.vue","webpack:///./src/views/BusinessPage/demand/xqlist-dialog.vue?2014","webpack:///./src/views/BusinessPage/demand/xqlist-dialog.vue","webpack:///src/components/demand/step.vue","webpack:///./src/components/demand/step.vue?9059","webpack:///./src/components/demand/step.vue","webpack:///./src/views/BusinessPage/demand/xq-dialog.vue?5676","webpack:///./src/views/BusinessPage/demand/xq-dialog.vue","webpack:///src/views/BusinessPage/demand/index.vue","webpack:///./src/views/BusinessPage/demand/index.vue?9046","webpack:///./src/views/BusinessPage/demand/index.vue"],"names":["module","exports","default","__webpack_require__","__esModule","anObject","get","getIterator","it","iterFn","TypeError","call","demand_cpTree","render","_h","this","$createElement","_c","_self","ref","staticClass","attrs","data","options","props","defaultProps","node-key","default-expanded-keys","on","node-click","handleNodeClick","staticRenderFns","Component","normalizeComponent","demandProductTree","_this","ssrContext","__webpack_exports__","show","getTime","Boolean","Object","String","itemChoose","__WEBPACK_IMPORTED_MODULE_2__components_BusinessPage_itemChoose_vue__","uploadFile","__WEBPACK_IMPORTED_MODULE_3__components_BusinessPage_upload_vue__","xqlistDilog","__WEBPACK_IMPORTED_MODULE_5__views_BusinessPage_demand_xqlist_dialog_vue__","cpTree","__WEBPACK_IMPORTED_MODULE_6__views_BusinessPage_demand_cpTree_vue__","id","title","_iteratorNormalCompletion","itm","_step","value","children","lbmc","val","_this2","xmzt","xmbh","xmmc","getUsers","bt","wid","_this3","btnbh","isClearFile","Type","msg","_this4","dosuccess","_this5","ywxbm","then","res","_this6","rows","_this7","_ref","_this8","nr","reverse","xqfl","sfsx","cpbjbh","cpbjmc","crowdywxbh","crowdywxmc","crowdcpbh","crowdcpmc","qwsjwcrq","qwkfjfrq","xqfjwid","xqfjmc","i","xqlist_dialog","queryPageDemands","currentPage","pageSize","records","demand_xqlist_dialog","_vm","width","top","visible","append-to-body","close-on-click-modal","update:visible","$event","close","$emit","staticStyle","tableData","border","prop","label","min-width","show-overflow-tooltip","scopedSlots","_u","key","fn","scope","type","size","click","handleChooseDemand","row","_v","_s","length","current-page","page-size","layout","total","current-change","handleCurrentChange","update:currentPage","_e","step","Array","demand_step","list","_l","process","index","class","crowdBefore","active","lx","active-1","lczt","active-2","active-3","mc","demand_xq_dialog","margin","model","demandData","inline","label-width","required","style","readonly","placeholder","callback","$$v","$set","expression","padding","slot","disabled","icon","adddemandtItem","item","multiple","teacherData","tcls","username","userid","show-all-levels","change","handleItemChange","handleChangeCrowdYwx","ywx","lbdm","handleChangeCrowdCp","cp","picker-options","pickerBeginDateBefore","clearable","format","value-format","handleChangeQwwcrq","handleChangeQwjfrq","glxqMc","handleRelaseDemand","istb","handleUploadFile","fwznfjMc","includes","handleRemoveFwznfj","text-align","handleCommit","dialogdemandVisible","handleEdit","demandListVisible","update:show","__vue_styles__","xq_dialog","demand","xqflList","xqztList","xqlxList","queryProcessTemplate","queryPagesDemand","queryDemandProductTree","unitType","userGroupTag","xmcpList","queryLJshow","filterData","xqlx","xqzt","gczd","keyword","xqDialog","emptyContent","BusinessPage_demand","isshown-query","el-icon-arrow-up","el-icon-arrow-down","handleQueryShow","handleQuery","handleExport","directives","name","rawName","flex","bg-active","handleChangeXqfl","handleChangexqzt","handleChangeXqlx","change-on-select","groupTag","handleChangeGczd","center","cpjc","flex-column","spacebetween","href","target","tcsj","tcrxm","xqbh","effect","dqlcmc","lsdw","dataList","stepDatas","text-center","handleSendDemand","xqShow","handleCommitDemand"],"mappings":"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","file":"static/js/13.ec5254d4ab9722b56325.js","sourcesContent":["module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/get-iterator.js\n// module id = BO1k\n// module chunks = 11 13","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/get-iterator.js\n// module id = fxRn\n// module chunks = 11 13","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.get-iterator.js\n// module id = g8Ux\n// module chunks = 11 13","<template>\r\n <div>\r\n    <el-tree\r\n        class=\"filter-tree\"\r\n        :data=\"options\"\r\n        :props=\"defaultProps\"\r\n        node-key=\"id\"\r\n        :default-expanded-keys=\"['DSROOT']\"\r\n        @node-click=\"handleNodeClick\"\r\n        ref=\"tree2\">\r\n   </el-tree>\r\n </div>\r\n</template>\r\n\r\n<script>\r\n export default {\r\n   data () {\r\n     return {\r\n         defaultProps:{\r\n            value:'id',\r\n            label:'title'\r\n         },\r\n         options:[]\r\n     }\r\n   },\r\n   mounted(){\r\n       this.demandProductTree();\r\n   },\r\n   methods:{\r\n       handleNodeClick(data) {\r\n         this.$emit('handleNodeClick',data);\r\n       },\r\n       demandProductTree(){\r\n           this.$get(this.API.demandProductTree, {}).then(res => {\r\n            if (res.state == 'success') {\r\n              this.options = res.data;\r\n            } else {\r\n\r\n            }\r\n          })\r\n       }\r\n   },\r\n   components: {}\r\n }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n \r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/BusinessPage/demand/cpTree.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-tree',{ref:\"tree2\",staticClass:\"filter-tree\",attrs:{\"data\":_vm.options,\"props\":_vm.defaultProps,\"node-key\":\"id\",\"default-expanded-keys\":['DSROOT']},on:{\"node-click\":_vm.handleNodeClick}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-72bbfa06\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/BusinessPage/demand/cpTree.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-72bbfa06\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./cpTree.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cpTree.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cpTree.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-72bbfa06\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./cpTree.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-72bbfa06\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/BusinessPage/demand/cpTree.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"dialog-container\">\r\n    <el-dialog title=\"我要提需求\" width=\"1000px\" top=\"30px\" :visible.sync=\"visible\" :close-on-click-modal=\"false\" @close=\"$emit('update:show', false)\"\r\n      :show=\"show\">\r\n      <div class=\"demand\">\r\n        <el-form style=\"width:950px;margin:0 auto\" class=\"demo-ruleForm\" :model=\"demandData\" :inline=\"true\" size=\"mini\"\r\n          label-width=\"135px\">\r\n          <el-form-item label=\"项目名称\" required>\r\n            <el-input size=\"mini\" type=\"text\" :style=\"{ width: 800 + 'px' }\" v-model=\"demandData.xmmc\" readonly\r\n              placeholder=\"请选择项目\">\r\n              <el-button :disabled=\"Type == 'disabled'\" slot=\"append\" icon=\"el-icon-circle-plus-outline\" style=\"width:30px;padding:0 12px;\"\r\n                @click=\"adddemandtItem\"></el-button>\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"项目状态\" required>\r\n            <el-input size=\"mini\" type=\"text\" style=\"width:325px\" v-model=\"xmzt\" readonly></el-input>\r\n          </el-form-item>\r\n          <!--\r\n              :disabled=\"Type == 'editDisabled'\"\r\n           -->\r\n          <el-form-item label=\"需求分类\" required>\r\n            <el-select v-model=\"demandData.xqfl\" size=\"mini\" placeholder=\"请选择需求分类\" style=\"width:325px\">\r\n              <el-option v-for=\"(item, index) in xqflList\" :key=\"index\" :label=\"item.mc\" :value=\"item.label\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"提出老师\" required>\r\n            <el-select v-model=\"teacherData\" size=\"mini\" multiple placeholder=\"请选择提出老师\" style=\"width:800px\">\r\n              <el-option v-for=\"(tcls, index) in tclsList\" :key=\"index\" :label=\"tcls.username\" :value=\"tcls.userid+','+tcls.username\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"是否线上\" required>\r\n            <el-select v-model=\"demandData.sfsx\" size=\"mini\" placeholder=\"请选择是否线上\" style=\"width:325px\">\r\n              <el-option v-for=\"(item, index) in sfxsList\" :key=\"index\" :label=\"item.mc\" :value=\"item.label\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"模块\" required>\r\n            <el-cascader size=\"mini\" style=\"width:325px\" v-model=\"val\" :props=\"defaultProps\" :options=\"options\" @change=\"handleItemChange\"\r\n              :show-all-levels=\"false\"></el-cascader>\r\n            <!-- <div>\r\n              <el-input\r\n                size=\"mini\"\r\n                style=\"width:325px\"\r\n                v-model=\"demandData.cpbjmc\"\r\n                readonly\r\n                ref=\"inputcp\"\r\n                placeholder=\"请选择模块\"\r\n                @focus=\"handleShowCp\"\r\n\r\n              ></el-input>\r\n              <div class=\"cptree\" v-show=\"cpTreeShow\">\r\n                <cpTree @handleNodeClick=\"handleNodeClick\"></cpTree>\r\n              </div>\r\n            </div> -->\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"CROWD业务线\" required>\r\n            <el-select v-model=\"demandData.crowdywxbh\" size=\"mini\" placeholder=\"请选择CROWD业务线\" style=\"width:325px\"\r\n              @change=\"handleChangeCrowdYwx\">\r\n              <el-option v-for=\"(ywx, index) in crowdywxList\" :key=\"index\" :label=\"ywx.lbmc\" :value=\"ywx.lbdm\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"CROWD产品\" required>\r\n            <el-select v-model=\"demandData.crowdcpbh\" size=\"mini\" placeholder=\"请选择CROWD产品\" style=\"width:325px\" @change=\"handleChangeCrowdCp\">\r\n              <el-option v-for=\"(cp, index) in crowdcpList\" :key=\"index\" :label=\"cp.lbmc\" :value=\"cp.lbdm\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"期望设计完成日期\" required>\r\n            <el-date-picker :picker-options=\"pickerBeginDateBefore\" :clearable=\"false\" size=\"mini\" v-model=\"demandData.qwsjwcrq\"\r\n              type=\"date\" placeholder=\"选择日期\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\" style=\"width:325px;\" @change=\"handleChangeQwwcrq\"></el-date-picker>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"期望开发交付日期\" required>\r\n            <el-date-picker :picker-options=\"pickerBeginDateBefore\" :clearable=\"false\" size=\"mini\" v-model=\"demandData.qwkfjfrq\"\r\n              type=\"date\" placeholder=\"选择日期\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\" style=\"width:325px;\" @change=\"handleChangeQwjfrq\"></el-date-picker>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"关联需求\" required v-if=\"demandData.xqfl != 1\">\r\n            <el-input type=\"text\" style=\"width: 800px\" v-model=\"glxqMc\" readonly placeholder=\"请选择需求\">\r\n              <!-- 发布需求禁用 -->\r\n              <el-button :disabled=\"Type == 'disabled'||Type == 'editDisabled' || !demandData.xmbh\" slot=\"append\" icon=\"el-icon-circle-plus-outline\"\r\n                style=\"width:30px;padding:0 12px;\" @click=\"handleRelaseDemand\"></el-button>\r\n            </el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"需求标题\" required>\r\n            <el-input size=\"mini\" v-model=\"demandData.bt\" type=\"text\" placeholder=\"标题\" style=\"width:800px;\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"需求附件\" required>\r\n            <uploadFile :Type=\"'demand'\" :istb=\"isClearFile\" @handleUploadFile=\"handleUploadFile\"></uploadFile>\r\n            <p class=\"file\" v-if=\"!!fwznfjMc && Type.includes('edit')\">\r\n              {{fwznfjMc}}\r\n              <i class=\"el-icon-close\" @click=\"handleRemoveFwznfj\"></i>\r\n            </p>\r\n          </el-form-item>\r\n        </el-form>\r\n        <div class=\"demand-textarea\">\r\n          <p>需求描述</p>\r\n          <div id=\"summernoteTT\"></div>\r\n        </div>\r\n\r\n        <div style=\"text-align:right;width:100%;margin:10px 0;padding:0 20px;\">\r\n          <el-button size=\"small\" type=\"primary\" @click=\"handleCommit\">确认提交</el-button>\r\n          <el-button size=\"small\" @click=\"visible = false\">取消</el-button>\r\n        </div>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <el-dialog title=\"选择项目\" :visible.sync=\"dialogdemandVisible\" :close-on-click-modal=\"false\" width=\"800px\" top=\"30px\"\r\n      append-to-body>\r\n      <div style=\"padding:10px;\">\r\n        <itemChoose @handleEdit=\"handleEdit\"></itemChoose>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <xqlistDilog :show.sync=\"demandListVisible\" :xmbh=\"demandData.xmbh\" @handleChooseDemand=\"handleChooseDemand\"></xqlistDilog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import axios from \"axios\";\r\n  import itemChoose from \"@/components/BusinessPage/itemChoose.vue\";\r\n  import uploadFile from \"@/components/BusinessPage/upload.vue\";\r\n  import {\r\n    getProjects\r\n  } from \"@/api/xmkb.js\";\r\n  import xqlistDilog from \"@/views/BusinessPage/demand/xqlist-dialog.vue\";\r\n  import cpTree from \"@/views/BusinessPage/demand/cpTree.vue\";\r\n\r\n  import {\r\n    formatTime,\r\n    getMenu,\r\n    getSession,\r\n    getMyDate,\r\n    GetDateStr\r\n  } from \"@/utils/util.js\";\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        isInnerItem: false, // 是否为内部项目\r\n        dialogdemandVisible: false,\r\n        demandListVisible: false, //需求列表\r\n        visible: this.show,\r\n        isClearFile: false, //清除附件\r\n        defaultProps: {\r\n          value: \"id\",\r\n          label: \"title\"\r\n        },\r\n        options: [], //产品树选项\r\n        xmmc: \"\",\r\n        xmbh: \"\",\r\n        xmzt: \"\",\r\n        xqflList: [],\r\n        xmcpList: [], //项目产品\r\n        tclsList: [], //提出老师\r\n        sfxsList: [{\r\n            mc: \"是\",\r\n            label: \"1\"\r\n          },\r\n          {\r\n            mc: \"否\",\r\n            label: \"0\"\r\n          }\r\n        ], //是否线上\r\n        crowdywxList: [], //crowd业务线\r\n        crowdcpList: [], //crowd产品\r\n        cpData: [], //当前产品树 选择产品\r\n        val: [],\r\n        teacherData: [],\r\n        fwznfjMc: \"\", //编辑附件名称\r\n        glxqMc: \"\", //关联需求名称\r\n        demandData: {\r\n          xmbh: \"\",\r\n          xmmc: \"\",\r\n          xqfl: \"\",\r\n          teacherData: \"\",\r\n          sfsx: \"0\",\r\n          cpbjbh: \"\",\r\n          cpbjmc: \"\",\r\n          crowdywxbh: \"\", //crowd 业务线编号\r\n          crowdywxmc: \"\", //crowd 业务线名称\r\n          crowdcpbh: \"\", //crowd 产品编号\r\n          crowdcpmc: \"\", //crowd 产品名称\r\n          qwsjwcrq: \"\",\r\n          qwkfjfrq: \"\",\r\n          glxqWid: \"\",\r\n          bt: \"\",\r\n          xqfjwid: \"\",\r\n          xqfjmc: \"\"\r\n        },\r\n        pickerBeginDateBefore: {\r\n          disabledDate(time) {\r\n            let curDate = new Date().getTime();\r\n            return time.getTime() < Date.now() - 8.64e7;\r\n          }\r\n        }\r\n      };\r\n    },\r\n    props: {\r\n      show: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      demandInfo: {\r\n        type: Object,\r\n        default: () => {\r\n          return {};\r\n        }\r\n      },\r\n      Type: {\r\n        type: String,\r\n        default: \"\"\r\n      },\r\n      btnbh: {\r\n        type: String,\r\n        default: \"\"\r\n      }\r\n    },\r\n    components: {\r\n      itemChoose,\r\n      uploadFile,\r\n      xqlistDilog,\r\n      cpTree\r\n    },\r\n    methods: {\r\n      handleChangeQwwcrq() {\r\n        if (!!this.demandData.qwkfjfrq && (new Date(this.demandData.qwsjwcrq) > new Date(this.demandData.qwkfjfrq))) {\r\n          this.$alert('期望设计完成日期必须小于期望开发交付日期', '提示', {\r\n            confirmButtonText: '确定',\r\n            type: 'warning',\r\n            callback: action => {}\r\n          });\r\n          this.demandData.qwsjwcrq = '';\r\n        }\r\n      },\r\n      handleChangeQwjfrq() {\r\n        if (!!this.demandData.qwsjwcrq && (new Date(this.demandData.qwsjwcrq) > new Date(this.demandData.qwkfjfrq))) {\r\n          this.$alert('期望设计完成日期必须小于期望开发交付日期', '提示', {\r\n            confirmButtonText: '确定',\r\n            type: 'warning',\r\n            callback: action => {}\r\n          });\r\n          this.demandData.qwkfjfrq = '';\r\n        }\r\n      },\r\n      // 编辑附件\r\n      handleRemoveFwznfj() {\r\n        this.fwznfjMc = \"\";\r\n        this.demandData.xqfjwid = \"\";\r\n        this.demandData.xqfjmc = \"\";\r\n      },\r\n      // 选择产品\r\n      handleNodeClick(data) {\r\n        if (!data.children && !!data.isOptional) {\r\n          this.demandData.cpbjbh = data.id;\r\n          this.demandData.cpbjmc = data.title;\r\n          this.cpTreeShow = false;\r\n        }\r\n      },\r\n      // 选择产品\r\n      handleItemChange() {\r\n        this.cpData = this.getCascaderObj(this.val, this.options);\r\n\r\n        if (!this.cpData[this.cpData.length - 1].isOptional) {\r\n          this.$alert('模块选择有误，请选择到产品模块~', '提示', {\r\n            confirmButtonText: '确定',\r\n            type: 'warning',\r\n            callback: action => {}\r\n          });\r\n          this.cpData = [];\r\n        }\r\n      },\r\n\r\n      getCascaderObj(val, opt) {\r\n        return val.map(function(value, index, array) {\r\n          for (var itm of opt) {\r\n            if (itm.id == value) {\r\n              opt = itm.children;\r\n              return itm;\r\n            }\r\n          }\r\n          return null;\r\n        });\r\n      },\r\n      // 上传附件\r\n      handleUploadFile(data) {\r\n        this.fwznfjMc = \"\";\r\n        if (!!data.length) {\r\n          this.demandData.xqfjwid = data[0].split(\"|\")[0];\r\n          this.demandData.xqfjmc = data[0].split(\"|\")[1];\r\n        } else {\r\n          this.demandData.xqfjwid = \"\";\r\n          this.demandData.xqfjmc = \"\";\r\n        }\r\n      },\r\n\r\n      // 选择crowd业务线\r\n      handleChangeCrowdYwx(val) {\r\n        this.crowdywxList.forEach(ele => {\r\n          if (ele.lbdm == val) {\r\n            this.demandData.crowdywxmc = ele.lbmc;\r\n          }\r\n        });\r\n        // 获取产品\r\n        this.getCrowdCp(val);\r\n      },\r\n\r\n      // 选择crowd产品\r\n      handleChangeCrowdCp(val) {\r\n        this.crowdcpList.forEach(ele => {\r\n          if (ele.lbdm == val) {\r\n            this.demandData.crowdcpmc = ele.lbmc;\r\n          }\r\n        });\r\n      },\r\n\r\n      // 添加项目\r\n      handleEdit(data) {\r\n        this.xmzt = data.xmzt;\r\n        this.demandData.xmbh = data.xmbh;\r\n        this.demandData.xmmc = data.xmmc;\r\n        this.getUsers();\r\n        this.dialogdemandVisible = false;\r\n      },\r\n      // 选择关联需求\r\n      handleChooseDemand(data) {\r\n        this.glxqMc = \"[\" + data.xqbh + \"]\" + data.bt;\r\n        this.demandData.glxqWid = data.wid;\r\n      },\r\n\r\n      //选择项目\r\n      adddemandtItem() {\r\n        this.dialogdemandVisible = true;\r\n      },\r\n      // 选择需求\r\n      handleRelaseDemand() {\r\n        this.demandListVisible = true;\r\n      },\r\n\r\n      //提交需求\r\n      handleCommit() {\r\n        if (this.demandData.xqfl == 1) {\r\n          this.demandData.glxqWid = \"\";\r\n        }\r\n        if (!!this.demandInfo.wid && this.Type.includes('edit')) {\r\n          this.demandData.wid = this.demandInfo.wid;\r\n        }\r\n        if (!!this.btnbh) {\r\n          this.demandData.btnbh = this.btnbh;\r\n        }\r\n\r\n        this.demandData.cpbjbh = !this.cpData.length ? '' : this.cpData[this.cpData.length - 1].id;\r\n        this.demandData.cpbjmc = !this.cpData.length ? '' : this.cpData[this.cpData.length - 1].title;\r\n        this.demandData.teacherData = this.teacherData.join(\"|\");\r\n        this.demandData.nr = $(\"#summernoteTT\").summernote(\"code\");\r\n\r\n        if (!this.valiDate()) return;\r\n        this.$post(this.API.submitDemand, this.demandData).then(res => {\r\n          if (res.state == \"success\") {\r\n            this.$message({\r\n              message: \"提交成功\",\r\n              type: \"success\"\r\n            });\r\n            $(\"#summernoteTT\").summernote(\"code\", \"\");\r\n            this.isClearFile = !this.isClearFile;\r\n            this.visible = false;\r\n            this.$emit(\"handleCommitDemand\", this.Type);\r\n          } else {\r\n            this.$message({\r\n              message: res.msg,\r\n              type: \"warning\"\r\n            });\r\n          }\r\n        });\r\n      },\r\n\r\n      // 获取项目对应的产品\r\n      queryDemandProductTree(dosuccess) {\r\n        this.xmcpList = [];\r\n        this.$get(this.API.demandProductTree, {}).then(res => {\r\n            if (res.state == \"success\") {\r\n              this.options = res.data;\r\n              dosuccess();\r\n            } else {}\r\n          }),\r\n          // 获取业务线\r\n          this.$get(this.API.getCrowdYwx, {}).then(res => {\r\n            if (res.state == \"success\") {\r\n              this.crowdywxList = res.data;\r\n            }\r\n          });\r\n      },\r\n\r\n      // 获取产品\r\n      getCrowdCp(ywxbm) {\r\n        this.$get(this.API.getCrowdCp, {\r\n          ywxbm: ywxbm\r\n        }).then(res => {\r\n          if (res.state == \"success\") {\r\n            this.crowdcpList = res.data;\r\n          }\r\n        });\r\n      },\r\n\r\n      // 获取学校老师\r\n      getUsers() {\r\n        this.$get(this.API.getUsers, {\r\n          curPage: 1,\r\n          pageSize: 999,\r\n          xmbh: this.demandData.xmbh,\r\n          unitType: 1\r\n        }).then(res => {\r\n          if (res.state == \"success\") {\r\n            this.tclsList = res.data.rows;\r\n          } else {}\r\n        });\r\n      },\r\n\r\n      // 获取项目\r\n      getProjects() {\r\n        getProjects({\r\n          curPage: 1,\r\n          pageSize: 2,\r\n          keyword: \"\",\r\n          xmlb: \"\",\r\n          sfgx: \"\",\r\n          xmzt: \"1,2,3\",\r\n          pl: \"\"\r\n        }).then(({\r\n          data\r\n        }) => {\r\n          if (data.state == \"success\") {\r\n            if (data.data.records == 1 && data.data.rows[0].xmzt != \"过保\") {\r\n              this.xmzt = data.data.rows[0].xmzt;\r\n              this.xmmc = data.data.rows[0].xmmc;\r\n              this.xmbh = data.data.rows[0].xmbh;\r\n            }\r\n          }\r\n        });\r\n      },\r\n\r\n      valiDate() {\r\n        if (!this.demandData.xmbh) {\r\n          this.$message({\r\n            message: \"请选择项目编号\",\r\n            type: \"warning\"\r\n          });\r\n          return false;\r\n        }\r\n        if (!this.demandData.xqfl) {\r\n          this.$message({\r\n            message: \"请选择需求分类\",\r\n            type: \"warning\"\r\n          });\r\n          return false;\r\n        }\r\n        if (!this.demandData.teacherData) {\r\n          this.$message({\r\n            message: \"请选择提出老师\",\r\n            type: \"warning\"\r\n          });\r\n          return false;\r\n        }\r\n        if (!this.demandData.cpbjbh) {\r\n          this.$message({\r\n            message: \"请选择产品或产品选择有误（请注意需选择到模块级~）\",\r\n            type: \"warning\"\r\n          });\r\n          return false;\r\n        }\r\n        if (!this.demandData.crowdywxbh) {\r\n          this.$message({\r\n            message: \"请选择CROWD业务线\",\r\n            type: \"warning\"\r\n          });\r\n          return false;\r\n        }\r\n        if (!this.demandData.crowdcpbh) {\r\n          this.$message({\r\n            message: \"请选择CROWD产品\",\r\n            type: \"warning\"\r\n          });\r\n          return false;\r\n        }\r\n        if (!this.demandData.qwsjwcrq) {\r\n          this.$message({\r\n            message: \"请选择期望设计完成日期\",\r\n            type: \"warning\"\r\n          });\r\n          return false;\r\n        }\r\n        if (!this.demandData.qwkfjfrq) {\r\n          this.$message({\r\n            message: \"请选择期望开发交付日期\",\r\n            type: \"warning\"\r\n          });\r\n          return false;\r\n        }\r\n        if (this.demandData.xqfl != 1 && !this.demandData.glxqWid) {\r\n          this.$message({\r\n            message: \"请选择关联的需求\",\r\n            type: \"warning\"\r\n          });\r\n          return false;\r\n        }\r\n        if (!this.demandData.xqfjwid) {\r\n          this.$message({\r\n            message: \"请上传附件\",\r\n            type: \"warning\"\r\n          });\r\n          return false;\r\n        }\r\n        if (!this.demandData.bt) {\r\n          this.$message({\r\n            message: \"请填写需求标题\",\r\n            type: \"warning\"\r\n          });\r\n          return false;\r\n        }\r\n        if (!this.demandData.nr || this.demandData.nr == \"<p><br></p>\") {\r\n          this.$message({\r\n            message: \"请填写需求内容\",\r\n            type: \"warning\"\r\n          });\r\n          return false;\r\n        }\r\n        return true;\r\n      }\r\n    },\r\n    watch: {\r\n      show() {\r\n        this.visible = this.show;\r\n        if (this.show) {\r\n          this.$nextTick(() => {\r\n            $(\"#summernoteTT\").summernote({\r\n              dialogsInBody: true,\r\n              placeholder: \"请输入内容\",\r\n              focus: true,\r\n              height: 200,\r\n              width: 100 + \"%\",\r\n              minHeight: 295,\r\n              lang: \"zh-CN\",\r\n              toolbar: [\r\n                [\"style\", [\"bold\", \"italic\", \"underline\", \"clear\"]],\r\n                [\"font\", [\"strikethrough\", \"superscript\", \"subscript\"]],\r\n                [\"fontsize\", [\"fontsize\"]],\r\n                [\"color\", [\"color\"]],\r\n                [\"para\", [\"ul\", \"ol\", \"paragraph\"]],\r\n                [\"height\", [\"height\"]],\r\n                [\"picture\"],\r\n                [\"link\", [\"linkDialogShow\", \"unlink\"]]\r\n              ]\r\n            });\r\n            if (this.Type == \"edit\" || this.Type == \"editDisabled\") {\r\n              $(\"#summernoteTT\").summernote(\"code\", this.demandInfo.nr);\r\n            }\r\n          });\r\n\r\n          //获取需求分类\r\n          if (!getSession(\"DemandType\")) {\r\n            getMenu(\"DemandType\", this.xqflList); //获取需求分类\r\n          } else {\r\n            this.xqflList = getSession(\"DemandType\");\r\n          }\r\n          this.queryDemandProductTree(() => {\r\n            if (this.Type == \"edit\" || this.Type == \"editDisabled\") {\r\n              this.val = this.demandInfo.syfjcpbh.split(',').reverse();\r\n              this.cpData = this.getCascaderObj(this.val, this.options);\r\n            }\r\n          });\r\n          this.teacherData = [];\r\n          // 编辑\r\n          if (this.Type == \"edit\" || this.Type == \"editDisabled\") {\r\n            $(\"#summernoteTT\").summernote(\"code\", this.demandInfo.nr);\r\n            this.xmzt = this.demandInfo.xmzt;\r\n            this.demandData.xmbh = this.demandInfo.xmbh;\r\n            this.demandData.xmmc = this.demandInfo.xmmc;\r\n            this.demandData.xqfl = this.Type == \"editDisabled\" ? '3' : this.demandInfo.xqfl;\r\n            this.demandData.sfsx = this.demandInfo.sfsx;\r\n            this.demandData.cpbjbh = this.demandInfo.cpbjbh;\r\n            this.demandData.cpbjmc = this.demandInfo.cpbjmc;\r\n            this.demandData.crowdywxbh = this.demandInfo.crowdywxbh;\r\n            this.demandData.crowdywxmc = this.demandInfo.crowdywxmc;\r\n            this.getCrowdCp(this.demandInfo.crowdywxbh);\r\n            this.demandData.crowdcpbh = this.demandInfo.crowdcpbh;\r\n            this.demandData.crowdcpmc = this.demandInfo.crowdcpmc;\r\n            this.demandData.qwsjwcrq = this.demandInfo.qwsjwcrq;\r\n            this.demandData.qwkfjfrq = this.demandInfo.qwkfjfrq;\r\n            this.demandData.bt = this.demandInfo.bt;\r\n            this.demandData.xqfjwid = this.demandInfo.xqfjwid;\r\n            this.demandData.xqfjmc = this.demandInfo.xqfjmc;\r\n            this.fwznfjMc = this.demandInfo.xqfjmc;\r\n            this.glxqMc = !this.demandInfo.glxqbh ? '' : (\"[\" + this.demandInfo.glxqbh + \"]\" + this.demandInfo.glxqbt); //关联需求名称\r\n            this.demandData.glxqWid = this.demandInfo.glxqwid; //关联需求wid\r\n            this.getUsers();\r\n            let tclsbh = this.demandInfo.tclsbh.split(',');\r\n            let tclsxm = this.demandInfo.tcls.split(',');\r\n\r\n            tclsbh.forEach((ele, i, arr) => {\r\n              this.teacherData.push(tclsbh[i] + ',' + tclsxm[i])\r\n            })\r\n\r\n          }\r\n          // 发布需求\r\n          if (this.Type == \"disabled\") {\r\n            this.demandData.xqfl = '3';\r\n            this.xmzt = this.demandInfo.xmzt;\r\n            this.demandData.xmbh = this.demandInfo.xmbh;\r\n            this.demandData.xmmc = this.demandInfo.xmmc;\r\n            this.glxqMc = \"[\" + this.demandInfo.xqbh + \"]\" + this.demandInfo.bt; //关联需求名称\r\n            this.demandData.glxqWid = this.demandInfo.wid; //关联需求wid\r\n            this.getUsers();\r\n          }\r\n\r\n        } else {\r\n          // $('#summernoteTT').summernote('destroy');\r\n          this.xmzt = this.glxqMc = \"\";\r\n          this.demandData.cpbjbh = \"\";\r\n          this.demandData.teacherData = \"\";\r\n          this.demandData.xmbh = \"\";\r\n          this.demandData.xmmc = \"\";\r\n          this.demandData.xqfl = \"\";\r\n          this.demandData.teacherData = \"\";\r\n          this.demandData.sfsx = \"0\";\r\n          this.demandData.cpbjbh = \"\";\r\n          this.demandData.cpbjmc = \"\";\r\n          this.demandData.crowdywxbh = \"\"; //crowd 业务线编号\r\n          this.demandData.crowdywxmc = \"\"; //crowd 业务线名称\r\n          this.demandData.crowdcpbh = \"\"; //crowd 产品编号\r\n          this.demandData.crowdcpmc = \"\"; //crowd 产品名称\r\n          this.demandData.qwsjwcrq = \"\";\r\n          this.demandData.qwkfjfrq = \"\";\r\n          this.demandData.glxqWid = \"\";\r\n          this.demandData.bt = \"\";\r\n          this.demandData.xqfjwid = \"\";\r\n          this.demandData.xqfjmc = \"\";\r\n        }\r\n      }\r\n    }\r\n  };\r\n</script>\r\n<style scoped lang=\"scss\">\r\n  .demand {\r\n    padding: 10px 0;\r\n  }\r\n\r\n  div.el-form-item {\r\n    margin-bottom: 8px !important;\r\n  }\r\n\r\n  .demand-textarea {\r\n    width: 950px;\r\n    margin: 0 auto;\r\n  }\r\n\r\n  .demand-textarea>p {\r\n    width: 125px;\r\n    text-align: right;\r\n    padding-right: 12px;\r\n    font-weight: 700;\r\n  }\r\n\r\n  .demand-textarea>p::before {\r\n    content: \"*\";\r\n    color: #f56c6c;\r\n    margin-right: 4px;\r\n  }\r\n\r\n  .file {\r\n    padding: 2px 6px;\r\n    border-radius: 3px;\r\n    margin-top: 4px !important;\r\n\r\n    &:hover {\r\n      background: rgba(216, 214, 214, 0.5);\r\n    }\r\n\r\n    i {\r\n      width: 20px;\r\n      height: 20px;\r\n      border-radius: 50%;\r\n      text-align: center;\r\n      line-height: 20px;\r\n\r\n      &:hover {\r\n        color: #f00;\r\n        cursor: pointer;\r\n        background: rgba(255, 0, 0, 0.25);\r\n      }\r\n    }\r\n  }\r\n\r\n  .cptree {\r\n    position: absolute;\r\n    top: 0;\r\n    background: #fff;\r\n    box-shadow: 0 2px 12px 0 rgba(0, 0, 0, .1);\r\n    border: 1px solid #E4E7ED;\r\n    border-radius: 4px;\r\n    top: 40px;\r\n    z-index: 10200;\r\n    width: 325px;\r\n    max-height: 400px;\r\n    overflow-y: auto;\r\n    overflow-x: auto;\r\n  }\r\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/BusinessPage/demand/xq-dialog.vue","<template>\r\n  <div>\r\n    <el-dialog title=\"选择需求\" width=\"1000px\" top=\"30px\" :visible.sync=\"visible\" :append-to-body=\"true\"\r\n      :close-on-click-modal=\"false\" @close=\"$emit('update:show', false)\" :show=\"show\">\r\n      <div class=\"dialog-xqqr\">\r\n        <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n          <el-table-column prop=\"bt\" label=\"标题\" min-width=\"180\" show-overflow-tooltip>\r\n            <template slot-scope=\"scope\">\r\n              <el-button type=\"text\" size=\"mini\" @click=\"handleChooseDemand(scope.row)\">{{scope.row.bt}}</el-button>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"xqbh\" label=\"需求编号\" width=\"120\" show-overflow-tooltip>\r\n          </el-table-column>\r\n          <el-table-column prop=\"tcrxm\" label=\"发布人\" width=\"100\" show-overflow-tooltip>\r\n          </el-table-column>\r\n          <el-table-column prop=\"tcsj\" label=\"发布时间\"  width=\"120\" show-overflow-tooltip>\r\n          </el-table-column>\r\n          <el-table-column prop=\"tcls\" label=\"提出人\" width=\"120\" show-overflow-tooltip>\r\n          </el-table-column>\r\n          <el-table-column prop=\"cpmc\" label=\"产品\" width=\"150\" >\r\n          </el-table-column>\r\n        </el-table>\r\n        <el-pagination v-if=\"!!tableData.length\" @current-change=\"handleCurrentChange\" :current-page.sync=\"currentPage\"\r\n          :page-size=\"pageSize\" layout=\"total, prev, pager, next\" :total=\"records\"></el-pagination>\r\n\r\n        <section class=\"pj-btn-group\">\r\n          <el-button size=\"small\" @click=\"visible = false\">取消</el-button>\r\n        </section>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        visible: this.show,\r\n        tableData: [],\r\n        currentPage: 1,\r\n        pageSize: 15,\r\n        records: 0\r\n      };\r\n    },\r\n    methods: {\r\n      handleChooseDemand(data) {\r\n        this.$emit('handleChooseDemand', data);\r\n        this.visible = false;\r\n      },\r\n      handleCurrentChange(data){\r\n        this.currentPage = data;\r\n        this.queryPageDemands();\r\n      },\r\n      queryPageDemands() {\r\n        this.$get(this.API.queryPageDemands, {\r\n          curPage: this.currentPage,\r\n          pageSize: this.pageSize,\r\n          xqxglx: '',\r\n          xqlx: '',\r\n          qygc: '',\r\n          cpbh: '',\r\n          xmbh:this.xmbh,\r\n          keyword: ''\r\n        }).then(res => {\r\n          if (res.state == 'success') {\r\n            if (!!res.data.rows) {\r\n              this.tableData = res.data.rows\r\n            } else {\r\n              this.tableData = [];\r\n            }\r\n            this.records = res.data.records;\r\n          } else {\r\n            this.$message({\r\n              message: res.msg,\r\n              type: 'error'\r\n            });\r\n          }\r\n        })\r\n      }\r\n    },\r\n    props: {\r\n      show: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      xmbh:{\r\n        type: String,\r\n        default: ''\r\n      }\r\n    },\r\n    watch: {\r\n      show(n, o) {\r\n        this.visible = this.show;\r\n        if (!!n) {\r\n          this.queryPageDemands();\r\n        } else {\r\n\r\n        }\r\n      }\r\n    },\r\n    components: {}\r\n  };\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .dialog-xqqr {\r\n    padding: 8px 10px;\r\n  }\r\n\r\n  .dialog-xqqr section:nth-of-type(2) {\r\n    margin: 10px 0;\r\n  }\r\n\r\n  .pj-title {\r\n    font-weight: 700;\r\n    width: 14%;\r\n  }\r\n\r\n  .pj-content {\r\n    width: 86%;\r\n  }\r\n\r\n  .pj-btn-group {\r\n    text-align: right;\r\n    padding: 10px 0;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/BusinessPage/demand/xqlist-dialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"title\":\"选择需求\",\"width\":\"1000px\",\"top\":\"30px\",\"visible\":_vm.visible,\"append-to-body\":true,\"close-on-click-modal\":false,\"show\":_vm.show},on:{\"update:visible\":function($event){_vm.visible=$event},\"close\":function($event){_vm.$emit('update:show', false)}}},[_c('div',{staticClass:\"dialog-xqqr\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"bt\",\"label\":\"标题\",\"min-width\":\"180\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.handleChooseDemand(scope.row)}}},[_vm._v(_vm._s(scope.row.bt))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"xqbh\",\"label\":\"需求编号\",\"width\":\"120\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"tcrxm\",\"label\":\"发布人\",\"width\":\"100\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"tcsj\",\"label\":\"发布时间\",\"width\":\"120\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"tcls\",\"label\":\"提出人\",\"width\":\"120\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"cpmc\",\"label\":\"产品\",\"width\":\"150\"}})],1),_vm._v(\" \"),(!!_vm.tableData.length)?_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"layout\":\"total, prev, pager, next\",\"total\":_vm.records},on:{\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event}}}):_vm._e(),_vm._v(\" \"),_c('section',{staticClass:\"pj-btn-group\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"取消\")])],1)],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ada89a74\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/BusinessPage/demand/xqlist-dialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ada89a74\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./xqlist-dialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./xqlist-dialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./xqlist-dialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ada89a74\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./xqlist-dialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ada89a74\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/BusinessPage/demand/xqlist-dialog.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div>\r\n        <ul v-if=\"list.length\">\r\n          <!-- :style=\"{'counter-reset':type=='process'?'step':'step ' + (list.length+1)}\" -->\r\n          <!-- 'active-1':process.flag == 1 -->\r\n            <li v-for=\"(process,index) in list\" :key=\"index\"\r\n            :class=\"{'crowdBefore':!!process.index,'active':process.lx == 0,\n            'active-1':process.lx != 0 && process.lczt=='0',\n            'active-2':process.lx != 0 && process.lczt=='1',\n            'active-3':process.lx != 0 && process.lczt=='2'\n            }\"\r\n           >\r\n                <div >{{process.mc}}</div>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n      return{\r\n          Length:0\r\n      }\r\n  },\r\n  props: {\r\n    type:{\r\n      type:String,\r\n      default:'process'\r\n    },\n    list: {\r\n      type: Array,\r\n      default: function() {\r\n        return [{mc:'需求设计',type:1,index:1},{mc:'发布需求',type:2},{mc:'分配开发',type:2},{mc:'需求确认',type:1,index:2}];\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.list.forEach(ele=>{\r\n      if(!!ele.index){\r\n        this.Length+=1;\r\n      }\r\n    })\r\n  },\r\n  components: {  }\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n  ul {\r\n    position: relative;\r\n    margin-bottom: 30px;\r\n    counter-reset: step;\r\n    li {\r\n      list-style-type: none;\r\n      font-size: 0.9rem;\r\n      position: relative;\r\n      padding: 0 0 20px 30px;\r\n      z-index: 2;\r\n      color: #999;\r\n      &::before {\r\n        content:\"\";\r\n        display: block;\r\n        position: absolute;\r\n        left: 3.8px;\r\n        top: 0;\r\n        // content: counter(step); /*设定计数器内容*/\r\n        // counter-increment: step; /*计数器值递增*/\r\n        width: 12px;\r\n        height: 12px;\r\n        background-color: #999;\r\n        line-height: 12px;\r\n        border-radius: 12px;\r\n        font-size: 12px;\r\n        color: #fff;\r\n        text-align: center;\r\n        margin: 0 auto 8px auto;\r\n        z-index: 3;\r\n      }\r\n      &::after {\r\n        content: \"\";\r\n        width: 1px;\r\n        height: 100%;\r\n        background-color: #999;\r\n        position: absolute;\r\n        left: 9px;\r\n        top: 12px;\r\n        z-index: 2;\r\n      }\r\n      .crowd{\r\n           span:nth-child(1){\r\n             color: #333;\r\n           }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  li.active{\r\n      color: #169BD5;\n      font-weight: 700;\n      font-size: 14px;\r\n  }\r\n  ul li.active::before{\r\n    width: 20px;\r\n    height: 20px;\r\n    left: 0px;\r\n    top: -2px;\r\n    line-height: 20px;\r\n    background-color: #169BD5;\r\n  }\r\n  ul li.active-1::before {\r\n    content: '';\r\n    counter-increment:0;\r\n  }\n\n  ul li.active-2{\n    color: #f00;\n  }\n  ul li.active-2::before{\n    color: #f00;\n    font-weight: 700;\n    background-color: #f00;\n  }\n\n  ul li.active-3{\n    color: #67c23a;\n    font-weight: 700;\n  }\n  ul li.active-3::before{\n    color: #67c23a;\n    background-color: #67c23a;\n  }\n\r\n\r\n\r\n  // li.active{\r\n  //     color: #4b0;\r\n  // }\r\n  // ul li.active::before,\r\n  // ul li.active::after {\r\n  //   background-color: #4b0;\r\n  // }\r\n\r\n  // li.active-1{\r\n  //   color: rgb(226, 28, 28);\r\n  // }\r\n  // ul li.active-1::before,\r\n  // ul li.active-1::after {\r\n  //   background-color: #f00;\r\n  // }\r\n\r\n  // ul li.active::before{\r\n  //     content:'✔';\r\n  // }\r\n  ul li:last-child::after {\r\n    display: none;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/demand/step.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.list.length)?_c('ul',_vm._l((_vm.list),function(process,index){return _c('li',{key:index,class:{'crowdBefore':!!process.index,'active':process.lx == 0,\n        'active-1':process.lx != 0 && process.lczt=='0',\n        'active-2':process.lx != 0 && process.lczt=='1',\n        'active-3':process.lx != 0 && process.lczt=='2'\n        }},[_c('div',[_vm._v(_vm._s(process.mc))])])})):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4416ea36\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/demand/step.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4416ea36\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./step.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./step.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./step.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4416ea36\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./step.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4416ea36\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/demand/step.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dialog-container\"},[_c('el-dialog',{attrs:{\"title\":\"我要提需求\",\"width\":\"1000px\",\"top\":\"30px\",\"visible\":_vm.visible,\"close-on-click-modal\":false,\"show\":_vm.show},on:{\"update:visible\":function($event){_vm.visible=$event},\"close\":function($event){_vm.$emit('update:show', false)}}},[_c('div',{staticClass:\"demand\"},[_c('el-form',{staticClass:\"demo-ruleForm\",staticStyle:{\"width\":\"950px\",\"margin\":\"0 auto\"},attrs:{\"model\":_vm.demandData,\"inline\":true,\"size\":\"mini\",\"label-width\":\"135px\"}},[_c('el-form-item',{attrs:{\"label\":\"项目名称\",\"required\":\"\"}},[_c('el-input',{style:({ width: 800 + 'px' }),attrs:{\"size\":\"mini\",\"type\":\"text\",\"readonly\":\"\",\"placeholder\":\"请选择项目\"},model:{value:(_vm.demandData.xmmc),callback:function ($$v) {_vm.$set(_vm.demandData, \"xmmc\", $$v)},expression:\"demandData.xmmc\"}},[_c('el-button',{staticStyle:{\"width\":\"30px\",\"padding\":\"0 12px\"},attrs:{\"slot\":\"append\",\"disabled\":_vm.Type == 'disabled',\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":_vm.adddemandtItem},slot:\"append\"})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"项目状态\",\"required\":\"\"}},[_c('el-input',{staticStyle:{\"width\":\"325px\"},attrs:{\"size\":\"mini\",\"type\":\"text\",\"readonly\":\"\"},model:{value:(_vm.xmzt),callback:function ($$v) {_vm.xmzt=$$v},expression:\"xmzt\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"需求分类\",\"required\":\"\"}},[_c('el-select',{staticStyle:{\"width\":\"325px\"},attrs:{\"size\":\"mini\",\"placeholder\":\"请选择需求分类\"},model:{value:(_vm.demandData.xqfl),callback:function ($$v) {_vm.$set(_vm.demandData, \"xqfl\", $$v)},expression:\"demandData.xqfl\"}},_vm._l((_vm.xqflList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.mc,\"value\":item.label}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"提出老师\",\"required\":\"\"}},[_c('el-select',{staticStyle:{\"width\":\"800px\"},attrs:{\"size\":\"mini\",\"multiple\":\"\",\"placeholder\":\"请选择提出老师\"},model:{value:(_vm.teacherData),callback:function ($$v) {_vm.teacherData=$$v},expression:\"teacherData\"}},_vm._l((_vm.tclsList),function(tcls,index){return _c('el-option',{key:index,attrs:{\"label\":tcls.username,\"value\":tcls.userid+','+tcls.username}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否线上\",\"required\":\"\"}},[_c('el-select',{staticStyle:{\"width\":\"325px\"},attrs:{\"size\":\"mini\",\"placeholder\":\"请选择是否线上\"},model:{value:(_vm.demandData.sfsx),callback:function ($$v) {_vm.$set(_vm.demandData, \"sfsx\", $$v)},expression:\"demandData.sfsx\"}},_vm._l((_vm.sfxsList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.mc,\"value\":item.label}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"模块\",\"required\":\"\"}},[_c('el-cascader',{staticStyle:{\"width\":\"325px\"},attrs:{\"size\":\"mini\",\"props\":_vm.defaultProps,\"options\":_vm.options,\"show-all-levels\":false},on:{\"change\":_vm.handleItemChange},model:{value:(_vm.val),callback:function ($$v) {_vm.val=$$v},expression:\"val\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"CROWD业务线\",\"required\":\"\"}},[_c('el-select',{staticStyle:{\"width\":\"325px\"},attrs:{\"size\":\"mini\",\"placeholder\":\"请选择CROWD业务线\"},on:{\"change\":_vm.handleChangeCrowdYwx},model:{value:(_vm.demandData.crowdywxbh),callback:function ($$v) {_vm.$set(_vm.demandData, \"crowdywxbh\", $$v)},expression:\"demandData.crowdywxbh\"}},_vm._l((_vm.crowdywxList),function(ywx,index){return _c('el-option',{key:index,attrs:{\"label\":ywx.lbmc,\"value\":ywx.lbdm}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"CROWD产品\",\"required\":\"\"}},[_c('el-select',{staticStyle:{\"width\":\"325px\"},attrs:{\"size\":\"mini\",\"placeholder\":\"请选择CROWD产品\"},on:{\"change\":_vm.handleChangeCrowdCp},model:{value:(_vm.demandData.crowdcpbh),callback:function ($$v) {_vm.$set(_vm.demandData, \"crowdcpbh\", $$v)},expression:\"demandData.crowdcpbh\"}},_vm._l((_vm.crowdcpList),function(cp,index){return _c('el-option',{key:index,attrs:{\"label\":cp.lbmc,\"value\":cp.lbdm}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"期望设计完成日期\",\"required\":\"\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"325px\"},attrs:{\"picker-options\":_vm.pickerBeginDateBefore,\"clearable\":false,\"size\":\"mini\",\"type\":\"date\",\"placeholder\":\"选择日期\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\"},on:{\"change\":_vm.handleChangeQwwcrq},model:{value:(_vm.demandData.qwsjwcrq),callback:function ($$v) {_vm.$set(_vm.demandData, \"qwsjwcrq\", $$v)},expression:\"demandData.qwsjwcrq\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"期望开发交付日期\",\"required\":\"\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"325px\"},attrs:{\"picker-options\":_vm.pickerBeginDateBefore,\"clearable\":false,\"size\":\"mini\",\"type\":\"date\",\"placeholder\":\"选择日期\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\"},on:{\"change\":_vm.handleChangeQwjfrq},model:{value:(_vm.demandData.qwkfjfrq),callback:function ($$v) {_vm.$set(_vm.demandData, \"qwkfjfrq\", $$v)},expression:\"demandData.qwkfjfrq\"}})],1),_vm._v(\" \"),(_vm.demandData.xqfl != 1)?_c('el-form-item',{attrs:{\"label\":\"关联需求\",\"required\":\"\"}},[_c('el-input',{staticStyle:{\"width\":\"800px\"},attrs:{\"type\":\"text\",\"readonly\":\"\",\"placeholder\":\"请选择需求\"},model:{value:(_vm.glxqMc),callback:function ($$v) {_vm.glxqMc=$$v},expression:\"glxqMc\"}},[_c('el-button',{staticStyle:{\"width\":\"30px\",\"padding\":\"0 12px\"},attrs:{\"slot\":\"append\",\"disabled\":_vm.Type == 'disabled'||_vm.Type == 'editDisabled' || !_vm.demandData.xmbh,\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":_vm.handleRelaseDemand},slot:\"append\"})],1)],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"需求标题\",\"required\":\"\"}},[_c('el-input',{staticStyle:{\"width\":\"800px\"},attrs:{\"size\":\"mini\",\"type\":\"text\",\"placeholder\":\"标题\"},model:{value:(_vm.demandData.bt),callback:function ($$v) {_vm.$set(_vm.demandData, \"bt\", $$v)},expression:\"demandData.bt\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"需求附件\",\"required\":\"\"}},[_c('uploadFile',{attrs:{\"Type\":'demand',\"istb\":_vm.isClearFile},on:{\"handleUploadFile\":_vm.handleUploadFile}}),_vm._v(\" \"),(!!_vm.fwznfjMc && _vm.Type.includes('edit'))?_c('p',{staticClass:\"file\"},[_vm._v(\"\\n            \"+_vm._s(_vm.fwznfjMc)+\"\\n            \"),_c('i',{staticClass:\"el-icon-close\",on:{\"click\":_vm.handleRemoveFwznfj}})]):_vm._e()],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"demand-textarea\"},[_c('p',[_vm._v(\"需求描述\")]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"summernoteTT\"}})]),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"right\",\"width\":\"100%\",\"margin\":\"10px 0\",\"padding\":\"0 20px\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.handleCommit}},[_vm._v(\"确认提交\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"取消\")])],1)],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"选择项目\",\"visible\":_vm.dialogdemandVisible,\"close-on-click-modal\":false,\"width\":\"800px\",\"top\":\"30px\",\"append-to-body\":\"\"},on:{\"update:visible\":function($event){_vm.dialogdemandVisible=$event}}},[_c('div',{staticStyle:{\"padding\":\"10px\"}},[_c('itemChoose',{on:{\"handleEdit\":_vm.handleEdit}})],1)]),_vm._v(\" \"),_c('xqlistDilog',{attrs:{\"show\":_vm.demandListVisible,\"xmbh\":_vm.demandData.xmbh},on:{\"update:show\":function($event){_vm.demandListVisible=$event},\"handleChooseDemand\":_vm.handleChooseDemand}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0314360a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/BusinessPage/demand/xq-dialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0314360a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./xq-dialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./xq-dialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./xq-dialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0314360a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./xq-dialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0314360a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/BusinessPage/demand/xq-dialog.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"demand-pannel\">\r\n    <div class=\"list pull-left\">\r\n      <div class=\"pannelPaddingBg-10 \">\r\n        <div>\r\n          <span class=\"query-title\">\r\n            <span :class=\"{ 'isshown-query': true, 'el-icon-arrow-up': !queryLJshow, 'el-icon-arrow-down': queryLJshow }\"\r\n              @click=\"handleQueryShow\"></span>\r\n            &nbsp;高级查询\r\n          </span>\r\n          <el-input v-model=\"filterData.keyword\" style=\"width:493px;\" size=\"mini\" placeholder=\"请输入问题提出人姓名/工号/手机号/标题/项目编号/项目名称/学校名称\"\r\n            @change=\"handleQuery\"></el-input>\r\n          &#x3000;\r\n          <el-button type=\"primary\" size=\"mini\" @click=\"handleQuery\">查询</el-button>&#x3000;\r\n          <el-button type=\"primary\" size=\"mini\" @click=\"handleExport\">导出</el-button>\r\n        </div>\r\n        <div v-show=\"queryLJshow\">\r\n          <div class=\"mg-12\" flex>\r\n            <p class=\"query-title\">需求分类:</p>\r\n            <p class=\"query-list\">\r\n              <span :class=\"{ 'bg-active': filterData.xqfl == '' }\" @click=\"handleChangeXqfl('')\">全部</span>\r\n              <span v-for=\"(xqfl, index) in xqflList\" @click=\"handleChangeXqfl(xqfl.label)\" :key=\"index\" :class=\"{ 'bg-active': filterData.xqfl == xqfl.label }\">\r\n                {{ xqfl.mc }}\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div flex>\r\n            <p class=\"query-title\">查询状态:</p>\r\n            <p class=\"query-list\">\r\n              <span :class=\"{ 'bg-active': filterData.xqzt == '' }\" @click=\"handleChangexqzt('')\">全部</span>\r\n              <span v-for=\"(xqzt, index) in xqztList\" @click=\"handleChangexqzt(xqzt.label)\" :key=\"index\" :class=\"{ 'bg-active': filterData.xqzt == xqzt.label }\">\r\n                {{ xqzt.mc }}\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div class=\"mg-12\" flex>\r\n            <p class=\"query-title\">需求类型:</p>\r\n            <p class=\"query-list\">\r\n              <span :class=\"{ 'bg-active': filterData.xqlx == '' }\" @click=\"handleChangeXqlx('')\">全部</span>\r\n              <span v-for=\"(xqlx, index) in xqlxList\" @click=\"handleChangeXqlx(xqlx.label)\" :key=\"index\" :class=\"{ 'bg-active': filterData.xqlx == xqlx.label }\">\r\n                {{ xqlx.mc }}\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div flex>\r\n            <p class=\"query-title\">产品:</p>\r\n            <p  style=\"width:90%\">\r\n              <el-cascader size=\"mini\" style=\"width:325px\" v-model=\"val\" :props=\"defaultProps\" :options=\"xmcpList\" @change=\"handleItemChange\"\r\n              :show-all-levels=\"false\" change-on-select></el-cascader>\r\n\r\n              <!-- <el-button size=\"mini\" type=\"primary\" @click=\"handleCheckALLcp\">查询全部</el-button> -->\r\n            </p>\r\n          </div>\r\n          <div flex class=\"mg-12\" v-if=\"groupTag.includes('JZGCRY')||groupTag.includes('JYGL')\">\r\n            <p class=\"query-title\">区域工程:</p>\r\n            <p class=\"query-list\" style=\"width:90%;\">\r\n              <span :class=\"{ 'bg-active': filterData.gczd == '' }\" @click=\"handleChangeGczd('')\">全部</span>\r\n              <span v-for=\"(gczd, index) in gczdList\" @click=\"handleChangeGczd(gczd.label)\" :key=\"index\" :class=\"{ 'bg-active': filterData.gczd == gczd.label }\">\r\n                {{ gczd.mc }}\r\n              </span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"pannelPaddingBg-10 mg-12\">\r\n        <ul class=\"demand-list\">\r\n          <li flex v-for=\"(item, index) in dataList\" :key=\"index\">\r\n            <div class=\"demand-list_bgimg\" center>{{item.cpjc}}</div>\r\n            <div class=\"demand-list-info\" flex-column spacebetween>\r\n              <span><a :href=\"'#/demand/detail?id='+item.wid\" target=\"_blank\" >{{item.bt}}</a></span>\r\n              <p>\r\n                {{item.tcsj}} &#x3000; {{item.tcrxm}} &#x3000;&#x3000;\r\n                <span class=\"title\">需求编号：</span>\r\n                {{item.xqbh}} &#x3000;&#x3000;\r\n                <el-tag key=\"1\" type=\"success\" effect=\"plain\" size=\"mini\">{{item.dqlcmc}}</el-tag>\r\n              </p>\r\n              <p>\r\n                <span class=\"title\">提出老师：</span>\r\n                {{item.tcls}} ( {{item.lsdw}} ) &#x3000;&#x3000;\r\n                <span class=\"title\">类型：</span>\r\n                {{item.xqfl==1?'需求':item.xqfl==2?'BUG':'需求变更'}}&#x3000;&#x3000;\r\n                <span class=\"title\">产品：</span>\r\n                {{item.cpbjmc}}\r\n              </p>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <el-pagination v-if=\"!!dataList.length\" @current-change=\"handleCurrentChange\" :current-page.sync=\"currentPage\"\r\n          :page-size=\"pageSize\" layout=\"total, prev, pager, next\" :total=\"records\"></el-pagination>\r\n\r\n        <div v-if=\"!dataList.length\">\r\n          <emptyContent></emptyContent>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"pannelPaddingBg-10 guid pull-right\">\r\n      <h5>需求工作指南</h5>\r\n      <div>\r\n        <step :list=\"stepDatas\"></step>\r\n      </div>\r\n      <!-- 金智 -->\r\n      <section text-center v-if=\"unitType == 0\">\r\n        <el-button @click=\"handleSendDemand\" type=\"danger\">我要提需求</el-button>\r\n      </section>\r\n      <br>\r\n    </div>\r\n\r\n    <xqDialog :show.sync=\"xqShow\" @handleCommitDemand=\"handleCommitDemand\"></xqDialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {\r\n    getMenu,\r\n    getSession\r\n  } from '@/utils/util.js';\r\n  import step from '@/components/demand/step';\r\n  import xqDialog from '@/views/BusinessPage/demand/xq-dialog';\r\n  import emptyContent from '@/components/BusinessPage/emptyContent';\r\n  export default {\r\n    data() {\r\n      return {\r\n        xqShow: false,\r\n        xqflList: [], //需求分类\r\n        gczdList: [], //区域工程\r\n        xqztList: [], //查询状态\r\n        xqlxList: [], //需求类型\r\n        xmcpList: [], //产品\r\n        queryLJshow: true,\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        records: 0,\r\n        dataList: [],\r\n        stepDatas: [], //流程\r\n        val:[],\r\n        unitType:'',//是否为金智\r\n        groupTag:'',\r\n        defaultProps: {\r\n          value:'id',\r\n          label:'title'\r\n        },\r\n        filterData: {\r\n          xqfl: '', //需求分类\r\n          xqzt: '', //查询状态\r\n          gczd: '',\r\n          xqlx: '', //需求类型\r\n          cp: '',\r\n          keyword: ''\r\n        }\r\n      };\r\n    },\r\n    mounted() {\r\n      //获取工程战队\r\n      if (!getSession('gczd')) {\r\n        getMenu('gczd', this.gczdList, true);\r\n      } else {\r\n        this.gczdList = getSession('gczd');\r\n      }\r\n\r\n      //获取需求分类\r\n      if (!getSession('DemandRelatedType')) {\r\n        getMenu('DemandRelatedType', this.xqflList);\r\n      } else {\r\n        this.xqflList = getSession('DemandRelatedType');\r\n      }\r\n\r\n      //获取需求状态\r\n      if (!getSession('DemandStatus')) {\r\n        getMenu('DemandStatus', this.xqztList);\r\n      } else {\r\n        this.xqztList = getSession('DemandStatus');\r\n      }\r\n\r\n      //获取需求类型\r\n      if (!getSession('DemandType')) {\r\n        getMenu('DemandType', this.xqlxList);\r\n      } else {\r\n        this.xqlxList = getSession('DemandType');\r\n      }\r\n\r\n      this.queryProcessTemplate();\r\n      this.queryPagesDemand();\r\n      this.queryDemandProductTree();\r\n\r\n      this.unitType = JSON.parse(sessionStorage.getItem('userInfo')).unitType;\r\n      this.groupTag = JSON.parse(sessionStorage.getItem('userInfo')).userGroupTag;\r\n\r\n    },\r\n    methods: {\r\n\r\n      // 选择产品\r\n      handleItemChange() {\r\n        let cpData = this.getCascaderObj(this.val, this.xmcpList);\r\n        let length = cpData.length-1;\r\n        this.filterData.cp =  cpData[length].id;\r\n        this.currentPage = 1;\r\n        this.queryPagesDemand();\r\n      },\r\n      handleCheckALLcp(){\r\n        this.filterData.cp = '';\r\n        this.currentPage = 1;\r\n        this.queryPagesDemand();\r\n      },\r\n      // 提需求\r\n      handleSendDemand() {\r\n        this.xqShow = true;\r\n      },\r\n\r\n      // 需求提报成功\r\n      handleCommitDemand() {\r\n        this.queryPagesDemand();\r\n      },\r\n\r\n      // 筛选条件显示\r\n      handleQueryShow() {\r\n        this.queryLJshow = !this.queryLJshow;\r\n      },\r\n      // 导出\r\n      handleExport(){\r\n        window.open(this.API.exportDemands+'?xqfl='+\r\n        this.filterData.xqfl+\r\n        '&xqxglx='+\r\n        this.filterData.xqlx + \r\n        '&xqzt='+\r\n        this.filterData.xqzt +\r\n        '&qygc='+\r\n        this.filterData.gczd +\r\n        '&cpbh='+\r\n        this.filterData.cp +\r\n        '&keyword='+\r\n        this.filterData.keyword \r\n        )\r\n      },\r\n      //  查询\r\n      handleQuery() {\r\n        this.currentPage = 1;\r\n        this.queryPagesDemand();\r\n      },\r\n\r\n      // 切换页数\r\n      handleCurrentChange(data) {\r\n        this.currentPage = data;\r\n        this.queryPagesDemand();\r\n      },\r\n\r\n      // 需求分类\r\n      handleChangeXqfl(data) {\r\n        this.filterData.xqfl = data;\r\n        this.currentPage = 1;\r\n        this.queryPagesDemand();\r\n      },\r\n      // 查询状态\r\n      handleChangexqzt(data) {\r\n        this.filterData.xqzt = data;\r\n        this.currentPage = 1;\r\n        this.queryPagesDemand();\r\n      },\r\n      // 需求类型\r\n      handleChangeXqlx(data) {\r\n        this.filterData.xqlx = data;\r\n        this.currentPage = 1;\r\n        this.queryPagesDemand();\r\n      },\r\n      // 产品\r\n      handleChangeCp(data) {\r\n        this.filterData.cp = data;\r\n        this.currentPage = 1;\r\n        this.queryPagesDemand();\r\n      },\r\n      // 工程战队\r\n      handleChangeGczd(data) {\r\n        this.filterData.gczd = data;\r\n        this.currentPage = 1;\r\n        this.queryPagesDemand();\r\n      },\r\n\r\n      getCascaderObj(val, opt) {\r\n        return val.map(function(value, index, array) {\r\n          for (var itm of opt) {\r\n            if (itm.id == value) {\r\n              opt = itm.children;\r\n              return itm;\r\n            }\r\n          }\r\n          return null;\r\n        });\r\n      },\r\n      //  查询需求列表\r\n      queryPagesDemand() {\r\n        this.$get(this.API.queryPageDemands, {\r\n          curPage: this.currentPage,\r\n          pageSize: this.pageSize,\r\n          xqzt:this.filterData.xqzt,\r\n          xqxglx: this.filterData.xqfl,\r\n          xqlx: this.filterData.xqlx,\r\n          qygc: this.filterData.gczd,\r\n          mkbh: this.filterData.cp,\r\n          keyword: this.filterData.keyword\r\n        }).then(res => {\r\n          if (res.state == 'success') {\r\n            if (!!res.data.rows) {\r\n              // let dataArr = res.data.rows;\r\n              // dataArr.forEach((ele,i,arr)=>{\r\n              //     this.$get(this.API.getDictEnum,{\r\n              //       name: 'DemandType',\r\n              //       code: ele.xqfl\r\n              //     }).then(res=>{\r\n              //       if(res.state == 'success'){\r\n              //         dataArr[i].xqfl_display = res.data;\r\n              //         // this.$set(res.data.rows[i],'.xqfl_display',res.data);\r\n              //       }\r\n              //     })\r\n              //   })\r\n                this.dataList = res.data.rows;\r\n            } else {\r\n              this.dataList = [];\r\n            }\r\n            this.records = res.data.records;\r\n          } else {\r\n            this.$message({message: res.msg,type: 'error'});\r\n          }\r\n        })\r\n      },\r\n\r\n      // 获取流程模板\r\n      queryProcessTemplate() {\r\n        this.$get(this.API.demandProcessTemplate, {\r\n          zbwid: ''\r\n        }).then(res => {\r\n          if (res.state == 'success') {\r\n            this.stepDatas = res.data;\r\n          } else {\r\n            this.$message({\r\n              message: res.msg,\r\n              type: 'error'\r\n            });\r\n          }\r\n        })\r\n      },\r\n      \r\n\r\n      queryDemandProductTree() {\r\n        this.xmcpList = [];\r\n        this.$get(this.API.demandProductTree, {}).then(res => {\r\n            if (res.state == 'success') {\r\n              this.xmcpList = res.data;\r\n              this.xmcpList.unshift({id: \"\",\r\n                      isExpand: 0,\r\n                      isOptional: 0,\r\n                      level: 0,\r\n                      parentId: \"\",\r\n                      sortCode: 1,\r\n                      title: \"全部\"\r\n                  })\r\n            } else {\r\n\r\n            }\r\n        })\r\n      }\r\n    },\r\n    components: {\r\n      step,\r\n      xqDialog,\r\n      emptyContent\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .demand-pannel {\r\n    width: 85%;\r\n    margin: 20px auto 0;\r\n\r\n    .isshown-query {\r\n      &:hover {\r\n        cursor: pointer;\r\n      }\r\n    }\r\n\r\n    .demand-list {\r\n      li {\r\n        border-bottom: 1px solid #dddddd;\r\n        padding: 20px 12px;\r\n      }\r\n\r\n      .demand-list_bgimg {\r\n        width: 114px;\r\n        height: 74px;\r\n        background:url('../../../../static/img/ywxbk.png');\r\n        color: #fff;\r\n        font-weight: 700;\r\n        font-size: 14px;\r\n        padding: 0 5px;\r\n      }\r\n\r\n      .demand-list-info {\r\n        padding: 0 20px;\r\n\r\n        a {\r\n          font-size: 16px;\r\n        }\r\n\r\n        .title {\r\n          color: #999;\r\n        }\r\n      }\r\n    }\r\n\r\n    .list {\r\n      width: 75%;\r\n    }\r\n\r\n    .guid {\r\n      min-width: 20%;\r\n\r\n      h5 {\r\n        border-bottom: 1px solid #999;\r\n        text-align: center;\r\n        padding: 10px 0;\r\n        font-weight: 700 !important;\r\n      }\r\n\r\n      >div {\r\n        padding: 20px 0 0 40px;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/BusinessPage/demand/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"demand-pannel\"},[_c('div',{staticClass:\"list pull-left\"},[_c('div',{staticClass:\"pannelPaddingBg-10 \"},[_c('div',[_c('span',{staticClass:\"query-title\"},[_c('span',{class:{ 'isshown-query': true, 'el-icon-arrow-up': !_vm.queryLJshow, 'el-icon-arrow-down': _vm.queryLJshow },on:{\"click\":_vm.handleQueryShow}}),_vm._v(\"\\n           高级查询\\n        \")]),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"493px\"},attrs:{\"size\":\"mini\",\"placeholder\":\"请输入问题提出人姓名/工号/手机号/标题/项目编号/项目名称/学校名称\"},on:{\"change\":_vm.handleQuery},model:{value:(_vm.filterData.keyword),callback:function ($$v) {_vm.$set(_vm.filterData, \"keyword\", $$v)},expression:\"filterData.keyword\"}}),_vm._v(\"\\n        　\\n        \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.handleQuery}},[_vm._v(\"查询\")]),_vm._v(\"　\\n        \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.handleExport}},[_vm._v(\"导出\")])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.queryLJshow),expression:\"queryLJshow\"}]},[_c('div',{staticClass:\"mg-12\",attrs:{\"flex\":\"\"}},[_c('p',{staticClass:\"query-title\"},[_vm._v(\"需求分类:\")]),_vm._v(\" \"),_c('p',{staticClass:\"query-list\"},[_c('span',{class:{ 'bg-active': _vm.filterData.xqfl == '' },on:{\"click\":function($event){_vm.handleChangeXqfl('')}}},[_vm._v(\"全部\")]),_vm._v(\" \"),_vm._l((_vm.xqflList),function(xqfl,index){return _c('span',{key:index,class:{ 'bg-active': _vm.filterData.xqfl == xqfl.label },on:{\"click\":function($event){_vm.handleChangeXqfl(xqfl.label)}}},[_vm._v(\"\\n              \"+_vm._s(xqfl.mc)+\"\\n            \")])})],2)]),_vm._v(\" \"),_c('div',{attrs:{\"flex\":\"\"}},[_c('p',{staticClass:\"query-title\"},[_vm._v(\"查询状态:\")]),_vm._v(\" \"),_c('p',{staticClass:\"query-list\"},[_c('span',{class:{ 'bg-active': _vm.filterData.xqzt == '' },on:{\"click\":function($event){_vm.handleChangexqzt('')}}},[_vm._v(\"全部\")]),_vm._v(\" \"),_vm._l((_vm.xqztList),function(xqzt,index){return _c('span',{key:index,class:{ 'bg-active': _vm.filterData.xqzt == xqzt.label },on:{\"click\":function($event){_vm.handleChangexqzt(xqzt.label)}}},[_vm._v(\"\\n              \"+_vm._s(xqzt.mc)+\"\\n            \")])})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"mg-12\",attrs:{\"flex\":\"\"}},[_c('p',{staticClass:\"query-title\"},[_vm._v(\"需求类型:\")]),_vm._v(\" \"),_c('p',{staticClass:\"query-list\"},[_c('span',{class:{ 'bg-active': _vm.filterData.xqlx == '' },on:{\"click\":function($event){_vm.handleChangeXqlx('')}}},[_vm._v(\"全部\")]),_vm._v(\" \"),_vm._l((_vm.xqlxList),function(xqlx,index){return _c('span',{key:index,class:{ 'bg-active': _vm.filterData.xqlx == xqlx.label },on:{\"click\":function($event){_vm.handleChangeXqlx(xqlx.label)}}},[_vm._v(\"\\n              \"+_vm._s(xqlx.mc)+\"\\n            \")])})],2)]),_vm._v(\" \"),_c('div',{attrs:{\"flex\":\"\"}},[_c('p',{staticClass:\"query-title\"},[_vm._v(\"产品:\")]),_vm._v(\" \"),_c('p',{staticStyle:{\"width\":\"90%\"}},[_c('el-cascader',{staticStyle:{\"width\":\"325px\"},attrs:{\"size\":\"mini\",\"props\":_vm.defaultProps,\"options\":_vm.xmcpList,\"show-all-levels\":false,\"change-on-select\":\"\"},on:{\"change\":_vm.handleItemChange},model:{value:(_vm.val),callback:function ($$v) {_vm.val=$$v},expression:\"val\"}})],1)]),_vm._v(\" \"),(_vm.groupTag.includes('JZGCRY')||_vm.groupTag.includes('JYGL'))?_c('div',{staticClass:\"mg-12\",attrs:{\"flex\":\"\"}},[_c('p',{staticClass:\"query-title\"},[_vm._v(\"区域工程:\")]),_vm._v(\" \"),_c('p',{staticClass:\"query-list\",staticStyle:{\"width\":\"90%\"}},[_c('span',{class:{ 'bg-active': _vm.filterData.gczd == '' },on:{\"click\":function($event){_vm.handleChangeGczd('')}}},[_vm._v(\"全部\")]),_vm._v(\" \"),_vm._l((_vm.gczdList),function(gczd,index){return _c('span',{key:index,class:{ 'bg-active': _vm.filterData.gczd == gczd.label },on:{\"click\":function($event){_vm.handleChangeGczd(gczd.label)}}},[_vm._v(\"\\n              \"+_vm._s(gczd.mc)+\"\\n            \")])})],2)]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"pannelPaddingBg-10 mg-12\"},[_c('ul',{staticClass:\"demand-list\"},_vm._l((_vm.dataList),function(item,index){return _c('li',{key:index,attrs:{\"flex\":\"\"}},[_c('div',{staticClass:\"demand-list_bgimg\",attrs:{\"center\":\"\"}},[_vm._v(_vm._s(item.cpjc))]),_vm._v(\" \"),_c('div',{staticClass:\"demand-list-info\",attrs:{\"flex-column\":\"\",\"spacebetween\":\"\"}},[_c('span',[_c('a',{attrs:{\"href\":'#/demand/detail?id='+item.wid,\"target\":\"_blank\"}},[_vm._v(_vm._s(item.bt))])]),_vm._v(\" \"),_c('p',[_vm._v(\"\\n              \"+_vm._s(item.tcsj)+\" 　 \"+_vm._s(item.tcrxm)+\" 　　\\n              \"),_c('span',{staticClass:\"title\"},[_vm._v(\"需求编号：\")]),_vm._v(\"\\n              \"+_vm._s(item.xqbh)+\" 　　\\n              \"),_c('el-tag',{key:\"1\",attrs:{\"type\":\"success\",\"effect\":\"plain\",\"size\":\"mini\"}},[_vm._v(_vm._s(item.dqlcmc))])],1),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"title\"},[_vm._v(\"提出老师：\")]),_vm._v(\"\\n              \"+_vm._s(item.tcls)+\" ( \"+_vm._s(item.lsdw)+\" ) 　　\\n              \"),_c('span',{staticClass:\"title\"},[_vm._v(\"类型：\")]),_vm._v(\"\\n              \"+_vm._s(item.xqfl==1?'需求':item.xqfl==2?'BUG':'需求变更')+\"　　\\n              \"),_c('span',{staticClass:\"title\"},[_vm._v(\"产品：\")]),_vm._v(\"\\n              \"+_vm._s(item.cpbjmc)+\"\\n            \")])])])})),_vm._v(\" \"),(!!_vm.dataList.length)?_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"layout\":\"total, prev, pager, next\",\"total\":_vm.records},on:{\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event}}}):_vm._e(),_vm._v(\" \"),(!_vm.dataList.length)?_c('div',[_c('emptyContent')],1):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"pannelPaddingBg-10 guid pull-right\"},[_c('h5',[_vm._v(\"需求工作指南\")]),_vm._v(\" \"),_c('div',[_c('step',{attrs:{\"list\":_vm.stepDatas}})],1),_vm._v(\" \"),(_vm.unitType == 0)?_c('section',{attrs:{\"text-center\":\"\"}},[_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.handleSendDemand}},[_vm._v(\"我要提需求\")])],1):_vm._e(),_vm._v(\" \"),_c('br')]),_vm._v(\" \"),_c('xqDialog',{attrs:{\"show\":_vm.xqShow},on:{\"update:show\":function($event){_vm.xqShow=$event},\"handleCommitDemand\":_vm.handleCommitDemand}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2b4ac274\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/BusinessPage/demand/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2b4ac274\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2b4ac274\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2b4ac274\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/BusinessPage/demand/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}